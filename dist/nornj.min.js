!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.NornJ=n():e.NornJ=n()}(this,function(){return function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};return n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=17)}([function(e,n,r){"use strict";function t(){return t["tmplTag"+(t.outputH?"H":"")].apply(null,arguments)}n.a=t,t.createElement=null,t.components={},t.asts={},t.templates={},t.tmplStrs={},t.errorTitle="[NornJ]",t.tmplRule={},t.outputH=!1},function(e,n,r){"use strict";function t(e,n){return y.apply(e,n),e}function a(e,n,r){return j.call(e,n,r)}function i(e){return Array.isArray(e)}function u(e){var n=void 0===e?"undefined":_(e);return!i(e)&&("function"===n||"object"===n&&!!e)}function o(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return function(n){return null==n?void 0:n[e]}}function p(e){var n=R(e);return"number"==typeof n&&n>=0}function s(e,n,r,t){if(e)if(null==t&&(t=p(e)),r=r?r:e,t)for(var a=0,i=e.length;i>a;a++){var u=n.call(r,e[a],a,i);if(u===!1)break}else for(var o=Object.keys(e),l=o.length,s=0;l>s;s++){var f=o[s],c=n.call(r,e[f],f,s,l);if(c===!1)break}}function f(e){return e.replace(C,"")}function c(){}function v(e,n,r){if(!e)switch(r){case"expr":throw Error(S+'Expression "'+n+'" is undefined, please check it has been registered.');default:throw Error(S+(n||e))}}function d(e,n){var r=S;switch(n){case"filter":r+='A filter called "'+e+'" is undefined.';break;default:r+=e}console.warn(r)}function m(){return Object.create(null)}function g(e,n){if(null!=e){var r=void 0;if(null==n){var t=e[0];"'"===t?r=T:'"'===t&&(r=E)}else r=n?E:T;return r&&(e=e.replace(r,"")),e}}function x(e){return e.indexOf("-")>-1&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}var h=r(0);r.d(n,"b",function(){return P}),r.d(n,"c",function(){return w}),n.d=t,n.e=a,n.f=i,n.g=u,n.h=o,n.i=p,n.j=s,n.q=f,n.k=c,n.o=v,n.p=d,n.l=m,n.n=g,n.m=x,r.d(n,"a",function(){return k});var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=Array.prototype.push,j=Array.prototype.slice,b=Object.prototype.hasOwnProperty,S=h.a.errorTitle,P=Object.defineProperty,w=Object.defineProperties,R=l("length"),C=/[\s\xA0]+$/,E=/["]+/g,T=/[']+/g,k=Object.assign||function(e){for(var n=1,r=arguments;r.length>n;n++){var t=r[n];for(var a in t)b.call(t,a)&&(e[a]=t[a])}return e};k(h.a,{defineProp:P,defineProps:w,arrayPush:t,arraySlice:a,isArray:i,isObject:u,isString:o,isArrayLike:p,each:s,noop:c,throwIf:v,warn:d,obj:m,toCamelCase:x,assign:k})},function(e,n,r){"use strict";function t(e){var n={useString:!0,exprProps:!1,isProp:!1,newContext:!0};return e&&(n=u.a(n,e)),n}function a(e,n,r){var a=e;u.g(e)||(a={},a[e]={expr:n,options:r}),u.j(a,function(e,n){if(e){var r=e.expr,a=e.options;r||a?(r&&(l[n]=r),a&&(p[n]=t(a))):l[n]=e}},!1,!1)}var i=r(0),u=r(1),o=r(3);r.d(n,"a",function(){return l}),r.d(n,"b",function(){return p}),n.c=a;var l={if:function(e,n){"false"===e&&(e=!1);var r=void 0,t=void 0;if(r=n.useUnless?!e:!!e)t=n.result();else{var a=n.props;a&&!function(){var e=a.else;a.elseifs?!function(){var n=a.elseifs.length;u.j(a.elseifs,function(r,a){return r.value?(t=r.fn(),!1):void(a===n-1&&e&&(t=e()))},!1,!0)}():e&&(t=e())}()}return n.useString&&null==t?"":t},else:function(e){return e.exprProps.else=e.result},elseif:function(e,n){var r=n.exprProps;r.elseifs||(r.elseifs=[]),r.elseifs.push({value:e,fn:n.result})},switch:function(e,n){var r=void 0,t=n.props,a=t.elseifs.length;return u.j(t.elseifs,function(n,i){return e===n.value?(r=n.fn(),!1):void(i===a-1&&t.else&&(r=t.else()))},!1,!0),r},unless:function(e,n){return n.useUnless=!0,l.if(e,n)},each:function(e,n){var r=n.useString,t=void 0;if(e)!function(){t=r?"":[];var a=n.props;u.j(e,function(e,i,u){var o={data:e,index:i,fallback:!0};a&&a.moreValues&&(o.extra={"@first":0===i,"@last":i===u-1,"@length":u});var l=n.result(o);r?t+=l:t.push(l)},!1,u.i(e)),r||t.length||(t=null)}();else{var a=n.props;a&&a.else&&(t=a.else()),r&&null==t&&(t="")}return t},prop:function(e,n){var r=n.result(),t=void 0;t=void 0!==r?r:!n.useString||e,n.exprProps[n.outputH?o.b(e):e]=t},spread:function(e,n){u.j(e,function(e,r){n.exprProps[r]=e},!1,!1)},for:function(e,n,r){n._njOpts&&(r=n,n=e,e=0);var t=void 0,a=r.useString;for(t=a?"":[];n>=e;e++){var i=r.result({index:e});a?t+=i:t.push(i)}return t},obj:function(e){return e.props},list:function(){var e=arguments,n=e.length-1,r=e[n];if(n>0){var t=u.e(e,0,n);return r.useString&&(t=t.join("")),t}return[r.result()]},block:function(e){return e.result()}},p={if:t({newContext:!1}),else:t({newContext:!1,useString:!1,exprProps:!0}),switch:t({newContext:!1}),unless:t({newContext:!1}),each:t(),prop:t({newContext:!1,exprProps:!0,isProp:!0}),spread:t({newContext:!1,useString:!1,exprProps:!0,isProp:!0}),for:t(),obj:t({newContext:!1,useString:!1})};p.elseif=t(p.else),p.list=t(p.if),p.block=t(p.obj),l.case=l.elseif,p.case=p.elseif,l.default=l.else,p.default=p.else,u.a(i.a,{exprs:l,exprConfig:p,registerExpr:a})},function(e,n,r){"use strict";function t(e){if(v.g(e))return e;for(var n=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g,r=void 0,t=void 0;r=n.exec(e);){var a=r[1],i=r[2];t||(t={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),a=v.m(a),t[a]=i}return t}function a(e,n){var r=void 0,t=void 0;void 0===n&&(n=this.data);for(var a=0,i=n.length;i>a;a++)if(t=n[a],t&&(r=t[e],void 0!==r))return r}function i(e,n){return null==e?e:e._njTmpl?e.call({_njData:n.data,_njParent:n.parent,_njIndex:n.index}):e(n)}function u(e,n){var r=[];return n&&"data"in n&&r.push(n.data),n&&"extra"in n&&r.push(n.extra),{data:r.length?v.d(r,e.data):e.data,parent:n&&n.fallback?e:e.parent,index:n&&"index"in n?n.index:e.index,getData:a}}function o(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function l(e,n){var r="";for(var t in e)if(!n||!n[t]){var a=e[t];r+=" "+t+(t!==a?'="'+a+'"':" ")}return r}function p(e,n,r,t){return function(a){return r(e,n,a,t)}}function s(e,n){return function(){var r=this,t=v.e(arguments);return n(e,{data:r&&r._njData?v.d(t,r._njData):t,parent:r&&r._njParent?r._njParent:null,index:r&&r._njIndex?r._njIndex:null,getData:a})}}function f(e){var n={useString:e.useString,exprs:c.a.exprs,filters:c.a.filters,noop:v.k,obj:v.l,throwIf:v.o,warn:v.p,newContext:u,getComputedData:i,styleProps:t,exprRet:p};return n.useString?(n.assignStringProp=l,n.escape=c.a.escape):(n.h=c.a.createElement,n.components=c.a.components),v.j(e,function(e,r){0===r.indexOf("main")?(n[r]=s(n,e),n[r]._njTmpl=!0,n["_"+r]=e):0===r.indexOf("fn")&&(n[r]=e)},!1,!1),n}var c=r(0),v=r(1);n.b=o,n.a=f},function(e,n,r){"use strict";function t(e){var n={useString:!1};return e&&(n=u.a(n,e)),n}function a(e,n,r){var a=e;u.g(e)||(a={},a[e]={filter:n,options:r}),u.j(a,function(e,n){if(e){var r=e.filter,a=e.options;r||a?(r&&(o[n]=r),a&&(l[n]=t(a))):o[n]=e}},!1,!1)}var i=r(0),u=r(1);r.d(n,"a",function(){return o}),r.d(n,"b",function(){return l}),n.c=a;var o={prop:function(e,n){return null!=e?e[n]:e},"==":function(e,n){return e==n},"===":function(e,n){return e===n},lt:function(e,n){return n>e},lte:function(e,n){return n>=e},gt:function(e,n){return e>n},gte:function(e,n){return e>=n},"+":function(e,n){return e+n},"-":function(e,n){return e-n},"?":function(e,n,r){return e?n:r},"!":function(e){return!val},"&&":function(e,n){return e&&n},or:function(e,n){return e||n},int:function(e){return parseInt(e,10)},float:function(e){return parseFloat(e)},bool:function(e){return"false"!==e&&!!e},"#":function(e,n){if(null!=e){var r=arguments;return e[n].apply(e,u.e(r,2,r.length-1))}return e}},l={prop:t(),"==":t(),"===":t(),lt:t(),lte:t(),gt:t(),gte:t(),"+":t(),"-":t(),"?":t(),"!":t(),"&&":t(),or:t(),int:t(),float:t(),bool:t(),"#":t()};u.a(i.a,{filters:o,filterConfig:l,registerFilter:a})},function(e,n,r){"use strict";function t(e){return null==e?"":e.replace?e.replace(l,function(e){return o[e]}):e}function a(e){return e.replace(s,function(e,n){return p[n]})}var i=r(0),u=r(1);n.a=t,n.b=a;var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},l=/[&><"']/g,p={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&"},s=RegExp("&("+Object.keys(p).join("|")+");","g");r.i(u.a)(i.a,{escape:t,unescape:a})},function(e,n,r){"use strict";function t(e,n){return RegExp(e,n)}function a(e){for(var n="",r=0,t=e.length,a=void 0;t>r;r++)a=e[r],n.indexOf(a)<0&&(n+=a);return n}var i=r(0),u=r(1);n.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.a.tmplRule,r=n.startRule,o=void 0===r?"{{":r,l=n.endRule,p=void 0===l?"}}":l,s=n.exprRule,f=void 0===s?"#":s,c=n.propRule,v=void 0===c?"@":c,d=n.templateRule,m=void 0===d?"template":d,g=n.tagSpRule,x=void 0===g?"#$@":g,h=n.commentRule,_=void 0===h?"#":h,y=e.start,j=e.end,b=e.expr,S=e.prop,P=e.template,w=e.tagSp,R=e.comment;y&&(o=y),j&&(p=j),b&&(f=b),S&&(v=S),P&&(m=P),w&&(x=w),null!=R&&(_=R);var C=a(o+p),E=o[0],T=p[p.length-1],k=a(f+v+x),O=f.replace(/\$/g,"\\$");u.a(i.a.tmplRule,{startRule:o,endRule:p,exprRule:f,propRule:v,templateRule:m,tagSpRule:x,commentRule:_,firstChar:E,lastChar:T,xmlOpenTag:t("^<([a-z"+E+k+"][^\\s>]*)[^>]*>$","i"),openTagParams:t("[\\s]+(((["+E+"]?"+o+")([^"+C+"]+)("+p+"["+T+"]?))|[^\\s=>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?","g"),insideBraceParam:t("(["+E+"]?"+o+")([^"+C+"]+)("+p+"["+T+"]?)","i"),spreadProp:t("[\\s]+(["+E+"]?"+o+")[\\s]*(\\.\\.\\.[^"+C+"]+)("+p+"["+T+"]?)","g"),replaceSplit:t("(?:["+E+"]?"+o+")[^"+C+"]+(?:"+p+"["+T+"]?)"),replaceParam:t("((["+E+"]?"+o+"))([^"+C+"]+)("+p+"["+T+"]?)","g"),checkElem:t("([^>]*)(<([a-z/!"+E+k+"][^\\s>]*)([^>]*)>)([^<]*)","ig"),expr:t("^"+O+"([^\\s]+)","i"),include:t("<"+O+"include([^>]*)>","ig"),newlineSplit:t("\\\\n(?![^"+E+T+"]*"+T+")","g")})}},function(e,n,r){"use strict";function t(e){var n=""+e,r=d[n],t=!!this&&this.outputH;r||!function(){var t=c.h(e),u=t?[e]:e,o=u.length,l="";c.j(u,function(e,n){var r="";if(o-1>n){var t=e.length-1,a=e[t],i="#"===a;i&&(e=e.substr(0,t)),r=v.startRule+(i?"#":"")+m+n+v.endRule}l+=e+r},!1,!0),l=i(l),r=a(l),c.b(r,"_njParamCount",{value:o-1}),d[n]=r}();var u=void 0,o=arguments,l=r._njParamCount;if(l>0){u={};for(var p=0;l>p;p++)u[m+p]=o[p+1]}var s=function e(){return f.a["compile"+(t?"H":"")](e,n).apply(this,u?c.d([u],arguments):arguments)};return c.c(s,{_njTmpl:{value:r},_njTmplKey:{value:n},_njParams:{value:u}}),s}function a(e){for(var n=[],r={elem:n,elemName:"root",parent:null},t=null,a=v.checkElem,i=void 0;i=a.exec(e);){var l=i[1],f=i[2],c=i[3],d=i[4],m=i[5];l&&"\n"!==l&&(l=u(l),s(l,r.elem)),f&&(0===f.indexOf("<!")?s(u(f),r.elem):"/"===c[0]?c==="/"+r.elemName&&(r=r.parent):"/"===f[f.length-2]?p(f,c,d,r.elem):(t=r,r={elem:[],elemName:c,parent:t},t.elem.push(r.elem),o(f,c,d,r.elem))),m&&"\n"!==m&&(m=u(m),s(m,r.elem))}return n}function i(e){var n=v.commentRule;return e.replace(RegExp("<!--"+n+"[\\s\\S]*?"+n+"-->","g"),"").replace(/\|[\s]*((>|<|>=|<=|\|\|)\()/g,function(e,n){return"| "+g[n]})}function u(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"")}function o(e,n,r,t,a){var i=void 0,u=void 0;if(n[0]===v.exprRule)i=e.substring(1,e.length-1);else if(0===n.indexOf(v.propRule))i=v.exprRule+"prop "+v.startRule+"'"+n.substr(v.propRule.length)+"'"+v.endRule+r;else{var o=l(e);i=o.elem,u=o.params}if(a){var p=[i];u&&p.push(u),t.push(p)}else t.push(i),u&&t.push(u)}function l(e){var n=v.exprRule,r=v.startRule,t=v.endRule,a=void 0;return e=e.replace(v.spreadProp,function(e,i,u){return u=u.trim(),a||(a=[n+"props"]),a.push([n+"spread "+r+u.replace(/\.\.\./g,"")+t+"/"])," "}),{elem:e,params:a}}function p(e,n,r,t){o(e,n,r,t,!0)}function s(e,n){n.push(e)}var f=r(0),c=r(1);r(8);n.a=t;var v=f.a.tmplRule,d=f.a.tmplStrs,m="_nj_split",g={">(":"gt(","<(":"lt(",">=(":"gte(","<=(":"lte(","||(":"or("}},function(e,n,r){"use strict";function t(e){return _.xmlOpenTag.exec(e)}function a(e){return y.test(e)}function i(e){return j[e.toLowerCase()]}function u(e){for(var n=_.openTagParams,r=void 0,t=void 0;r=n.exec(e);){var a=r[1];if("/"!==a){t||(t=[]);var i=r[7],u=r[4];i=null!=i?g.n(i):a,/\/>$/.test(i)?i=i.substr(0,i.length-2):(/>$/.test(i)||/\/$/.test(i))&&(i=i.substr(0,i.length-1)),t.push({key:a,value:i,onlyBrace:u})}}return t}function o(e,n){return g.h(e)&&e.toLowerCase()==="</"+n+">"}function l(e){return _.insideBraceParam.exec(e)}function p(e){var n=void 0,r=_.expr.exec(e);if(r){n=[r[1]];var t=u(e);t&&n.push(t)}return n}function s(e){return"tmpl"===e}function f(e,n,r){var t=n.params;t||(t=n.params=g.l());var a=t.tmpls;if(a){var i=a.strs[0],u=i.length;null!=r?i[r]=e:(i[u]=e,i.length=++u)}else{var o={length:0};null!=r?o[r]=e:(o[0]=e,o.length=1),t.tmpls=x.a(o)}}function c(e){return"params"===e||"props"===e}function v(e,n,r){if(n.paramsExpr)g.d(n.paramsExpr.content,r?[e]:e.content);else{var t=void 0;t=r?{type:"nj_expr",expr:"props",content:[e]}:e,n.paramsExpr=t}}function d(e){var n=h.b[e];return{isExprProp:!!n&&n.exprProps,isProp:!!n&&n.isProp}}var m=r(0),g=r(1),x=r(9),h=r(2);n.b=t,n.c=a,n.j=i,n.i=u,n.d=o,n.h=l,n.a=p,n.e=s,n.k=f,n.f=c,n.l=v,n.g=d;var _=m.a.tmplRule,y=/^<[^>]+\/>$/i,j={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,n,r){"use strict";function t(e){var n=l.l();e.indexOf("|")<0||!function(){var r=[],i=void 0;i=e.split("|"),e=i[0].trim(),i=i.slice(1),l.j(i,function(e){var n=a(e.trim()),i=l.l(),u=n[1];if(u){var o=n[3];o&&!function(){var e=[];l.j(o.split(","),function(n){e[e.length]=t(n.trim())},!1,!0),i.params=e}(),i.name=u,r.push(i)}},!1,!0),n.filters=r}(),0===e.indexOf("../")&&!function(){var r=0;e=e.replace(/\.\.\//g,function(){return r++,""}),n.parentNum=r}(),e=s.exec(e);var r=e[7];return n.name=r?e[8]:e[1],n.jsProp=e[9],e[8]||(n.isBasicType=!0),r&&(n.isComputed=!0),n}function a(e){return f.exec(e)}function i(e,n){for(var r=p.replaceParam,t=void 0,a=void 0,i=0;t=r.exec(e);){a||(a=[]);var u=t[3],o=[t[0],t[1],null,!0];i>0&&(o[3]=!1),u=u.trim(),o[2]=u,a.push(o),i++}return a}function u(e){var n=l.l(),r=l.h(e)?e.split(p.replaceSplit):[e],a=null,u=!1;if(r.length>1){var o=i(e,r);a=[],l.j(o,function(n){var r=l.l();u=!!n[3]&&n[0]===e,r.prop=t(n[2]),r.escape=n[1]!==p.firstChar+p.startRule,a.push(r)},!1,!0)}return n.props=a,n.strs=r,n.isAll=u,n}var o=r(0),l=r(1);n.a=u;var p=o.a.tmplRule,s=/(('[^']*')|("[^"]*")|(-?([0-9][0-9]*)(\.\d+)?)|true|false|null|undefined|([#]*)([^.[\]()]+))([^\s()]*)/,f=/([^\s()]+)(\(([^()]+)\))*/},function(e,n,r){"use strict";function t(e){return function(n,t,i){if(n){if(l.g(t)){var u=t;t=u.tmplKey,i=u.fileName}var v=void 0;if(t&&(v=o.a.templates[t]),!v){var d=l.g(n),m=void 0;if(d&&n.main)m=n;else{var g=void 0;if(t&&(g=o.a.asts[t]),!g){if(d&&"nj_root"===n.type)g=n;else{if(g=a(),l.h(n)){var x=o.a.includeParser;x&&(n=x(n,i)),n=r.i(c.a)(n)}r.i(p.a)(n._njTmpl,g)}t&&(o.a.asts[t]=g)}m=r.i(f.a)(g.content,!e)}v=s.a(m),t&&(o.a.templates[t]=v)}if(n._njParams){var h=function(){return v.main.apply(this,l.d([n._njParams],arguments))};return l.b(h,"_njTmpl",{value:!0}),h}return v.main}}}function a(){var e=l.l();return e.type="nj_root",e.content=[],e}function i(e,n){var t=a();return l.h(e)&&(e=r.i(c.a)(e)),r.i(p.a)(e._njTmpl,t),r.i(f.a)(t.content,!n)}function u(e){return function(n,r){return(e?d:v)(n,r?{tmplKey:r.tmplKey?r.tmplKey:n._njTmplKey,fileName:r.fileName}:n._njTmplKey).apply(null,l.e(arguments,1))}}var o=r(0),l=r(1),p=r(16),s=r(3),f=r(15),c=r(7);r.d(n,"a",function(){return v}),r.d(n,"b",function(){return d}),n.c=i,r.d(n,"d",function(){return m}),r.d(n,"e",function(){return g});var v=t(),d=t(!0),m=u(),g=u(!0);l.a(o.a,{compile:v,compileH:d,precompile:i,render:m,renderH:g})},function(e,n,r){"use strict";var t=r(0),a=r(6);n.a=function(e){var n=e.delimiters,i=e.includeParser,u=e.createElement,o=e.outputH;n&&r.i(a.a)(n),i&&(t.a.includeParser=i),u&&(t.a.createElement=u),null!=o&&(t.a.outputH=o)}},function(e,n,r){"use strict";function t(e,n){var r=e;return i.g(e)||(r={},r[e]=n),i.j(r,function(e,n){a.a.components[n.toLowerCase()]=e},!1,!1),n}var a=r(0),i=r(1);n.a=t},function(e,n,r){"use strict";function t(){return o.a.apply({outputH:!1},arguments)}function a(){return o.a.apply({outputH:!0},arguments)}var i=r(0),u=r(1),o=r(7);n.a=t,n.b=a,r.i(u.a)(i.a,{tmplTag:t,tmplTagH:a})},function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,n,r){"use strict";function t(e,n,r,t,a,i){var u="",o=null!=i?i:n.useString,l=d.h(r),p=l||0===r,s=1===e.length?"1":"2",c={_type:0,_typeRefer:0,_params:0,_paramsE:0,_compParam:0,_dataRefer:0,_expr:0,_value:0,_filter:0,newContext:t};return o?c._children=0:c._compParam=0,!p&&t&&(u+="p2 = p1.newContext(p2, p3);\n"),"2"===s&&(u+=o?"var ret = '';\n":"var ret = [];\n"),u+=f(e,n,c,s,a,i),"2"===s&&(u+="return ret;"),n[p?"main"+(l?r:""):"fn"+r]=Function("p1","p2","p3","p4",u),r}function a(e,n,r,a,i,u,o){var l="",p=!e;if((p||e.useString)&&(l+=", useString: "+(null==n?"p1.useString":n?"true":"false")),r){var s=!e||e.newContext;(p||e.exprProps)&&(l+=", exprProps: "+i),l+=", result: "+(r.content?"p1.exprRet(p1, p2, p1.fn"+t(r.content,a,++a._no,s,u,n)+", "+i+")":"p1.noop"),null!=o&&(l+=", props: "+o)}return"{ _njOpts: true, ctx: p2, outputH: "+!a.useString+l+" }"}function i(e,n,r,t){var o=void 0,l=e.escape,p=e.prop,s=p.jsProp,f=p.isComputed;if(e.prop.isBasicType)o=e.prop.name+s;else{var c=e.prop,v=c.name,m=c.parentNum,g="",x=!1,y=!1;if("@index"===v?(g="index",x=!0):"this"===v&&(g="data[0]",x=!0),m){g||(g="data");for(var j=0;m>j;j++)g="parent."+g;x||(y=!0)}if(x||y){var b="p2."+g;o=(x?b:(f?"p1.getComputedData(":"")+"p2.getData('"+v+"', "+b+")"+(f?", p2)":""))+s}else o=(f?"p1.getComputedData(":"")+"p2.getData('"+v+"')"+(f?", p2)":"")+s}var S=e.prop.filters;if(!S)return u(o,r,!f&&l);var P=function(){var e="_value"+n._value++,p="var "+e+" = "+o+";\n";return d.j(S,function(u){var o=n._filter++,s=h.b[u.name],f="_filter"+o,c="p1.filters['"+u.name+"']";s?p+="\nvar "+f+" = "+c+";\n":(p+="\nvar "+f+" = p2.getData('"+u.name+"');\n",p+="if(!"+f+") "+f+" = "+c+";\n"),p+="if (!"+f+") {\n",p+="  p1.warn('"+u.name+"', 'filter');\n",p+="}\n",p+="else {\n",p+="  "+e+" = "+f+".apply(p2, ["+e+(u.params?u.params.reduce(function(e,a){return e+", "+i({prop:a,escape:l},n,r,t)},""):"")+", "+a(s,t,null,r)+"]);\n",p+="}\n"},!1,!0),{v:{valueStr:u(e,r,!f&&l),filterStr:p}}}();return"object"===(void 0===P?"undefined":_(P))?P.v:void 0}function u(e,n,t){return n.useString?t?"p1.escape("+e+")":e:r.i(g.b)(e)}function o(e){return e.replace(/'/g,"\\'")}function l(e,n,r,a){var u=e.strs[0],l="",p="";return d.h(u)?(l=e.isAll||""===u?"":"'"+o(u)+"'",p="",d.j(e.props,function(t,s){var f=i(t,n,r,a),c=void 0;if(d.h(f)?c=f:(c=f.valueStr,p+=f.filterStr),!e.isAll){var v=e.strs[s+1],m=""===u&&0==s?"":" + ";if("\\n"===v.trim())return void(l+=m+c);c=m+"("+c+")"+(""!==v?" + '"+o(v)+"'":"")}if(l+=c,e.isAll)return!1},!1,!0)):d.g(u)&&null!=u.length&&(l+="{\n",d.j(u,function(e,n,a,i){l+="length"!==n?'  "'+n+'": p1.main'+t(e.content,r,"T"+ ++r._noT):"  length: "+e,l+=",\n",a===i-1&&(l+="  _njData: p2.data,\n  _njParent: p2.parent,\n  _njIndex: p2.index\n")},!1,!1),l+="}"),""===p?l:{valueStr:l,filterStr:p}}function p(e,n,r,t){var a=e.params,i=e.paramsExpr,u="",o=void 0,p=n.useString;if(a||i){if(o=r._params++,u="var _params"+o+" = ",i){var s=r._paramsE++;if(u+=(t?"''":"null")+";\n",u+="var _paramsE"+s+" = {};\n",u+=f(i.content,n,r,{_paramsE:"_paramsE"+s},null,t),t){var c="";d.j(a,function(e,n,r,t){0==r&&(c+="{ "),c+=n+": 1",c+=t-1>r?", ":" }"},!1,!1),u+="_params"+o+" += p1.assignStringProp(_paramsE"+s+", "+(""===c?"null":c)+");\n"}else u+="\n_params"+o+" = _paramsE"+s+";\n"}a&&!function(){var e=Object.keys(a),s=e.length,f="";t||i||(u+="{\n"),d.j(e,function(e,c){var v=l(a[e],r,n,t);d.g(v)&&(f+=v.filterStr,v=v.valueStr),p||"style"!==e||(v="p1.styleProps("+v+")");var g=e,x="'"+g+"'"===v;p||(g=m.b(e)),u+=i?t?"_params"+o+" += ' "+g+(x?" '":"=\"' + "+v+" + '\"'")+";\n":"_params"+o+"['"+g+"'] = "+(x?"true":v)+";\n":t?(c>0?"  + ":"")+"' "+g+(x?" '":"=\"' + "+v+" + '\"'")+(c==s-1?";":"")+"\n":"  '"+g+"': "+(x?"true":v)+(s-1>c?",\n":"")},!1,!1),t||i||(u+="\n};\n"),""!==f&&(u=f+u)}()}return[u,o]}function s(e,n,t,i,u,o){var s="",v=n.useString;if("nj_plaintext"===e.type){var m=l(e.content[0],t,n,o),h=void 0;d.g(m)&&(h=m.filterStr,m=m.valueStr);var _=c(1,i,{text:m},n,u,o,e.allowNewline);h&&(_=h+_),s+=v?_:r.i(g.b)(_)}else if("nj_expr"===e.type){var y=t._expr++,j=t._dataRefer++,b="",S="",P=x.b[e.expr],w="_expr"+y,R="p1.exprs['"+e.expr+"']";P?s+="\nvar "+w+" = "+R+";\n":(s+="\nvar "+w+" = p2.getData('"+e.expr+"');\n",s+="if(!"+w+") "+w+" = "+R+";\n"),b+="var _dataRefer"+j+" = [\n",e.args&&d.j(e.args,function(e,r){var a=l(e,t,n,o);d.g(a)&&(S+=a.filterStr,a=a.valueStr),b+="  "+a+","},!1,!0);var C="p4";i&&i._paramsE&&(C=i._paramsE);var E=p(e,n,t,!1),T=E[0],k=E[1];b+=a(P,o,e,n,C,u,""!==T?"_params"+k:null),b+="\n];\n",""!==S&&(b=S+b),s+=T+b,s+="p1.throwIf(_expr"+y+", '"+e.expr+"', 'expr');\n",s+=c(2,i,{_expr:y,_dataRefer:j},n,u,o,e.allowNewline)}else{var O=t._type++,N=void 0;N=e.typeRefer?e.typeRefer.props[0].prop.name:e.type;var H=void 0;if(H=v?"'"+N+"'":"p1.components['"+N.toLowerCase()+"'] ? p1.components['"+N.toLowerCase()+"'] : '"+N+"'",e.typeRefer){var A=t._typeRefer++,D=l(e.typeRefer,t,n);d.g(D)&&(s+=D.filterStr,D=D.valueStr),s+="\nvar _typeRefer"+A+" = "+D+";\n",s+="var _type"+O+" = _typeRefer"+A+" ? _typeRefer"+A+" : ("+H+");\n"}else s+="\nvar _type"+O+" = "+H+";\n";var $=p(e,n,t,v),L=$[0],B=$[1];s+=L;var I=void 0,K=void 0;v?(K=t._children++,s+="var _children"+K+" = '';\n"):(I=t._compParam++,s+="var _compParam"+I+" = [_type"+O+", "+(""!==L?"_params"+B:"null")+"];\n"),s+=f(e.content,n,t,v?{_children:"_children"+K}:{_compParam:"_compParam"+I},null!=u?u+1:u,o),s+=c(3,i,v?{_type:O,_params:""!==L?B:null,_children:K,_selfClose:e.selfCloseTag}:{_compParam:I},n,u,o,e.allowNewline)}return s}function f(e,n,r,t,a,i){var u="";return e?(d.j(e,function(e){u+=s(e,n,r,t,a,!!e.useString||i)},!1,!0),u):u}function c(e,n,r,t,a,i,u){var o=void 0,l=t.useString,p=null!=i?i:l;switch(e){case 1:o=v(a,t,u)+r.text+(!l||u||null==a?"":" + '\\n'");break;case 2:o="_expr"+r._expr+".apply(p2, _dataRefer"+r._dataRefer+")";break;case 3:if(l){var s=v(a,t,u);o=s+"'<' + _type"+r._type+" + "+(null!=r._params?"_params"+r._params+" + ":""),r._selfClose?o+="' />"+(u&&"nlElem"!==u?"":"\\n")+"'":(o+="'>"+(u?"":"\\n")+"'",o+=" + _children"+r._children+" + ",o+=s+"'</' + _type"+r._type+" + '>"+(u&&"nlElem"!==u?"":"\\n")+"'")}else o="p1.h.apply(null, _compParam"+r._compParam+")"}return"1"===n?"\nreturn "+o+";":"2"===n?p?"\nret += "+o+";\n":"\nret.push("+o+");\n":n._paramsE?"\n"+o+";\n":l?"\n"+n._children+" += "+o+";\n":"\n"+n._compParam+".push("+o+");\n"}function v(e,n,r){var t="";if(r&&"nlElem"!==r)return t;if(n.useString&&null!=e&&e>0){t+="'";for(var a=0;e>a;a++)t+="  ";t+="' + "}return t}var d=(r(0),r(1)),m=r(3),g=r(5),x=r(2),h=r(4),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.a=function(e,n){var r={useString:n,_no:0,_noT:0};return t(e,r,r._no,null,0),r}},function(e,n,r){"use strict";function t(e,n,r,t){var a={};a.type="nj_plaintext",a.content=[l.a(e)],a.allowNewline=t,n[r].push(a)}function a(e,n,r,a,u){var c="content";if(o.f(e)){var v={},d=e[0];if(o.h(d)){var m=e.length,g=e[m-1],x=!1,h=void 0,_=void 0,y=void 0,j=!1,b=void 0,S=void 0,P=void 0,w=void 0,R=void 0;if(h=p.a(d)){var C=h[0];if(_=h[1],b=p.e(C),S=p.f(C),!S){var E=p.g(C);P=E.isProp,w=E.isExprProp,R=P?!r:w}v.type="nj_expr",v.expr=C,null==_||b||S||(v.args||(v.args=[]),o.j(_,function(e){if("useString"===e.value)return void(v.useString=!0);var n=l.a(e.value);e.onlyBrace?v.args.push(n):(v.params||(v.params=o.l()),v.params[e.key]=n)},!1,!0)),x=!0}else{var T=p.b(d);T&&(y=T[1],p.c(d)?v.selfCloseTag=!0:j=p.d(g,y),x=!0)}if(x){var k=!0;if(a&&(v.allowNewline=!0),h)b?(k=!1,p.k(v,n,_?_[0].value:null)):S?k=!1:R&&(k=!1);else{v.type=y;var O=p.h(y);O&&(v.typeRefer=l.a(O[0]));var N=p.i(d);N&&(v.params||(v.params=o.l()),o.j(N,function(e){v.params[e.onlyBrace?e.onlyBrace.replace(/\.\.\//g,""):e.key]=l.a(e.value)},!1,!0)),v.selfCloseTag||(v.selfCloseTag=p.j(y)),null==a&&f.indexOf(y.toLowerCase())>-1&&(a=!0,v.allowNewline="nlElem")}k&&n[c].push(v);var H=m-(j?1:0),A=e.slice(1,H);A&&A.length&&i(A,v,S||r&&!P,a),(S||R)&&p.l(v,n,w)}else i(e,n,r,a)}else o.f(d)&&i(e,n,r,a)}else if(o.h(e))if(a)t(u&&"nlElem"===n.allowNewline?o.q(e):e,n,c,a);else{var D=e.split(s.newlineSplit);D.forEach(function(e,r){e=e.trim(),""!==e&&t(e,n,c,a)})}else t(e,n,c,a)}function i(e,n,r,t){n.content||(n.content=[]),o.j(e,function(e,i,u){a(e,n,r,t,i==u-1)},!1,!0)}var u=r(0),o=r(1),l=r(9),p=r(8);n.a=a;var s=u.a.tmplRule,f=["style","script","textarea","pre","xmp","template"]},function(e,n,r){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0});var t=r(0),a=r(1),i=r(12),u=r(6),o=r(11);r.d(n,"defineProp",function(){return a.b}),r.d(n,"defineProps",function(){return a.c}),r.d(n,"arrayPush",function(){return a.d}),r.d(n,"arraySlice",function(){return a.e}),r.d(n,"isArray",function(){return a.f}),r.d(n,"isObject",function(){return a.g}),r.d(n,"isString",function(){return a.h}),r.d(n,"isArrayLike",function(){return a.i}),r.d(n,"each",function(){return a.j}),r.d(n,"noop",function(){return a.k}),r.d(n,"obj",function(){return a.l}),r.d(n,"toCamelCase",function(){return a.m}),r.d(n,"assign",function(){return a.a});var l=r(2);r.d(n,"exprs",function(){return l.a}),r.d(n,"exprConfig",function(){return l.b}),r.d(n,"registerExpr",function(){return l.c});var p=r(4);r.d(n,"filters",function(){return p.a}),r.d(n,"filterConfig",function(){return p.b}),r.d(n,"registerFilter",function(){return p.c});var s=r(10);r.d(n,"compile",function(){return s.a}),r.d(n,"compileH",function(){return s.b}),r.d(n,"precompile",function(){return s.c}),r.d(n,"render",function(){return s.d}),r.d(n,"renderH",function(){return s.e});var f=r(5);r.d(n,"escape",function(){return f.a}),r.d(n,"unescape",function(){return f.b});var c=r(13);r.d(n,"tmplTag",function(){return c.a}),r.d(n,"tmplTagH",function(){return c.b}),r.d(n,"registerComponent",function(){return i.a}),r.d(n,"setTmplRule",function(){return u.a}),r.d(n,"config",function(){return o.a}),r.i(a.a)(t.a,{registerComponent:i.a,setTmplRule:u.a,config:o.a}),r.i(u.a)();var v="undefined"!=typeof self?self:e;v.NornJ=v.nj=t.a,n.default=t.a}).call(n,r(14))}])});
//# sourceMappingURL=nornj.min.js.map