{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///nornj.min.js","webpack:///webpack/bootstrap 45b5e776c43c4413f0af","webpack:///./src/base.js","webpack:///./src/core.js","webpack:///./src/utils/utils.js","webpack:///./src/utils/tools.js","webpack:///./src/transforms/transformElement.js","webpack:///./src/transforms/transformParam.js","webpack:///./src/helpers/expression.js","webpack:///./src/transforms/transformData.js","webpack:///./src/utils/escape.js","webpack:///./src/parser/checkElem.js","webpack:///./src/utils/registerComponent.js","webpack:///./src/helpers/filter.js","webpack:///./src/utils/setTmplRule.js","webpack:///./src/compiler/compile.js","webpack:///./src/compiler/buildRuntime.js","webpack:///./src/utils/replaceSpecialSymbol.js","webpack:///./src/parser/checkStringElem.js","webpack:///./src/utils/tmplTag.js","webpack:///./src/config.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","global","nj","utils","compiler","compileStringTmpl","tmplTag","config","assign","_global","self","NornJ","outputH","apply","arguments","createElement","components","asts","templates","tmplStrs","errorTitle","tmplRule","tools","transformElement","transformParam","transformData","escape","checkElem","registerComponent","filter","expression","setTmplRule","arrayPush","arr1","arr2","nativeArrayPush","arraySlice","arrLike","start","nativeArraySlice","isArray","obj","Array","isObject","type","_typeof","isString","Object","prototype","toString","_getProperty","key","isArrayLike","length","_getLength","each","func","context","isArr","i","l","ret","keys","k","noop","throwIf","val","msg","Error","warn","console","create","clearQuot","value","clearDouble","regex","charF","REGEX_QUOT_S","REGEX_QUOT_D","replace","toCamelCase","str","indexOf","letter","substr","toUpperCase","Symbol","iterator","constructor","push","slice","hasOwnProperty","target","args","source","getXmlOpenTag","xmlOpenTag","exec","isXmlSelfCloseTag","REGEX_XML_SELF_CLOSE_TAG","test","verifySelfCloseTag","tagName","OMITTED_CLOSE_TAGS","toLowerCase","getOpenTagParams","tag","matchArr","pattern","openTagParams","onlyBrace","isXmlCloseTag","getInsideBraceParam","insideBraceParam","isExpr","ret1","expr","params","isTmpl","addTmpl","node","parent","name","paramsP","tmpls","objT","strs","len","tranParam","compiledParam","isParamsExpr","addParamsExpr","isExprProp","paramsExpr","content","exprPropsNode","exprConfig","exprProps","isProp","PROP_EXPRS","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","compiledParams","v","compiledProp","prop","filtersTmp","filters","split","trim","retF","_getFilterParam","filterObj","filterName","paramsF","n","parentNum","REGEX_JS_PROP","hasComputed","jsProp","isBasicType","isComputed","REGEX_FILTER_PARAM","_getReplaceParam","replaceParam","item","replaceSplit","props","isAll","retP","firstChar","startRule","_defineProperty","defineProperty","enumerable","configurable","writable","_commonConfig","useString","newContext","registerExpr","options","exprs","if","valueR","useUnless","result","elseFn","elseifs","elseif","fn","else","switch","unless","list","index","data","fallback","moreValues","_param$extra","extra","retI","undefined","spread","for","end","_njOpts","blank","styleProps","getData","getComputedData","p2","_njTmpl","_njData","_njParent","_njIndex","p3","newData","fixPropName","assignStringProp","paramsE","exprRet","p1","p4","tmplWrap","configs","main","initCtx","template","fns","h","text","match","ESCAPE_LOOKUP","&",">","<","\"","'","_plainTextNode","parentContent","hasExprProps","first","exprParams","openTagName","needAddToProps","last","isElemNode","hasCloseTag","tranElem","exprName","exprProp","paramV","selfCloseTag","pushContent","typeRefer","tagParams","checkContentElem","NO_SPLIT_NEWLINE","newlineSplit","forEach","component","registerFilter","filterConfig","==","val1","val2","===","lt","lte","gt","gte","+","-","?","int","parseInt","float","parseFloat","bool","_createRegExp","reg","mode","RegExp","_clearRepeat","char","rules","_nj$tmplRule","_nj$tmplRule$startRul","_nj$tmplRule$endRule","endRule","_nj$tmplRule$exprRule","exprRule","_nj$tmplRule$propRule","propRule","_nj$tmplRule$template","templateRule","_nj$tmplRule$tagSpRul","tagSpRule","_nj$tmplRule$commentR","commentRule","tagSp","comment","allRules","lastChar","otherChars","exprRules","escapeExprRule","spreadProp","include","_createCompile","tmpl","tmplKey","fileName","tmplFns","isObj","_createAstRoot","includeParser","buildRuntime","_njParams","tmplFn","precompile","_createRender","compileH","compile","_njTmplKey","render","renderH","_buildFn","no","level","useStringLocal","fnStr","isTmplExpr","retType","counter","_type","_typeRefer","_params","_paramsE","_compParam","_dataRefer","_expr","_value","_filter","_children","_buildContent","Function","_buildOptions","exprPropsStr","hashProps","hashStr","noConfig","_no","_buildPropData","dataValueStr","_obj$prop","_obj$prop2","special","specialP","dataStr","valueStr","filterStr","o","_filterC","configF","filterVarStr","globalFilterStr","reduce","_buildEscape","replaceSpecialSymbol","_replaceQuot","_buildProps","str0","propData","strI","prefixStr","_noT","_buildParams","_paramsC","paramsStr","useStringF","_paramsEC","paramKeys","onlyKey","_buildNode","textStr","_buildRender","_exprC","_dataReferC","dataReferStr","configE","exprVarStr","globalExprStr","arg","_typeC","typeStr","_typeReferC","valueStrT","_compParamC","_childrenC","_selfClose","nodeType","retStr","_buildLevelSpace","levelSpace","ast","REGEX_SYMBOLS","all","SPACIAL_SYMBOLS","nbsp","ensp","emsp","thinsp","zwnj","zwj","amp","join","isStr","xmls","computedNos","fullXml","xml","isNoEscape","SPLIT_FLAG","_clearNotesAndBlank","_checkStringElem","_njParamCount","_njComputedNos","paramCount","current","elem","elemName","textBefore","elemParams","textAfter","_formatNewline","_setText","_setSelfCloseElem","_setElem","SPECIAL_LOOKUP","elemArr","bySelfClose","substring","retS","_getSplitParams","retC","begin",">(","<(",">=(","<=(","tmplTagH","delimiters"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,MAAAD,IAEAD,EAAA,MAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,IEtDhC,SAAAS,GAAA,YAEA,IAAIC,GAAKV,EAAQ,GACfW,EAAQX,EAAQ,GAChBY,EAAWZ,EAAQ,IACnBa,EAAoBb,EAAQ,IAC5Bc,EAAUd,EAAQ,IAClBe,EAASf,EAAQ,GAEnBU,GAAGG,kBAAoBA,EACvBH,EAAGK,OAASA,EACZJ,EAAMK,OAAON,EAAIE,EAAUE,EAASH,EAEpC,IAAIM,GAA0B,mBAATC,MAAuBA,KAAOT,CAEnDd,GAAOD,QAAUuB,EAAQE,MAAQF,EAAQP,GAAKA,IFyDhBL,KAAKX,EAAU,WAAa,MAAOI,WAI3D,SAASH,EAAQD,GG5EvB,YAEA,SAASgB,KACP,MAAOA,GAAG,WAAaA,EAAGU,QAAU,IAAM,KAAKC,MAAM,KAAMC,WAG7DZ,EAAGa,cAAgB,KACnBb,EAAGc,cACHd,EAAGe,QACHf,EAAGgB,aACHhB,EAAGiB,YACHjB,EAAGkB,WAAa,UAChBlB,EAAGmB,YACHnB,EAAGU,SAAU,EAEbzB,EAAOD,QAAUgB,GHkFX,SAASf,EAAQD,EAASM,GIjGhC,YAEA,IAAI8B,GAAQ9B,EAAQ,GAClB+B,EAAmB/B,EAAQ,GAC3BgC,EAAiBhC,EAAQ,GACzBiC,EAAgBjC,EAAQ,GACxBkC,EAASlC,EAAQ,GACjBmC,EAAYnC,EAAQ,GACpBoC,EAAoBpC,EAAQ,IAC5BqC,EAASrC,EAAQ,IACjBsC,EAAatC,EAAQ,GACrBuC,EAAcvC,EAAQ,GAGxBuC,KAEA5C,EAAOD,QAAUoC,EAAMd,QAEnBkB,SACAK,eAEFJ,EACAC,EACAC,EACAC,EACAR,EACAC,EACAC,EACAC,IJ8FI,SAAStC,EAAQD,EAASM,GK1HhC,YASA,SAASwC,GAAUC,EAAMC,GAEvB,MADAC,GAAgBtB,MAAMoB,EAAMC,GACrBD,EAGT,QAASG,GAAWC,EAASC,GAC3B,MAAOC,GAAiB1C,KAAKwC,EAASC,GAIxC,QAASE,GAAQC,GACf,MAAOC,OAAMF,QAAQC,GAIvB,QAASE,GAASF,GAChB,GAAIG,GAAA,SAAcH,EAAd,YAAAI,EAAcJ,EAClB,QAAQD,EAAQC,KAAkB,aAATG,GAAgC,WAATA,KAAuBH,GAIzE,QAASK,GAASL,GAChB,MAA+C,oBAAxCM,OAAOC,UAAUC,SAASpD,KAAK4C,GAIxC,QAASS,GAAaC,GACpB,MAAO,UAASV,GACd,MAAc,OAAPA,EAAc,OAASA,EAAIU,IAOtC,QAASC,GAAYX,GACnB,GAAIY,GAASC,EAAWb,EACxB,OAAwB,gBAAVY,IAAsBA,GAAU,EAIhD,QAASE,GAAKd,EAAKe,EAAMC,EAASC,GAChC,GAAKjB,EAWL,GAPa,MAATiB,IACFA,EAAQN,EAAYX,IAItBgB,EAAUA,EAAUA,EAAUhB,EAE1BiB,EACF,IAAK,GAAIC,GAAI,EAAGC,EAAInB,EAAIY,OAAYO,EAAJD,EAAOA,IAAK,CAC1C,GAAIE,GAAML,EAAK3D,KAAK4D,EAAShB,EAAIkB,GAAIA,EAAGC,EAExC,IAAIC,KAAQ,EACV,UAMJ,KAAK,GAFDC,GAAOf,OAAOe,KAAKrB,GACrBmB,EAAIE,EAAKT,OACFM,EAAI,EAAOC,EAAJD,EAAOA,IAAK,CAC1B,GAAII,GAAID,EAAKH,GACXE,EAAML,EAAK3D,KAAK4D,EAAShB,EAAIsB,GAAIA,EAAGJ,EAAGC,EAEzC,IAAIC,KAAQ,EACV,OAOR,QAASG,MAGT,QAASC,GAAQC,EAAKC,EAAKvB,GACzB,IAAKsB,EACH,OAAQtB,GACN,IAAK,OACH,KAAMwB,OAAMhD,EAAa,eAAiB+C,EAAM,uDAClD,SACE,KAAMC,OAAMhD,GAAc+C,GAAOD,KAMzC,QAASG,GAAKF,EAAKvB,GACjB,GAAIiB,GAAMzC,CACV,QAAQwB,GACN,IAAK,SACHiB,GAAO,oBAAsBM,EAAM,iBACnC,MACF,SACEN,GAAOM,EAGXG,QAAQD,KAAKR,GAIf,QAASpB,KACP,MAAOM,QAAOwB,OAAO,MAOvB,QAASC,GAAUC,EAAOC,GACxB,GAAa,MAATD,EAAJ,CAIA,GAAIE,EACJ,IAAmB,MAAfD,EAAqB,CACvB,GAAIE,GAAQH,EAAM,EACJ,OAAVG,EACFD,EAAQE,EACW,MAAVD,IACTD,EAAQG,OAGVH,GADSD,EACDI,EAEAD,CAMV,OAHIF,KACFF,EAAQA,EAAMM,QAAQJ,EAAO,KAExBF,GAIT,QAASO,GAAYC,GAOnB,MANIA,GAAIC,QAAQ,MAAO,IACrBD,EAAMA,EAAIF,QAAQ,OAAQ,SAASI,GACjC,MAAOA,GAAOC,OAAO,GAAGC,iBAIrBJ,EL7BR,GAAIpC,GAA4B,kBAAXyC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAU9C,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX6C,SAAyB7C,EAAI+C,cAAgBF,QAAU7C,IAAQ6C,OAAOtC,UAAY,eAAkBP,IK5HnQvC,EAAKV,EAAQ,GACf2C,EAAkBO,MAAMM,UAAUyC,KAClClD,EAAmBG,MAAMM,UAAU0C,MACnCC,EAAiB5C,OAAOC,UAAU2C,eAClCvE,EAAalB,EAAGkB,WAoCdkC,EAAaJ,EAAa,UA6E1B4B,EAAe,QACjBD,EAAe,QAuCbrE,EAASuC,OAAOvC,QAAU,SAASoF,GACrC,IAAK,GAAIjC,GAAI,EAAGkC,EAAO/E,UAAe+E,EAAKxC,OAATM,EAAiBA,IAAK,CACtD,GAAImC,GAASD,EAAKlC,EAElB,KAAK,GAAIR,KAAO2C,GACVH,EAAe9F,KAAKiG,EAAQ3C,KAC9ByC,EAAOzC,GAAO2C,EAAO3C,IAK3B,MAAOyC,IAGLtE,GACFkB,UACAY,cACAT,WACAG,WACAS,OACAU,UACAzD,SACAiC,MACAT,YACAI,aACAoC,YACAQ,cACAX,OACAL,OAGF7E,GAAOD,QAAUoC,GLkIX,SAASnC,EAAQD,EAASM,GMhUhC,YASA,SAASuG,GAActD,GACrB,MAAOpB,GAAS2E,WAAWC,KAAKxD,GAMlC,QAASyD,GAAkBzD,GACzB,MAAO0D,GAAyBC,KAAK3D,GAsBvC,QAAS4D,GAAmBC,GAC1B,MAAOC,GAAmBD,EAAQE,eAIpC,QAASC,GAAiBC,GAIxB,IAHA,GACEC,GAAU9C,EADR+C,EAAUvF,EAASwF,cAGfF,EAAWC,EAAQX,KAAKS,IAAO,CACrC,GAAIvD,GAAMwD,EAAS,EACnB,IAAY,MAARxD,EAAJ,CAIKU,IACHA,KAGF,IAAIY,GAAQkC,EAAS,GACnBG,EAAYH,EAAS,EAErBlC,GADW,MAATA,EACMnD,EAAMkD,UAAUC,GAEhBtB,EAIN,OAAOiD,KAAK3B,GACdA,EAAQA,EAAMW,OAAO,EAAGX,EAAMpB,OAAS,IAC9B,KAAK+C,KAAK3B,IAAU,MAAM2B,KAAK3B,MACxCA,EAAQA,EAAMW,OAAO,EAAGX,EAAMpB,OAAS,IAGzCQ,EAAI4B,MACFtC,MACAsB,QACAqC,eAIJ,MAAOjD,GAIT,QAASkD,GAActE,EAAK6D,GAC1B,MAAOhF,GAAMwB,SAASL,IAAQA,EAAI+D,gBAAkB,KAAOF,EAAU,IAIvE,QAASU,GAAoBvE,GAC3B,MAAOpB,GAAS4F,iBAAiBhB,KAAKxD,GAIxC,QAASyE,GAAOzE,GACd,GAAIoB,GAAKsD,EAAO9F,EAAS+F,KAAKnB,KAAKxD,EACnC,IAAI0E,EAAM,CACRtD,GAAOsD,EAAK,GAEZ,IAAIE,GAASZ,EAAiBhE,EAC1B4E,IACFxD,EAAI4B,KAAK4B,GAIb,MAAOxD,GAIT,QAASyD,GAAO7E,GACd,MAAe,SAARA,EAIT,QAAS8E,GAAQC,EAAMC,EAAQC,GAC7B,GAAIC,GAAUF,EAAOJ,MAChBM,KACHA,EAAUF,EAAOJ,OAAS/F,EAAMmB,MAGlC,IAAImF,GAAQD,EAAQC,KACpB,IAAKA,EAUE,CACL,GAAIC,GAAOD,EAAME,KAAK,GACpBC,EAAMF,EAAKxE,MAED,OAARqE,EACFG,EAAKH,GAAQF,GAEbK,EAAKE,GAAOP,EACZK,EAAKxE,SAAW0E,OAlBR,CACV,GAAIF,IAASxE,OAAQ,EACT,OAARqE,EACFG,EAAKH,GAAQF,GAEbK,EAAK,GAAOL,EACZK,EAAKxE,OAAS,GAGhBsE,EAAQC,MAAQI,EAAUC,cAAcJ,IAe5C,QAASK,GAAaR,GACpB,MAAgB,WAATA,GAA8B,UAATA,EAI9B,QAASS,GAAcX,EAAMC,EAAQW,GACnC,GAAKX,EAAOY,WAcV/G,EAAMU,UAAUyF,EAAOY,WAAWC,QAASF,GAAcZ,GAAQA,EAAKc,aAdhD,CACtB,GAAIC,SAEFA,GADEH,GAEAxF,KAAM,UACNwE,KAAM,QACNkB,SAAUd,IAGIA,EAGlBC,EAAOY,WAAaE,GAOxB,QAASH,GAAWV,GAClB,GAAMnH,GAASiI,EAAWd,EAC1B,QACEU,aAAY7H,GAASA,EAAOkI,UAC5BC,OAAQC,EAAWzD,QAAQwC,IAAQ,GA5KvC,GAAMxH,GAAKV,EAAQ,GACjB8B,EAAQ9B,EAAQ,GAChBwI,EAAYxI,EAAQ,GACpBgJ,EAAahJ,EAAQ,GAAyBgJ,WAC9CnH,EAAWnB,EAAGmB,SAQZ8E,EAA2B,eAO3BI,GACFqC,MAAQ,EACRC,MAAQ,EACRC,IAAM,EACNC,KAAO,EACPC,OAAS,EACTC,IAAM,EACNC,KAAO,EACPC,OAAS,EACTC,QAAU,EACVC,MAAQ,EACRC,MAAQ,EACRC,OAAS,EACTzD,QAAU,EACV0D,OAAS,EACTC,KAAO,GAqIHd,GAAc,OAAQ,SAS5BxJ,GAAOD,SACL6G,gBACAG,oBACAG,qBACAI,mBACAM,gBACAC,sBACAE,SACAI,SACAC,UACAW,eACAC,gBACAC,eN2UI,SAASjJ,EAAQD,EAASM,GOzgBhC,YAOA,SAASkK,GAAejH,GACtB,GAAIoB,GAAMvC,EAAMmB,KAKhB,OAJAnB,GAAMiC,KAAKd,EAAK,SAASkH,EAAG5F,GAC1BF,EAAIE,GAAKkE,EAAc0B,KACtB,GAAO,GAEH9F,EAMT,QAAS+F,GAAaC,GACpB,GAAIhG,GAAMvC,EAAMmB,KAGhB,IAAIoH,EAAK3E,QAAQ,MAAQ,EAAG,CAC1B,GACE4E,GADEC,IAEJD,GAAaD,EAAKG,MAAM,KACxBH,EAAOC,EAAW,GAAGG,OAErBH,EAAaA,EAAWpE,MAAM,GAC9BpE,EAAMiC,KAAKuG,EAAY,SAASjI,GAC9B,GAAIqI,GAAOC,EAAgBtI,EAAOoI,QAChCG,EAAY9I,EAAMmB,MAClB4H,EAAaH,EAAK,EAEpB,IAAIG,EAAY,CACd,GAAIC,GAAUJ,EAAK,EAGnB,IAAII,EAAS,CACX,GAAIjD,KACJ/F,GAAMiC,KAAK+G,EAAQN,MAAM,KAAM,SAAShK,GACtCqH,EAAOA,EAAOhE,QAAUuG,EAAa5J,EAAEiK,UACtC,GAAO,GAEVG,EAAU/C,OAASA,EAGrB+C,EAAU1C,KAAO2C,EACjBN,EAAQtE,KAAK2E,MAEd,GAAO,GAEVvG,EAAIkG,QAAUA,EAIhB,GAA4B,IAAxBF,EAAK3E,QAAQ,OAAc,CAC7B,GAAIqF,GAAI,CACRV,GAAOA,EAAK9E,QAAQ,UAAW,WAE7B,MADAwF,KACO,KAGT1G,EAAI2G,UAAYD,EAIlBV,EAAOY,EAAcxE,KAAK4D,EAC1B,IAAIa,GAAcb,EAAK,EAWvB,OAVAhG,GAAI6D,KAAOgD,EAAcb,EAAK,GAAKA,EAAK,GACxChG,EAAI8G,OAASd,EAAK,GAEbA,EAAK,KACRhG,EAAI+G,aAAc,GAEhBF,IACF7G,EAAIgH,YAAa,GAGZhH,EAMT,QAASsG,GAAgB1H,GACvB,MAAOqI,GAAmB7E,KAAKxD,GAMjC,QAASsI,GAAiBtI,EAAKqF,GAI7B,IAHA,GACEnB,GAAU9C,EADR+C,EAAUvF,EAAS2J,aACNrH,EAAI,EAEbgD,EAAWC,EAAQX,KAAKxD,IAAO,CAChCoB,IACHA,KAGF,IAAIgG,GAAOlD,EAAS,GAClBsE,GAAQtE,EAAS,GAAIA,EAAS,GAAI,MAAM,EAEtChD,GAAI,IACNsH,EAAK,IAAK,GAIZpB,EAAOA,EAAKI,OAEZgB,EAAK,GAAKpB,EACVhG,EAAI4B,KAAKwF,GACTtH,IAGF,MAAOE,GAIT,QAASoE,GAAcxD,GACrB,GAAIZ,GAAMvC,EAAMmB,MACdqF,EAAOxG,EAAMwB,SAAS2B,GAASA,EAAMuF,MAAM3I,EAAS6J,eAAiBzG,GACrE0G,EAAQ,KACRC,GAAQ,CAGV,IAAItD,EAAKzE,OAAS,EAAG,CACnB,GAAIgE,GAAS0D,EAAiBtG,EAAOqD,EACrCqD,MAEA7J,EAAMiC,KAAK8D,EAAQ,SAASkC,GAC1B,GAAI8B,GAAO/J,EAAMmB,KACjB2I,KAAQ7B,EAAM,IAAKA,EAAM,KAAO9E,EAChC4G,EAAKxB,KAAOD,EAAaL,EAAM,IAG/B8B,EAAK3J,OAAS6H,EAAM,KAAOlI,EAASiK,UAAYjK,EAASkK,UACzDJ,EAAM1F,KAAK4F,KACV,GAAO,GAOZ,MAJAxH,GAAIsH,MAAQA,EACZtH,EAAIiE,KAAOA,EACXjE,EAAIuH,MAAQA,EAELvH,EAjJT,GAAI3D,GAAKV,EAAQ,GACf8B,EAAQ9B,EAAQ,GAChB6B,EAAWnB,EAAGmB,SAaZoJ,EAAgB,yGAmEhBK,EAAqB,qCAkEzB3L,GAAOD,SACL+I,gBACAyB,iBACAE,iBPmhBI,SAASzK,EAAQD,EAASM,GQ5qBhC,YRgrBC,SAASgM,GAAgB/I,EAAKU,EAAKsB,GAAiK,MAApJtB,KAAOV,GAAOM,OAAO0I,eAAehJ,EAAKU,GAAOsB,MAAOA,EAAOiH,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBnJ,EAAIU,GAAOsB,EAAgBhC,EQze5M,QAASoJ,GAAcxE,GACrB,GAAIxD,IACFiI,WAAW,EACXrD,WAAW,EACXsD,YAAY,EAMd,OAHI1E,KACFxD,EAAMvC,EAAMd,OAAOqD,EAAKwD,IAEnBxD,EAyBT,QAASmI,GAAatE,EAAMN,EAAM6E,GAChC,GAAI5E,GAASK,CACRpG,GAAMqB,SAAS+E,KAClBL,KACAA,EAAOK,IACLN,KAAMA,EACN6E,QAASA,IAIb3K,EAAMiC,KAAK8D,EAAQ,SAASsC,EAAGjC,GAC7B,GAAIiC,EAAG,CACL,GAAIvC,GAAOuC,EAAEvC,KACX6E,EAAUtC,EAAEsC,OAEV7E,IAAQ6E,GACN7E,IACF8E,EAAMxE,GAAQN,GAEZ6E,IACFzD,EAAWd,GAAQmE,EAAcI,KAGnCC,EAAMxE,GAAQiC,KAGjB,GAAO,GAlQZ,GAAMrI,GAAQ9B,EAAQ,GAGhB0M,GACJC,GAAM,SAAS1H,EAAOwH,GACN,UAAVxH,IACFA,GAAQ,EAGV,IAAI2H,GAAQvI,CAMZ,IAFEuI,EAHGH,EAAQI,WAGC5H,IAFDA,EAKXZ,EAAMoI,EAAQK,aACT,CACL,GAAInB,GAAQc,EAAQd,KAChBA,KAAO,WACT,GAAIoB,GAASpB,EAAA,IAETA,GAAMqB,SAAS,WACjB,GAAI5I,GAAIuH,EAAMqB,QAAQnJ,MACtB/B,GAAMiC,KAAK4H,EAAMqB,QAAS,SAASC,EAAQ9I,GACzC,MAAM8I,GAAOhI,OACXZ,EAAM4I,EAAOC,MACN,QACE/I,IAAMC,EAAI,GACf2I,IACF1I,EAAM0I,QAGT,GAAO,MAENA,IACF1I,EAAM0I,QAMd,MAAIN,GAAQH,WAAoB,MAAPjI,EAChB,GAGFA,GAGT8I,KAAQ,SAACV,GAAD,MAAaA,GAAQxD,UAAR,KAA4BwD,EAAQK,QAEzDG,OAAU,SAAChI,EAAOwH,GAChB,GAAMxD,GAAYwD,EAAQxD,SACrBA,GAAU+D,UACb/D,EAAU+D,YAEZ/D,EAAU+D,QAAQ/G,MAChBhB,QACAiI,GAAIT,EAAQK,UAIhBM,OAAU,SAASnI,EAAOwH,GACxB,GAAIpI,GACFsH,EAAQc,EAAQd,MAChBvH,EAAIuH,EAAMqB,QAAQnJ,MAapB,OAXA/B,GAAMiC,KAAK4H,EAAMqB,QAAS,SAASC,EAAQ9I,GACzC,MAAIc,KAAUgI,EAAOhI,OACnBZ,EAAM4I,EAAOC,MACN,QACE/I,IAAMC,EAAI,GACfuH,EAAA,OACFtH,EAAMsH,EAAA,WAGT,GAAO,GAEHtH,GAGTgJ,OAAQ,SAASpI,EAAOwH,GAEtB,MADAA,GAAQI,WAAY,EACbH,EAAA,GAAYrM,KAAKP,KAAMmF,EAAOwH,IAGvC1I,KAAM,SAASuJ,EAAMb,GACnB,GACEpI,GADEiI,EAAYG,EAAQH,SAGxB,IAAIgB,GAAM,WAENjJ,EADEiI,EACI,KAKR,IAAMX,GAAQc,EAAQd,KACtB7J,GAAMiC,KAAKuJ,EAAM,SAAS7B,EAAM8B,EAAOhF,GACrC,GAAIwB,IACFyD,KAAM/B,EACN8B,MAAOA,EACPE,UAAU,EAGZ,IAAI9B,GAASA,EAAM+B,WAAY,IAAAC,EAC7B5D,GAAM6D,OAAND,KAAA3B,EAAA2B,EACG,SAAqB,IAAVJ,GADdvB,EAAA2B,EAEG,QAAUJ,IAAUhF,EAAM,GAF7ByD,EAAA2B,EAGG,UAAYpF,GAHfoF,GAOF,GAAIE,GAAOpB,EAAQK,OAAO/C,EACtBuC,GACFjI,GAAOwJ,EAEPxJ,EAAI4B,KAAK4H,KAEV,EAAO/L,EAAM8B,YAAY0J,IAGvBhB,GAAcjI,EAAIR,SACrBQ,EAAM,aAEH,CACL,GAAIsH,GAAQc,EAAQd,KAChBA,IAASA,EAAA,OACXtH,EAAMsH,EAAA,QAEJW,GAAoB,MAAPjI,IACfA,EAAM,IAIV,MAAOA,IAITgG,KAAM,SAASnC,EAAMuE,GACnB,GACExH,GADEZ,EAAMoI,EAAQK,QAIhB7H,GADU6I,SAARzJ,EACMA,GAECoI,EAAQH,WAAmBpE,EAGtCuE,EAAQxD,UAAUf,GAAQjD,GAI5B8I,OAAQ,SAASpC,EAAOc,GACtB3K,EAAMiC,KAAK4H,EAAO,SAASxB,EAAG5F,GAC5BkI,EAAQxD,UAAU1E,GAAK4F,IACtB,GAAO,IAGZ6D,IAAO,SAASlL,EAAOmL,EAAKxB,GACtBwB,EAAIC,UACNzB,EAAUwB,EACVA,EAAMnL,EACNA,EAAQ,EAGV,IAAIuB,GAAKiI,EAAYG,EAAQH,SAO7B,KALEjI,EADEiI,EACI,MAKQ2B,GAATnL,EAAcA,IAAS,CAC5B,GAAI+K,GAAOpB,EAAQK,QACjBS,MAAOzK,GAGLwJ,GACFjI,GAAOwJ,EAEPxJ,EAAI4B,KAAK4H,GAIb,MAAOxJ,IAGTpB,IAAK,SAASwJ,GACZ,MAAOA,GAAQd,OAGjBwC,MAAO,SAAS1B,GACd,MAAOA,GAAQK,WAkBf9D,GACF2D,GAAMN,GAAgBE,YAAY,IAClCY,KAAQd,GAAgBE,YAAY,EAAOD,WAAW,EAAOrD,WAAW,IACxEmE,OAAUf,GAAgBE,YAAY,IACtCc,OAAQhB,GAAgBE,YAAY,IACpCxI,KAAMsI,IACNhC,KAAMgC,GAAgBE,YAAY,EAAOtD,WAAW,IACpD8E,OAAQ1B,GAAgBE,YAAY,EAAOD,WAAW,EAAOrD,WAAW,IACxE+E,IAAO3B,IACPpJ,IAAKoJ,GAAgBE,YAAY,EAAOD,WAAW,IAErDtD,GAAWiE,OAASZ,EAAcrD,EAAA,MAClCA,EAAWmF,MAAQ9B,EAAcrD,EAAW/F,KAG5CyJ,EAAA,KAAgBA,EAAMO,OACtBjE,EAAA,KAAqBA,EAAWiE,OAChCP,EAAA,QAAmBA,EAAA,KACnB1D,EAAA,QAAwBA,EAAA,KAgCxBrJ,EAAOD,SACLgN,QACA1D,aACAwD,iBR8rBI,SAAS7M,EAAQD,EAASM,GSx8BhC,YAOA,SAASoO,GAAWnL,GAElB,GAAInB,EAAMqB,SAASF,GACjB,MAAOA,EAOT,KAHA,GAAImE,GAAU,mCACZD,SAAU9C,SAEJ8C,EAAWC,EAAQX,KAAKxD,IAAO,CACrC,GAAIU,GAAMwD,EAAS,GACjBlC,EAAQkC,EAAS,EAEd9C,KACHA,MAIE,YAAYuC,KAAKjD,KACnBA,EAAMA,EAAIqD,eAIZrD,EAAM7B,EAAM0D,YAAY7B,GAExBU,EAAIV,GAAOsB,EAGb,MAAOZ,GAIT,QAASgK,GAAQhE,EAAMmD,GACrB,GAAInJ,GAAKpB,CACI6K,UAATN,IACFA,EAAO1N,KAAK0N,KAGd,KAAK,GAAIrJ,GAAI,EAAGC,EAAIoJ,EAAK3J,OAAYO,EAAJD,EAAOA,IAEtC,GADAlB,EAAMuK,EAAKrJ,GACPlB,IACFoB,EAAMpB,EAAIoH,GACEyD,SAARzJ,GACF,MAAOA,GAMf,QAASiK,GAAgBpB,EAAIqB,GAC3B,MAAU,OAANrB,EACKA,EAGLA,EAAGsB,QACEtB,EAAG7M,MACRoO,QAASF,EAAGf,KACZkB,UAAWH,EAAGtG,OACd0G,SAAUJ,EAAGhB,QAIRL,EAAGqB,GAKd,QAAShC,GAAWgC,EAAIK,GACtB,GAAIC,KAQJ,OAPID,IAAM,QAAUA,IAClBC,EAAQ5I,KAAK2I,EAAGpB,MAEdoB,GAAM,SAAWA,IACnBC,EAAQ5I,KAAK2I,EAAGhB,QAIhBJ,KAAMqB,EAAQhL,OAAS/B,EAAMU,UAAUqM,EAASN,EAAGf,MAAQe,EAAGf,KAC9DvF,OAAQ2G,GAAMA,EAAGnB,SAAWc,EAAKA,EAAGtG,OACpCsF,MAAOqB,GAAM,SAAWA,GAAKA,EAAGrB,MAAQgB,EAAGhB,MAC3Cc,WAKJ,QAASS,GAAY5G,GACnB,OAAQA,GACN,IAAK,QACHA,EAAO,WACP,MACF,KAAK,MACHA,EAAO,UAIX,MAAOA,GAIT,QAAS6G,GAAiBC,EAAS1K,GACjC,GAAID,GAAM,EACV,KAAK,GAAIE,KAAKyK,GACZ,IAAK1K,IAASA,EAAKC,GAAI,CACrB,GAAI4F,GAAI6E,EAAQzK,EAChBF,IAAO,IAAME,GAAKA,IAAM4F,EAAI,KAAOA,EAAI,IAAM,KAGjD,MAAO9F,GAIT,QAAS4K,GAAQC,EAAIX,EAAIrB,EAAIiC,GAC3B,MAAO,UAASpF,GACd,MAAOmD,GAAGgC,EAAIX,EAAIxE,EAAOoF,IAK7B,QAASC,GAASC,EAASC,GACzB,MAAO,YACL,GAAIC,GAAUzP,KACZ0N,EAAO1L,EAAMc,WAAWtB,UAE1B,OAAOgO,GAAKD,GACV7B,KAAM+B,GAAWA,EAAQd,QAAU3M,EAAMU,UAAUgL,EAAM+B,EAAQd,SAAWjB,EAC5EvF,OAAQsH,GAAWA,EAAQb,UAAYa,EAAQb,UAAY,KAC3DnB,MAAOgC,GAAWA,EAAQZ,SAAWY,EAAQZ,SAAW,KACxDN,aAMN,QAASmB,GAASC,GAChB,GAAIJ,IACF/C,UAAWmD,EAAInD,UACfI,MAAOhM,EAAGgM,MACVnC,QAAS7J,EAAG6J,QACZ/F,KAAM1C,EAAM0C,KACZvB,IAAKnB,EAAMmB,IACXwB,QAAS3C,EAAM2C,QACfI,KAAM/C,EAAM+C,KACZ0H,aACA+B,kBACAF,aACAa,UAsBF,OAnBKI,GAAQ/C,WAKX+C,EAAQN,iBAAmBA,EAC3BM,EAAQnN,OAASxB,EAAGwB,SALpBmN,EAAQK,EAAIhP,EAAGa,cACf8N,EAAQ7N,WAAad,EAAGc,YAO1BM,EAAMiC,KAAK0L,EAAK,SAAStF,EAAG5F,GACA,IAAtBA,EAAEmB,QAAQ,SACZ2J,EAAQ9K,GAAK6K,EAASC,EAASlF,GAC/BkF,EAAQ9K,GAAGiK,SAAU,EACrBa,EAAQ,IAAM9K,GAAK4F,GACU,IAApB5F,EAAEmB,QAAQ,QACnB2J,EAAQ9K,GAAK4F,KAEd,GAAO,GAEHkF,EA7KT,GAAM3O,GAAKV,EAAQ,GACjB8B,EAAQ9B,EAAQ,EA+KlBL,GAAOD,SACL6M,aACA8B,UACAC,kBACAQ,cACAV,aACAW,mBACAE,UACAG,WACAI,aTm9BI,SAAS7P,EAAQD,GU9oCvB,YAUA,SAASwC,GAAOyN,GACd,MAAY,OAARA,EACK,GAEAA,EAAKpK,QAIPoK,EAAKpK,QAAQ,WAAY,SAAUqK,GACxC,MAAOC,GAAcD,KAJdD,EAbX,GAAIE,IACFC,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAM,SAgBRvQ,GAAOD,QAAUwC,GVmpCX,SAASvC,EAAQD,EAASM,GW1qChC,YAgBA,SAASmQ,GAAelN,EAAKgF,EAAQmI,GACnC,GAAIpI,KACJA,GAAK5E,KAAO,eACZ4E,EAAKc,SAAWN,EAAUC,cAAcxF,IACxCgF,EAAOmI,GAAenK,KAAK+B,GAI7B,QAAS7F,GAAUc,EAAKgF,EAAQoI,GAC9B,GAAID,GAAgB,SAEpB,IAAKtO,EAAMkB,QAAQC,GAAnB,CAeA,GAAI+E,MACFsI,EAAQrN,EAAI,EACd,IAAInB,EAAMwB,SAASgN,GAAQ,CACzB,GAIE1I,GACA2I,EAGEC,EAEF1I,EACAY,EACAQ,EACAN,EACA6H,EAdEH,EAAQA,EACV/H,EAAMtF,EAAIY,OACV6M,EAAOzN,EAAIsF,EAAM,GACjBoI,GAAa,EAMbC,GAAc,CAQhB,IADAhJ,EAAOiJ,EAASnJ,OAAO4I,GAahB,CACL,GAAIQ,GAAWlJ,EAAK,EAIpB,IAHA2I,EAAa3I,EAAK,GAClBE,EAAS+I,EAAS/I,OAAOgJ,GACzBpI,EAAemI,EAASnI,aAAaoI,IAChCpI,EAAc,CACjB,GAAIqI,GAAWF,EAASjI,WAAWkI,EACnC5H,GAAS6H,EAAS7H,OAClBN,EAAamI,EAASnI,WACtB6H,EAAiBvH,GAAUmH,EAAezH,EAG5CZ,EAAK5E,KAAO,UACZ4E,EAAKJ,KAAOkJ,EACM,MAAdP,GAAuBzI,GAAWY,IAC/BV,EAAK3B,OACR2B,EAAK3B,SAGPvE,EAAMiC,KAAKwM,EAAY,SAASxG,GAC9B,GAAoB,cAAhBA,EAAM9E,MAER,YADA+C,EAAKsE,WAAY,EAInB,IAAI0E,GAASxI,EAAUC,cAAcsB,EAAM9E,MACvC8E,GAAMzC,UACRU,EAAK3B,KAAKJ,KAAK+K,IAEVhJ,EAAKH,SACRG,EAAKH,OAAS/F,EAAMmB,OAEtB+E,EAAKH,OAAOkC,EAAMpG,KAAOqN,KAE1B,GAAO,IAGZL,GAAa,MAjDJ,CACT,GAAInK,GAAaqK,EAAStK,cAAc+J,EACpC9J,KACFgK,EAAchK,EAAW,GAEpBqK,EAASnK,kBAAkB4J,GAG9BtI,EAAKiJ,cAAe,EAFpBL,EAAcC,EAAStJ,cAAcmJ,EAAMF,GAI7CG,GAAa,GA0CjB,GAAIA,EAAY,CACd,GAAIO,IAAc,CAElB,IAAKtJ,EA0BCE,GACFoJ,GAAc,EAGdL,EAAS9I,QAAQC,EAAMC,EAAQsI,EAAaA,EAAW,GAAGtL,MAAQ,OACzDyD,EACTwI,GAAc,EACLT,IACTS,GAAc,OAlCP,CACTlJ,EAAK5E,KAAOoN,CAGZ,IAAIW,GAAYN,EAASrJ,oBAAoBgJ,EACzCW,KACFnJ,EAAKmJ,UAAY3I,EAAUC,cAAc0I,EAAU,IAIrD,IAAIC,GAAYP,EAAS5J,iBAAiBqJ,EACtCc,KACGpJ,EAAKH,SACRG,EAAKH,OAAS/F,EAAMmB,OAGtBnB,EAAMiC,KAAKqN,EAAW,SAASrH,GAC7B/B,EAAKH,OAAOkC,EAAMzC,UAAYyC,EAAMzC,UAAU/B,QAAQ,UAAW,IAAMwE,EAAMpG,KAAO6E,EAAUC,cAAcsB,EAAM9E,SACjH,GAAO,IAIP+C,EAAKiJ,eACRjJ,EAAKiJ,aAAeJ,EAAShK,mBAAmB2J,IAgBhDU,GACFjJ,EAAOmI,GAAenK,KAAK+B,EAI7B,IAAIiG,GAAM1F,GAAOqI,EAAc,EAAI,GACjC9H,EAAU7F,EAAIiD,MAAM,EAAG+H,EACrBnF,IAAWA,EAAQjF,QACrBwN,EAAiBvI,EAASd,EAAMU,GAAiB2H,IAAiBnH,IAIhER,GAAgB+H,IAClBI,EAASlI,cAAcX,EAAMC,EAAQW,OAGvCyI,GAAiBpO,EAAKgF,EAAQoI,OAEvBvO,GAAMkB,QAAQsN,IACvBe,EAAiBpO,EAAKgF,EAAQoI,OAnJ9B,IAAIvO,EAAMwB,SAASL,KAASgF,EAAOL,MAAQ0J,EAAiB5L,QAAQuC,EAAO7E,KAAK4D,eAAiB,GAAI,CACnG,GAAIsB,GAAOrF,EAAIuH,MAAM3I,EAAS0P,aAC9BjJ,GAAKkJ,QAAQ,SAAC/L,EAAKtB,GACjBsB,EAAMA,EAAIgF,OACF,KAARhF,GAAc0K,EAAe1K,EAAKwC,EAAQmI,SAI5CD,GAAelN,EAAKgF,EAAQmI,GAgJlC,QAASiB,GAAiBpO,EAAKgF,EAAQoI,GAChCpI,EAAOa,UACVb,EAAOa,YAGThH,EAAMiC,KAAKd,EAAK,SAASwI,GACvBtJ,EAAUsJ,EAAMxD,EAAQoI,KACvB,GAAO,GAzLZ,GAAM3P,GAAKV,EAAQ,GACjB8B,EAAQ9B,EAAQ,GAChBwI,EAAYxI,EAAQ,GACpB6Q,EAAW7Q,EAAQ,GACnB6B,EAAWnB,EAAGmB,SACdyP,GACE,QACA,SACA,WACA,MACA,MACA,WAiLJ3R,GAAOD,SACLyC,cXqrCI,SAASxC,EAAQD,EAASM,GYp3ChC,YAMA,SAASoC,GAAkB8F,EAAMuJ,GAC/B,GAAI5J,GAASK,CAUb,OATKpG,GAAMqB,SAAS+E,KAClBL,KACAA,EAAOK,GAAQuJ,GAGjB3P,EAAMiC,KAAK8D,EAAQ,SAAUsC,EAAG5F,GAC9B7D,EAAGc,WAAW+C,EAAEyC,eAAiBmD,IAChC,GAAO,GAEHsH,EAfT,GAAI/Q,GAAKV,EAAQ,GACf8B,EAAQ9B,EAAQ,EAiBlBL,GAAOD,SACL0C,sBZ23CI,SAASzC,EAAQD,EAASM,Gah5ChC,YAqDA,SAASqM,GAAcxE,GACrB,GAAIxD,IACFiI,WAAW,EAMb,OAHIzE,KACFxD,EAAMvC,EAAMd,OAAOqD,EAAKwD,IAEnBxD,EAoBT,QAASqN,GAAexJ,EAAM7F,EAAQoK,GACpC,GAAI5E,GAASK,CACRpG,GAAMqB,SAAS+E,KAClBL,KACAA,EAAOK,IACL7F,OAAQA,EACRoK,QAASA,IAIb3K,EAAMiC,KAAK8D,EAAQ,SAASsC,EAAGjC,GAC7B,GAAIiC,EAAG,CACL,GAAI9H,GAAS8H,EAAE9H,OACboK,EAAUtC,EAAEsC,OAEVpK,IAAUoK,GACRpK,IACFkI,EAAQrC,GAAQ7F,GAEdoK,IACFkF,EAAazJ,GAAQmE,EAAcI,KAGrClC,EAAQrC,GAAQiC,KAGnB,GAAO,GAzGZ,GAAIrI,GAAQ9B,EAAQ,GAGhBuK,GAEFF,KAAM,SAACpF,EAAO0G,GACZ,GAAItH,GAAMY,CAKV,OAJAZ,IAAOsH,EAAMnB,MAAM,KAAKgH,QAAQ,SAAAhR,GAC9B6D,EAAMA,EAAI7D,KAGL6D,GAGTuN,KAAM,SAACC,EAAMC,GAAP,MAAgBD,IAAQC,GAE9BC,MAAO,SAACF,EAAMC,GAAP,MAAgBD,KAASC,GAGhCE,GAAI,SAACH,EAAMC,GAAP,MAAuBA,GAAPD,GAEpBI,IAAK,SAACJ,EAAMC,GAAP,MAAwBA,IAARD,GAGrBK,GAAI,SAACL,EAAMC,GAAP,MAAgBD,GAAOC,GAE3BK,IAAK,SAACN,EAAMC,GAAP,MAAgBD,IAAQC,GAE7BM,IAAK,SAACP,EAAMC,GAAP,MAAgBD,GAAOC,GAE5BO,IAAK,SAACR,EAAMC,GAAP,MAAgBD,GAAOC,GAG5BQ,IAAK,SAAC5N,EAAKmN,EAAMC,GAAZ,MAAqBpN,GAAMmN,EAAOC,GAGvCS,IAAK,SAAA7N,GAAA,MAAO8N,UAAS9N,EAAK,KAG1B+N,MAAO,SAAA/N,GAAA,MAAOgO,YAAWhO,IAGzBiO,KAAM,SAAAjO,GACJ,MAAY,UAARA,KAIWA,IAgBfiN,GACFtH,KAAMgC,IACNuF,KAAMvF,IACN0F,MAAO1F,IACP2F,GAAI3F,IACJ4F,IAAK5F,IACL6F,GAAI7F,IACJ8F,IAAK9F,IACL+F,IAAK/F,IACLgG,IAAKhG,IACLkG,IAAKlG,IACLoG,MAAOpG,IACPsG,KAAMtG,IAiCR1M,GAAOD,SACL6K,UACAoH,eACAD,mBb66CI,SAAS/R,EAAQD,EAASM,Gc9hDhC,YAKA,SAAS4S,GAAcC,EAAKC,GAC1B,MAAWC,QAAOF,EAAKC,GAIzB,QAASE,GAAavN,GAMpB,IALA,GAGEwN,GAHE5O,EAAM,GACRF,EAAI,EACJC,EAAIqB,EAAI5B,OAGCO,EAAJD,EAAOA,IACZ8O,EAAOxN,EAAItB,GACPE,EAAIqB,QAAQuN,GAAQ,IACtB5O,GAAO4O,EAIX,OAAO5O,GArBT,GAAM3D,GAAKV,EAAQ,GACjB8B,EAAQ9B,EAAQ,EAuBlBL,GAAOD,QAAU,WAAqB,GAAZwT,GAAY5R,UAAAuC,OAAA,GAAAiK,SAAAxM,UAAA,GAAAA,UAAA,MAAA6R,EAShCzS,EAAGmB,SAT6BuR,EAAAD,EAElCpH,YAFkC+B,SAAAsF,EAEtB,KAFsBA,EAAAC,EAAAF,EAGlCG,UAHkCxF,SAAAuF,EAGxB,KAHwBA,EAAAE,EAAAJ,EAIlCK,WAJkC1F,SAAAyF,EAIvB,IAJuBA,EAAAE,EAAAN,EAKlCO,WALkC5F,SAAA2F,EAKvB,IALuBA,EAAAE,EAAAR,EAMlCS,eANkC9F,SAAA6F,EAMnB,WANmBA,EAAAE,EAAAV,EAOlCW,YAPkChG,SAAA+F,EAOtB,MAPsBA,EAAAE,EAAAZ,EAQlCa,cARkClG,SAAAiG,EAQpB,IARoBA,EAYlCjR,EAOEoQ,EAPFpQ,MACAmL,EAMEiF,EANFjF,IACArG,EAKEsL,EALFtL,KACAyC,EAIE6I,EAJF7I,KACAmF,EAGE0D,EAHF1D,SACAyE,EAEEf,EAFFe,MACAC,EACEhB,EADFgB,OAGEpR,KACFiJ,EAAYjJ,GAEVmL,IACFqF,EAAUrF,GAERrG,IACF4L,EAAW5L,GAETyC,IACFqJ,EAAWrJ,GAETmF,IACFoE,EAAepE,GAEbyE,IACFH,EAAYG,GAEC,MAAXC,IACFF,EAAcE,EAGhB,IAAIC,GAAWnB,EAAajH,EAAYuH,GACtCxH,EAAYC,EAAU,GACtBqI,EAAWd,EAAQA,EAAQzP,OAAS,GACpCwQ,EAAaF,EAASvO,OAAO,GAC7B0O,EAAYtB,EAAaQ,EAAWE,EAAWI,GAC/CS,EAAiBf,EAASjO,QAAQ,MAAO,MAG3CzD,GAAMd,OAAON,EAAGmB,UACdkK,YACAuH,UACAE,WACAE,WACAE,eACAE,YACAE,cACAlI,YACAsI,WACA5N,WAAYoM,EAAc,UAAY9G,EAAYwI,EAAY,gBAAkBxI,EAAYuI,EAAa,aAAc,KACvHhN,cAAeuL,EAAc,aAAe9G,EAAY,KAAOC,EAAY,OAASoI,EAAW,OAASb,EAAU,IAAMc,EAAW,2DAA4D,KAC/L3M,iBAAkBmL,EAAc,KAAO9G,EAAY,KAAOC,EAAY,OAASoI,EAAW,OAASb,EAAU,IAAMc,EAAW,MAAO,KACrII,WAAY5B,EAAc,WAAa9G,EAAY,KAAOC,EAAY,sBAAwBoI,EAAW,OAASb,EAAU,IAAMc,EAAW,MAAO,KACpJ1I,aAAckH,EAAc,OAAS9G,EAAY,KAAOC,EAAY,MAAQoI,EAAW,QAAUb,EAAU,IAAMc,EAAW,OAC5H5I,aAAcoH,EAAc,MAAQ9G,EAAY,KAAOC,EAAY,QAAUoI,EAAW,OAASb,EAAU,IAAMc,EAAW,MAAO,KACnIjS,UAAWyQ,EAAc,iBAAmB9G,EAAY,IAAMwI,EAAY,gBAAkBH,EAAWG,EAAY,sBAAuB,MAC1I1M,KAAMgL,EAAc,IAAM2B,EAAiB,YAAa,KACxDE,QAAS7B,EAAc,IAAM2B,EAAiB,kBAAmB,MACjEhD,aAAcqB,EAAc,aAAe9G,EAAYsI,EAAW,KAAOA,EAAW,IAAK,Sd2iDvF,SAASzU,EAAQD,EAASM,Ge3oDhC,YAQA,SAAS0U,GAAetT,GACtB,MAAO,UAASuT,EAAMC,EAASC,GAC7B,GAAKF,EAAL,CAGA,GAAIhU,EAAMwC,SAASyR,GAAU,CAC3B,GAAInI,GAAUmI,CACdA,GAAUnI,EAAQmI,QAClBC,EAAWpI,EAAQoI,SAIrB,GAAIC,EAIJ,IAHIF,IACFE,EAAUpU,EAAGgB,UAAUkT,KAEpBE,EAAS,CACZ,GACErF,GADEsF,EAAQpU,EAAMwC,SAASwR,EAE3B,IAAII,GAASJ,EAAKrF,KAChBG,EAAMkF,MACD,CACL,GAAInV,EAIJ,IAHIoV,IACFpV,EAAOkB,EAAGe,KAAKmT,KAEZpV,EAAM,CAET,GAAIuV,GAAuB,YAAdJ,EAAKvR,KAChB5D,EAAOmV,MACF,CAIL,GAHAnV,EAAOwV,IAGHrU,EAAM2C,SAASqR,GAAO,CAExB,GAAIM,GAAgBvU,EAAGuU,aACnBA,KACFN,EAAOM,EAAcN,EAAME,IAG7BF,EAAO9T,EAAkB8T,GAI3BhU,EAAMwB,UAAUwS,EAAKnG,QAAShP,GAI5BoV,IACFlU,EAAGe,KAAKmT,GAAWpV,GAIvBiQ,EAAMyF,EAAa1V,EAAKsJ,SAAU1H,GAGpC0T,EAAUnU,EAAM6O,SAASC,GAGrBmF,IACFlU,EAAGgB,UAAUkT,GAAWE,GAI5B,GAAIH,EAAKQ,UAAW,CAClB,GAAMC,GAAS,WACb,MAAON,GAAQxF,KAAKjO,MAAMvB,KAAMa,EAAM6B,WAAWmS,EAAKQ,WAAY7T,YAGpE,OADA8T,GAAO5G,SAAU,EACV4G,EAEP,MAAON,GAAQxF,OASrB,QAAS0F,KACP,GAAIxV,GAAOmB,EAAMsC,KAIjB,OAHAzD,GAAK4D,KAAO,UACZ5D,EAAKsJ,WAEEtJ,EAIT,QAAS6V,GAAWV,EAAMvT,GACxB,GAAI5B,GAAOwV,GAOX,OALIrU,GAAM2C,SAASqR,KACjBA,EAAO9T,EAAkB8T,IAE3BhU,EAAMwB,UAAUwS,EAAKnG,QAAShP,GAEvB0V,EAAa1V,EAAKsJ,SAAU1H,GAGrC,QAASkU,GAAclU,GACrB,MAAO,UAASuT,EAAMlI,GACpB,OAAQrL,EAAUmU,EAAWC,GAASb,EAAMlI,GAC1CmI,QAASnI,EAAQmI,QAAUnI,EAAQmI,QAAUD,EAAKc,WAClDZ,SAAUpI,EAAQoI,UAChBF,EAAKc,YAAYpU,MAAM,KAAMV,EAAMiC,WAAWtB,UAAW,KAhHjE,GAAMZ,GAAKV,EAAQ,GACjBW,EAAQX,EAAQ,GAChBkV,EAAelV,EAAQ,IACvBa,EAAoBb,EAAQ,IAgFxBwV,EAAUd,IACda,EAAWb,GAAe,EAgC5B/U,GAAOD,SACL8V,UACAD,WACAF,aACAK,OAAQJ,IACRK,QAASL,GAAc,KfopDnB,SAAS3V,EAAQD,EAASM,GgB/wDhC,YASA,SAAS4V,GAAS9M,EAAS2G,EAAKoG,EAAItJ,EAAYuJ,EAAOC,GACrD,GAAIC,GAAQ,GACV1J,EAA8B,MAAlByJ,EAAyBA,EAAiBtG,EAAInD,UAC1D2J,EAAatV,EAAM2C,SAASuS,GAC5BvG,EAAO2G,GAAqB,IAAPJ,EAMrBK,EAA6B,IAAnBpN,EAAQjF,OAAe,IAAM,IACvCsS,GACEC,MAAO,EACPC,WAAY,EACZC,QAAS,EACTC,SAAU,EACVC,WAAY,EACZC,WAAY,EACZC,MAAO,EACPC,OAAQ,EACRC,QAAS,EACTrK,WAAYA,EAkChB,OA/BKD,GAGH6J,EAAQU,UAAY,EAFpBV,EAAQK,WAAa,GAKlBlH,GAAQ/C,IACXyJ,GAAS,iCAGK,MAAZE,IAIAF,GAHG1J,EAGM,kBAFA,mBAMb0J,GAASc,EAAchO,EAAS2G,EAAK0G,EAASD,EAASJ,EAAOC,GAE9C,MAAZG,IACFF,GAAS,eASXvG,EAAIH,EAAO,QAAU2G,EAAaJ,EAAK,IAAM,KAAOA,GAAUkB,SAAS,KAAM,KAAM,KAAM,KAAMf,GACxFH,EAGT,QAASmB,GAAcjW,EAAQgV,EAAgB/N,EAAMyH,EAAKwH,EAAcnB,EAAOoB,GAC7E,GAAIC,GAAU,GACZC,GAAYrW,CAKd,KAHIqW,GAAYrW,EAAOuL,aACrB6K,GAAW,iBAAqC,MAAlBpB,EAAyB,eAAkBA,EAAiB,OAAS,UAEjG/N,EAAM,CACR,GAAIuE,IAAaxL,GAASA,EAAOwL,YAC7B6K,GAAYrW,EAAOkI,aACrBkO,GAAW,gBAAkBF,GAG/BE,GAAW,cAAgBnP,EAAKc,QAAU,2BAA6B8M,EAAS5N,EAAKc,QAAS2G,IAAOA,EAAI4H,IAAK9K,EAAYuJ,EAAOC,GAAkB,KAAOkB,EAAe,IAAM,WAE9J,MAAbC,IACFC,GAAW,YAAcD,GAI7B,MAAO,2BAA6BC,EAAU,KAGhD,QAASG,GAAerU,EAAKkT,EAAS1G,EAAKsG,GACzC,GAAIwB,UACFrV,EAASe,EAAIf,OAF0CsV,EAG1BvU,EAAIoH,KAA3Bc,EAHiDqM,EAGjDrM,OAAQE,EAHyCmM,EAGzCnM,UAGhB,IAAKpI,EAAIoH,KAAKe,YAkCZmM,EAAetU,EAAIoH,KAAKnC,KAAOiD,MAlCN,IAAAsM,GACGxU,EAAIoH,KAAxBnC,EADiBuP,EACjBvP,KAAM8C,EADWyM,EACXzM,UACVwC,EAAO,GACTkK,GAAU,EACVC,GAAW,CAUb,IARa,WAATzP,GACFsF,EAAO,QACPkK,GAAU,GACQ,SAATxP,IACTsF,EAAO,UACPkK,GAAU,GAGR1M,EAAW,CACRwC,IACHA,EAAO,OAET,KAAK,GAAIrJ,GAAI,EAAO6G,EAAJ7G,EAAeA,IAC7BqJ,EAAO,UAAYA,CAGhBkK,KACHC,GAAW,GAIf,GAAKD,GAAYC,EAEV,CACL,GAAIC,GAAU,MAAQpK,CACtB+J,IAAgBG,EAAUE,GAAWvM,EAAa,sBAAwB,IAAM,eAAkBnD,EAAO,MAAS0P,EAAU,KAAOvM,EAAa,QAAU,KAAOF,MAHjKoM,IAAgBlM,EAAa,sBAAwB,IAAM,eAAkBnD,EAAO,MAASmD,EAAa,QAAU,IAAMF,EAU9H,GAAIZ,GAAUtH,EAAIoH,KAAKE,OACvB,IAAIA,EAAS,CACX,GAAIsN,GAAW,SAAW1B,EAAQQ,SAChCmB,EAAY,OAASD,EAAW,MAAQN,EAAe,KA8BzD,OA5BA5W,GAAMoD,KAAKwG,EAAS,SAASwN,GAC3B,GAAIC,GAAW7B,EAAQS,UACrBqB,EAAUtG,EAAaoG,EAAE7P,MACzBgQ,EAAe,UAAYF,EAC3BG,EAAkB,eAAkBJ,EAAE7P,KAAO,IAE3C+P,GACFH,GAAa,SAAWI,EAAe,MAAQC,EAAkB,OAEjEL,GAAa,SAAWI,EAAe,kBAAqBH,EAAE7P,KAAO,QACrE4P,GAAa,OAASI,EAAe,KAAOA,EAAe,MAAQC,EAAkB,OAEvFL,GAAa,QAAUI,EAAe,QACtCJ,GAAa,cAAiBC,EAAE7P,KAAO,kBACvC4P,GAAa,MACbA,GAAa,WACbA,GAAa,KAAOD,EAAW,MAAQK,EAAe,eAAiBL,GACpEE,EAAElQ,OAASkQ,EAAElQ,OAAOuQ,OAAO,SAAS5X,EAAGD,GACtC,MAAOC,GAAI,KAAO8W,GAChBjN,KAAM9J,EACN2B,UACCiU,EAAS1G,EAAKsG,IAChB,IAAM,IACT,KAAOiB,EAAciB,EAASlC,GAC9B,QACF+B,GAAa,QACZ,GAAO,IAGRD,SAAUQ,EAAaR,EAAUpI,GAAKpE,GAAqBnJ,GAC3D4V,UAAWA,GAGb,MAAOO,GAAad,EAAc9H,GAAKpE,GAAqBnJ,GAIhE,QAASmW,GAAaR,EAAUpI,EAAKvN,GACnC,MAAIuN,GAAInD,UACFpK,EACK,aAAe2V,EAAW,IAE1BA,EAGFS,EAAqBT,GAIhC,QAASU,GAAa9S,GACpB,MAAOA,GAAIF,QAAQ,KAAM,OAG3B,QAASiT,GAAYvV,EAAKkT,EAAS1G,EAAKsG,GACtC,GAAI0C,GAAOxV,EAAIqF,KAAK,GAClBuP,EAAW,GACXC,EAAY,EAoDd,OAlDInX,GAAM2C,SAASmV,IACjBZ,EAAY5U,EAAI2I,OAAkB,KAAT6M,EAAmD,GAApC,IAAOF,EAAaE,GAAQ,IACpEX,EAAY,GAEZnX,EAAMoD,KAAKd,EAAI0I,MAAO,SAASoM,EAAG5T,GAChC,GACEoT,GADEmB,EAAWpB,EAAeS,EAAG5B,EAAS1G,EAAKsG,EAS/C,IAPIpV,EAAM2C,SAASoV,GACjBnB,EAAemB,GAEfnB,EAAemB,EAASb,SACxBC,GAAaY,EAASZ,YAGnB7U,EAAI2I,MAAO,CACd,GAAI+M,GAAO1V,EAAIqF,KAAKnE,EAAI,GACtByU,EAAsB,KAATH,GAAoB,GAALtU,EAAS,GAAK,KAE5C,IAAoB,QAAhBwU,EAAKlO,OAEP,YADAoN,GAAYe,EAAYrB,EAI1BA,GAAeqB,EACb,IAAMrB,EAAe,KACX,KAAToB,EAAc,OAAUJ,EAAaI,GAAQ,IAAO,IAIzD,GADAd,GAAYN,EACRtU,EAAI2I,MACN,OAAO,IAER,GAAO,IACDjL,EAAMwC,SAASsV,IAAwB,MAAfA,EAAK5U,SACtCgU,GAAY,MACZlX,EAAMoD,KAAK0U,EAAM,SAAStO,EAAG5F,EAAGJ,EAAGC,GAE/ByT,GADQ,WAANtT,EACU,MAAQA,EAAI,aAAeqR,EAASzL,EAAErB,QAAS2G,EAAK,OAAQA,EAAIoJ,MAEhE,aAAe1O,EAG7B0N,GAAY,MACR1T,IAAMC,EAAI,IACZyT,GAAY,0EAEb,GAAO,GACVA,GAAY,KAGI,KAAdC,EACKD,GAGLA,SAAUA,EACVC,UAAWA,GAKjB,QAASgB,GAAa9Q,EAAMyH,EAAK0G,EAAS7J,GAExC,GAGEyM,GAHElR,EAASG,EAAKH,OAChBgB,EAAab,EAAKa,WAClBmQ,EAAY,GAEZC,EAAaxJ,EAAInD,SAEnB,IAAIzE,GAAUgB,EAAY,CAKxB,GAJAkQ,EAAW5C,EAAQG,UACnB0C,EAAY,cAAgBD,EAAW,MAGnClQ,EAAY,CACd,GAAIqQ,GAAY/C,EAAQI,UAQxB,IAPAyC,IAAc1M,EAAY,KAAS,QAAU,MAC7C0M,GAAa,eAAiBE,EAAY,WAG1CF,GAAalC,EAAcjO,EAAWC,QAAS2G,EAAK0G,GAAWI,SAAU,WAAa2C,GAAa,KAAM5M,GAGpGA,EAGE,CACL,GAAIhI,GAAO,EACX3D,GAAMoD,KAAK8D,EAAQ,SAASsC,EAAG5F,EAAGJ,EAAGC,GAC1B,GAALD,IACFG,GAAQ,MAEVA,GAAQC,EAAI,MAGVD,GADMF,EAAI,EAARD,EACM,KAEA,OAET,GAAO,GACV6U,GAAa,UAAYD,EAAW,mCAAqCG,EAAY,MAAiB,KAAT5U,EAAc,OAASA,GAAQ,WAhB5H0U,IAAa,YAAcD,EAAW,cAAgBG,EAAY,MAoBtE,GAAIrR,EAAQ,CACV,GAAIsR,GAAY5V,OAAOe,KAAKuD,GAC1BU,EAAM4Q,EAAUtV,OAChBiU,EAAY,EAETxL,IAAczD,IACjBmQ,GAAa,OAGfrY,EAAMoD,KAAKoV,EAAW,SAAS5U,EAAGJ,GAChC,GAAI0T,GAAWW,EAAY3Q,EAAOtD,GAAI4R,EAAS1G,EAAKnD,EAChD3L,GAAMwC,SAAS0U,KACjBC,GAAaD,EAASC,UACtBD,EAAWA,EAASA,UAGjBoB,GAAoB,UAAN1U,IACjBsT,EAAW,iBAAmBA,EAAW,IAG3C,IAAIlU,GAAMY,EACR6U,EAAW,IAAOzV,EAAM,MAAUkU,CAC/BoB,KACHtV,EAAMhD,EAAMmO,YAAYvK,IAYtByU,GAVCnQ,EAOEyD,EAGU,UAAYyM,EAAW,SAAYpV,GAAQyV,EAA8C,KAApC,UAAYvB,EAAW,WAAsB,MAFlG,UAAYkB,EAAW,KAAQpV,EAAM,SAAayV,EAAqB,OAAXvB,GAAqB,MAP3FvL,GAGWnI,EAAI,EAAI,OAAS,IAAM,KAAQR,GAAQyV,EAA8C,KAApC,UAAYvB,EAAW,YAAuB1T,GAAKoE,EAAM,EAAI,IAAM,IAAM,KAF3H,MAAS5E,EAAM,OAAWyV,EAAqB,OAAXvB,IAA0BtP,EAAM,EAAVpE,EAAc,MAAQ,MAWhG,GAAO,GAELmI,GAAczD,IACjBmQ,GAAa,UAGG,KAAdlB,IACFkB,EAAYlB,EAAYkB,IAK9B,OAAQA,EAAWD,GAGrB,QAASM,GAAWrR,EAAMyH,EAAK0G,EAASD,EAASJ,EAAOC,GACtD,GAAIC,GAAQ,GACViD,EAAaxJ,EAAInD,SAEnB,IAAkB,iBAAdtE,EAAK5E,KAAyB,CAChC,GACE0U,GADED,EAAWW,EAAYxQ,EAAKc,QAAQ,GAAIqN,EAAS1G,EAAKsG,EAEtDpV,GAAMwC,SAAS0U,KACjBC,EAAYD,EAASC,UACrBD,EAAWA,EAASA,SAGtB,IAAIyB,GAAUC,EAAa,EAAGrD,GAAWvG,KAAMkI,GAAYpI,EAAKqG,EAAOC,EACnE+B,KACFwB,EAAUxB,EAAYwB,GAItBtD,GADEiD,EACOK,EAEAhB,EAAqBgB,OAE3B,IAAkB,YAAdtR,EAAK5E,KAAoB,CAClC,GAAIoW,GAASrD,EAAQO,QACnB+C,EAActD,EAAQM,aACtBiD,EAAe,GACf5B,EAAY,GACZ6B,EAAU3Q,EAAWhB,EAAKJ,MAC1BgS,EAAa,QAAUJ,EACvBK,EAAgB,aAAgB7R,EAAKJ,KAAO,IAE1C+R,GACF3D,GAAS,SAAW4D,EAAa,MAAQC,EAAgB,OAEzD7D,GAAS,SAAW4D,EAAa,kBAAqB5R,EAAKJ,KAAO,QAClEoO,GAAS,OAAS4D,EAAa,KAAOA,EAAa,MAAQC,EAAgB,OAG7EH,GAAgB,iBAAmBD,EAAc,SAE7CzR,EAAK3B,MACP1F,EAAMoD,KAAKiE,EAAK3B,KAAM,SAASyT,EAAK3V,GAClC,GAAI0T,GAAWW,EAAYsB,EAAK3D,EAAS1G,EAAKsG,EAC1CpV,GAAMwC,SAAS0U,KACjBC,GAAaD,EAASC,UACtBD,EAAWA,EAASA,UAGtB6B,GAAgB,KAAO7B,EAAW,MACjC,GAAO,EAIZ,IAAIZ,GAAe,IACff,IAAWA,EAAQK,WACrBU,EAAef,EAAQK,SAIzB,IAAI1K,GAAOiN,EAAa9Q,EAAMyH,EAAK0G,GAAS,GAC1C6C,EAAYnN,EAAK,GACjBkN,EAAWlN,EAAK,EAElB6N,IAAgB1C,EAAc2C,EAAS5D,EAAgB/N,EAAMyH,EAAKwH,EAAcnB,EAAqB,KAAdkD,EAAmB,UAAYD,EAAW,MACjIW,GAAgB,SAEE,KAAd5B,IACF4B,EAAe5B,EAAY4B,GAG7B1D,GAASgD,EAAYU,EAGrB1D,GAAS,mBAAqBwD,EAAS,MAASxR,EAAKJ,KAAO,gBAG5DoO,GAASuD,EAAa,EAAGrD,GACvBQ,MAAO8C,EACP/C,WAAYgD,GACXhK,EAAKqG,EAAOC,OACV,CAEL,GACEK,GADE2D,EAAS5D,EAAQC,OAGnBA,GADEpO,EAAKmJ,UACCnJ,EAAKmJ,UAAUxF,MAAM,GAAGtB,KAAKnC,KAE7BF,EAAK5E,IAGf,IAAI4W,EAOJ,IAHEA,EAHGf,EAGO,IAAO7C,EAAQ,IAFf,kBAAqBA,EAAMpP,cAAgB,uBAA2BoP,EAAMpP,cAAgB,SAAaoP,EAAQ,IAKzHpO,EAAKmJ,UAAW,CAClB,GAAI8I,GAAc9D,EAAQE,aACxB6D,EAAY1B,EAAYxQ,EAAKmJ,UAAWgF,EAAS1G,EAC/C9O,GAAMwC,SAAS+W,KACjBlE,GAASkE,EAAUpC,UACnBoC,EAAYA,EAAUrC,UAGxB7B,GAAS,mBAAqBiE,EAAc,MAAQC,EAAY,MAChElE,GAAS,YAAc+D,EAAS,gBAAkBE,EAAc,gBAAkBA,EAAc,OAASD,EAAU,WAEnHhE,IAAS,cAAgB+D,EAAS,MAAQC,EAAU,KAItD,IAAInO,GAAOiN,EAAa9Q,EAAMyH,EAAK0G,EAAS8C,GAC1CD,EAAYnN,EAAK,GACjBkN,EAAWlN,EAAK,EAClBmK,IAASgD,CAET,IAAImB,GAAaC,CACZnB,IAIHmB,EAAajE,EAAQU,YACrBb,GAAS,gBAAkBoE,EAAa,aAJxCD,EAAchE,EAAQK,aACtBR,GAAS,iBAAmBmE,EAAc,YAAcJ,EAAS,MAAsB,KAAdf,EAAmB,UAAYD,EAAW,QAAU,QAO/H/C,GAASc,EAAc9O,EAAKc,QAAS2G,EAAK0G,EAAU8C,GAA4DpC,UAAW,YAAcuD,IAAtE5D,WAAY,aAAe2D,GAAkE,MAATrE,EAAgBA,EAAQ,EAAIA,EAAOC,GAG1LC,GAASuD,EAAa,EAAGrD,EAAU+C,GAA6C7C,MAAO2D,EAAQzD,QAAuB,KAAd0C,EAAmBD,EAAW,KAAMlC,UAAWuD,EAAYC,WAAYrS,EAAKiJ,eAAlIuF,WAAY2D,GAAsI1K,EAAKqG,EAAOC,GAGlN,MAAOC,GAGT,QAASc,GAAchO,EAAS2G,EAAK0G,EAASD,EAASJ,EAAOC,GAC5D,GAAIC,GAAQ,EACZ,OAAKlN,IAILnI,EAAMoD,KAAK+E,EAAS,SAASd,GAC3BgO,GAASqD,EAAWrR,EAAMyH,EAAK0G,EAASD,EAASJ,IAAO9N,EAAKsE,WAAmByJ,KAC/E,GAAO,GAEHC,GAPEA,EAUX,QAASuD,GAAae,EAAUpE,EAASrO,EAAQ4H,EAAKqG,EAAOC,GAC3D,GAAIwE,GACFtB,EAAaxJ,EAAInD,UACjBA,EAA8B,MAAlByJ,EAAyBA,EAAiBkD,CAExD,QAAQqB,GACN,IAAK,GACHC,EAASC,EAAiB1E,EAAOrG,GAAO5H,EAAO8H,MAASsJ,GAAuB,MAATnD,EAAqB,WAAL,GACtF,MACF,KAAK,GACHyE,EAAS,QAAU1S,EAAO6O,MAAQ,wBAA0B7O,EAAO4O,WAAa,GAChF,MACF,KAAK,GACH,GAAKwC,EAEE,CACL,GAAIwB,GAAaD,EAAiB1E,EAAOrG,EACzC8K,GAASE,EAAa,cAAkB5S,EAAOuO,MAAQ,OAA2B,MAAlBvO,EAAOyO,QAAkB,UAAYzO,EAAOyO,QAAU,MAAQ,IACzHzO,EAAOwS,WAKVE,GAAU,YAJVA,GAAU,SACVA,GAAU,eAAiB1S,EAAOgP,UAAY,MAC9C0D,GAAUE,EAAa,eAAmB5S,EAAOuO,MAAQ,iBAP3DmE,GAAS,8BAAgC1S,EAAO2O,WAAa,IAgBnE,MAAgB,MAAZN,EACK,YAAcqE,EAAS,IACT,MAAZrE,EACJ5J,EAGI,YAAciO,EAAS,MAFvB,cAAgBA,EAAS,OAIzBrE,EAAQK,SACV,KAAOgE,EAAS,MAElBtB,EAGI,KAAO/C,EAAQW,UAAY,OAAS0D,EAAS,MAF7C,KAAOrE,EAAQM,WAAa,SAAW+D,EAAS,OAO7D,QAASC,GAAiB1E,EAAOrG,GAC/B,GAAIpL,GAAM,EACV,IAAIoL,EAAInD,WAAsB,MAATwJ,GAAiBA,EAAQ,EAAG,CAC/CzR,GAAO,GACP,KAAK,GAAIF,GAAI,EAAO2R,EAAJ3R,EAAWA,IACzBE,GAAO,IAETA,IAAO,OAET,MAAOA,GA9iBT,GACE1D,IADOX,EAAQ,GACPA,EAAQ,IAEhBgJ,EAAarI,EAAMqI,WACnB2I,EAAehR,EAAMgR,aACrB2G,EAAuBtY,EAAQ,GA4iBjCL,GAAOD,QAAU,SAASgb,EAAKpO,GAC7B,GAAImD,IACFnD,YACA+K,IAAK,EACLwB,KAAM,EAIR,OADAjD,GAAS8E,EAAKjL,EAAKA,EAAI4H,IAAK,KAAM,GAC3B5H,IhB6yDH,SAAS9P,EAAQD,GiBx2EvB,YAeA,SAAS6F,GAAQE,GACf,MAAOA,GAAIF,QAAQoV,EAAe,SAAUC,EAAKhL,GAC/C,MAAOiL,GAAgBjL,KAf3B,GAAIiL,IACFC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,OAAQ,IACRC,KAAM,IACNC,IAAK,IACLnJ,GAAI,IACJE,GAAI,IACJkJ,IAAK,KAGHT,EAAoB5H,OAAO,KAAOxP,OAAOe,KAAKuW,GAAiBQ,KAAK,KAAO,KAAM,IAOrF1b,GAAOD,QAAU6F,GjB82EX,SAAS5F,EAAQD,EAASM,GkBn4EhC,YAUA,SAASa,GAAkB8T,GACzB,GAAIC,GAAUD,KACZtQ,EAAM1C,EAASiT,GACfxT,IAAUtB,MAAOA,KAAKsB,OAExB,KAAKiD,EAAK,CACR,GAAIiX,GAAQxZ,EAAMwB,SAASqR,GACzB4G,EAAOD,GAAS3G,GAAQA,EACxBvQ,EAAImX,EAAK1X,OACT2X,KACAC,EAAU,EAGZ3Z,GAAMiC,KAAKwX,EAAM,SAASG,EAAKvX,GAC7B,GAAIqG,GAAQ,EACZ,IAAQpG,EAAI,EAARD,EAAW,CACb,GAAIuM,GAAOgL,EAAI7X,OAAS,EACtBuQ,EAAWsH,EAAIhL,GACfrF,EAA0B,MAAb+I,EACbuH,EAA0B,MAAbvH,GAEX/I,GAAcsQ,KAChBtQ,GAAcmQ,EAAYvV,KAAK9B,GAC/BuX,EAAMA,EAAI9V,OAAO,EAAG8K,IAGtBlG,GAASmR,EAAa9Z,EAASiK,UAAY,IAAMjK,EAASkK,WACvDV,EAAa,IAAM,IAAMuQ,EAAazX,EACvCtC,EAASyR,SAAWqI,EAAa9Z,EAASuS,SAAW,IAGzDqH,GAAWC,EAAMlR,IAChB,GAAO,GAEViR,EAAUI,EAAoBJ,GAG9BpX,EAAMyX,EAAiBL,GACvBpX,EAAI0X,cAAgB3X,EAAI,EACxBC,EAAI2X,eAAiBR,EAGrB7Z,EAASiT,GAAWvQ,EAGtB,GAAIwD,GACFxB,EAAO/E,UACP2a,EAAa5X,EAAI0X,aACnB,IAAIE,EAAa,EAAG,CAClBpU,IAEA,KAAK,GAAI1D,GAAI,EAAO8X,EAAJ9X,EAAgBA,IAC9B0D,EAAO+T,EAAazX,GAAKkC,EAAKlC,EAAI,GAItC,GAAIiR,GAAS,QAATA,KACF,MAAO1U,GAAG,WAAaU,EAAU,IAAM,KAAKgU,EAAQR,GAASvT,MAAMvB,KAAM+H,EAAS/F,EAAMU,WAAWqF,GAASvG,WAAaA,WAM3H,OAJA8T,GAAO5G,QAAUnK,EACjB+Q,EAAOK,WAAab,EACpBQ,EAAOD,UAAYtN,EAEZuN,EAIT,QAAS0G,GAAiBJ,GAWxB,IAVA,GAQEvU,GARE3H,KACF0c,GACEC,KAAM3c,EACN4c,SAAU,OACVnU,OAAQ,MAEVA,EAAS,KACTb,EAAUvF,EAASM,UAGdgF,EAAWC,EAAQX,KAAKiV,IAAM,CACnC,GAAIW,GAAalV,EAAS,GACxBgV,EAAOhV,EAAS,GAChBiV,EAAWjV,EAAS,GACpBmV,EAAanV,EAAS,GACtBoV,EAAYpV,EAAS,EAGnBkV,IAA6B,OAAfA,IAChBA,EAAaG,EAAeH,GAC5BI,EAASJ,EAAYH,EAAQC,OAI3BA,IACyB,IAAvBA,EAAKzW,QAAQ,MACf+W,EAASD,EAAeL,GAAOD,EAAQC,MAEnB,MAAhBC,EAAS,GACPA,IAAa,IAAMF,EAAQE,WAC7BF,EAAUA,EAAQjU,QAEe,MAA1BkU,EAAKA,EAAKtY,OAAS,GAC5B6Y,EAAkBP,EAAMC,EAAUE,EAAYJ,EAAQC,OAEtDlU,EAASiU,EACTA,GACEC,QACAC,SAAUA,EACVnU,OAAQA,GAGVA,EAAOkU,KAAKlW,KAAKiW,EAAQC,MACzBQ,EAASR,EAAMC,EAAUE,EAAYJ,EAAQC,QAM/CI,GAA2B,OAAdA,IACfA,EAAYC,EAAeD,GAC3BE,EAASF,EAAWL,EAAQC,OAIhC,MAAO3c,GAUT,QAASqc,GAAoBpW,GAC3B,GAAMuO,GAAcnS,EAASmS,WAC7B,OAAOvO,GAAIF,QAAYwN,OAAO,OAASiB,EAAc,aAAeA,EAAc,MAAO,KAAM,IAAIzO,QAAQ,qBAAsB,QAAQkF,OACtIlF,QAAQ,iBAAkB,SAACqK,GAAD,MAAWgN,GAAehN,KAGzD,QAAS4M,GAAe/W,GACtB,MAAOA,GAAIgF,OAAOlF,QAAQ,MAAO,OAAOA,QAAQ,MAAO,IAIzD,QAASoX,GAASR,EAAMC,EAAUE,EAAYO,EAASC,GACrD,GAAIzY,GAAKwE,CACT,IAAIuT,EAAS,KAAOva,EAAS2R,SAC3BnP,EAAM8X,EAAKY,UAAU,EAAGZ,EAAKtY,OAAS,OACjC,IAA4C,IAAxCuY,EAAS1W,QAAQ7D,EAAS6R,UACnCrP,EAAMxC,EAAS2R,SAAW,QAAU3R,EAASkK,UAAY,IAAOqQ,EAASxW,OAAO/D,EAAS6R,SAAS7P,QAAU,IAAOhC,EAASyR,QAAUgJ,MACjI,CACL,GAAIU,GAAOC,EAAgBd,EAC3B9X,GAAM2Y,EAAKb,KACXtT,EAAamU,EAAKnV,OAGpB,GAAIiV,EAAa,CACf,GAAII,IAAQ7Y,EACRwE,IACFqU,EAAKjX,KAAK4C,GAGZgU,EAAQ5W,KAAKiX,OAEbL,GAAQ5W,KAAK5B,GACTwE,GACFgU,EAAQ5W,KAAK4C,GAMnB,QAASoU,GAAgBd,GACvB,GAGEtT,GAHE2K,EAAW3R,EAAS2R,SACtBzH,EAAYlK,EAASkK,UACrBuH,EAAUzR,EAASyR,OAerB,OAXA6I,GAAOA,EAAK5W,QAAQ1D,EAAS2S,WAAY,SAASoG,EAAKuC,EAAO9S,GAQ5D,MAPAA,GAAOA,EAAKI,OAEP5B,IACHA,GAAc2K,EAAW,UAG3B3K,EAAW5C,MAAMuN,EAAW,UAAYzH,EAAY1B,EAAK9E,QAAQ,UAAW,IAAM+N,EAAU,MACrF,OAIP6I,KAAMA,EACNtU,OAAQgB,GAKZ,QAAS6T,GAAkBP,EAAMC,EAAUE,EAAYO,GACrDF,EAASR,EAAMC,EAAUE,EAAYO,GAAS,GAIhD,QAASJ,GAAS9M,EAAMkN,GACtBA,EAAQ5W,KAAK0J,GAnNf,GAAMjP,GAAKV,EAAQ,GACjB8B,EAAQ9B,EAAQ,GAEhB6B,GADW7B,EAAQ,GACRU,EAAGmB,UACdF,EAAWjB,EAAGiB,SACdia,EAAa,YAiITgB,GACJQ,KAAM,MACNC,KAAM,MACNC,MAAO,OACPC,MAAO,OA4ET5d,GAAOD,QAAUmB,GlB84EX,SAASlB,EAAQD,EAASM,GmBtmFhC,YAEA,IAAIa,GAAoBb,EAAQ,GAEhCL,GAAOD,SACLoB,QAAS,WACP,MAAOD,GAAkBQ,OAAQD,SAAS,GAASE,YAErDkc,SAAU,WACR,MAAO3c,GAAkBQ,OAAQD,SAAS,GAAQE,cnB8mFhD,SAAS3B,EAAQD,EAASM,GoBvnFhC,YAEA,IAAIU,GAAKV,EAAQ,GACfuC,EAAcvC,EAAQ,GAExBL,GAAOD,QAAU,SAAU2P,GACzB,GAAIoO,GAAapO,EAAQoO,WACvBxI,EAAgB5F,EAAQ4F,cACxB1T,EAAgB8N,EAAQ9N,cACxBH,EAAUiO,EAAQjO,OAEjBqc,IACDlb,EAAYkb,GAGXxI,IACDvU,EAAGuU,cAAgBA,GAGlB1T,IACDb,EAAGa,cAAgBA,GAGP,MAAXH,IACDV,EAAGU,QAAUA","file":"nornj.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    utils = __webpack_require__(2),\n\t    compiler = __webpack_require__(13),\n\t    compileStringTmpl = __webpack_require__(16),\n\t    tmplTag = __webpack_require__(17),\n\t    config = __webpack_require__(18);\n\t\n\tnj.compileStringTmpl = compileStringTmpl;\n\tnj.config = config;\n\tutils.assign(nj, compiler, tmplTag, utils);\n\t\n\tvar _global = typeof self !== 'undefined' ? self : global;\n\t\n\tmodule.exports = _global.NornJ = _global.nj = nj;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction nj() {\n\t  return nj['tmplTag' + (nj.outputH ? 'H' : '')].apply(null, arguments);\n\t}\n\t\n\tnj.createElement = null;\n\tnj.components = {};\n\tnj.asts = {};\n\tnj.templates = {};\n\tnj.tmplStrs = {};\n\tnj.errorTitle = '[NornJ]';\n\tnj.tmplRule = {};\n\tnj.outputH = false;\n\t\n\tmodule.exports = nj;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar tools = __webpack_require__(3),\n\t    transformElement = __webpack_require__(4),\n\t    transformParam = __webpack_require__(5),\n\t    transformData = __webpack_require__(7),\n\t    escape = __webpack_require__(8),\n\t    checkElem = __webpack_require__(9),\n\t    registerComponent = __webpack_require__(10),\n\t    filter = __webpack_require__(11),\n\t    expression = __webpack_require__(6),\n\t    setTmplRule = __webpack_require__(12);\n\t\n\t//Set default param rule\n\tsetTmplRule();\n\t\n\tmodule.exports = tools.assign({\n\t  escape: escape,\n\t  setTmplRule: setTmplRule\n\t}, checkElem, registerComponent, filter, expression, tools, transformElement, transformParam, transformData);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar nj = __webpack_require__(1),\n\t    nativeArrayPush = Array.prototype.push,\n\t    nativeArraySlice = Array.prototype.slice,\n\t    hasOwnProperty = Object.prototype.hasOwnProperty,\n\t    errorTitle = nj.errorTitle;\n\t\n\t//Push one by one to array\n\tfunction arrayPush(arr1, arr2) {\n\t  nativeArrayPush.apply(arr1, arr2);\n\t  return arr1;\n\t}\n\t\n\tfunction arraySlice(arrLike, start) {\n\t  return nativeArraySlice.call(arrLike, start);\n\t}\n\t\n\t//判断是否为数组\n\tfunction isArray(obj) {\n\t  return Array.isArray(obj);\n\t}\n\t\n\t//判断是否为对象\n\tfunction isObject(obj) {\n\t  var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n\t  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\n\t}\n\t\n\t//判断是否为字符串\n\tfunction isString(obj) {\n\t  return Object.prototype.toString.call(obj) === '[object String]';\n\t}\n\t\n\t//获取属性值\n\tfunction _getProperty(key) {\n\t  return function (obj) {\n\t    return obj == null ? void 0 : obj[key];\n\t  };\n\t}\n\t\n\t//是否为类数组\n\tvar _getLength = _getProperty('length');\n\t\n\tfunction isArrayLike(obj) {\n\t  var length = _getLength(obj);\n\t  return typeof length == 'number' && length >= 0;\n\t}\n\t\n\t//遍历数组或对象\n\tfunction each(obj, func, context, isArr) {\n\t  if (!obj) {\n\t    return;\n\t  }\n\t\n\t  if (isArr == null) {\n\t    isArr = isArrayLike(obj);\n\t  }\n\t\n\t  //设置回调函数上下文\n\t  context = context ? context : obj;\n\t\n\t  if (isArr) {\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      var ret = func.call(context, obj[i], i, l);\n\t\n\t      if (ret === false) {\n\t        break;\n\t      }\n\t    }\n\t  } else {\n\t    var keys = Object.keys(obj),\n\t        l = keys.length;\n\t    for (var i = 0; i < l; i++) {\n\t      var k = keys[i],\n\t          ret = func.call(context, obj[k], k, i, l);\n\t\n\t      if (ret === false) {\n\t        break;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t//Noop function\n\tfunction noop() {}\n\t\n\t//抛出异常\n\tfunction throwIf(val, msg, type) {\n\t  if (!val) {\n\t    switch (type) {\n\t      case 'expr':\n\t        throw Error(errorTitle + 'Expression \"' + msg + '\" is undefined, please check it has been registered.');\n\t      default:\n\t        throw Error(errorTitle + (msg || val));\n\t    }\n\t  }\n\t}\n\t\n\t//Print warn\n\tfunction warn(msg, type) {\n\t  var ret = errorTitle;\n\t  switch (type) {\n\t    case 'filter':\n\t      ret += 'A filter called \"' + msg + '\" is undefined.';\n\t      break;\n\t    default:\n\t      ret += msg;\n\t  }\n\t\n\t  console.warn(ret);\n\t}\n\t\n\t//create light weight object\n\tfunction obj() {\n\t  return Object.create(null);\n\t}\n\t\n\t//Clear quotation marks\n\tvar REGEX_QUOT_D = /[\"]+/g,\n\t    REGEX_QUOT_S = /[']+/g;\n\t\n\tfunction clearQuot(value, clearDouble) {\n\t  if (value == null) {\n\t    return;\n\t  }\n\t\n\t  var regex;\n\t  if (clearDouble == null) {\n\t    var charF = value[0];\n\t    if (charF === '\\'') {\n\t      regex = REGEX_QUOT_S;\n\t    } else if (charF === '\"') {\n\t      regex = REGEX_QUOT_D;\n\t    }\n\t  } else if (clearDouble) {\n\t    regex = REGEX_QUOT_D;\n\t  } else {\n\t    regex = REGEX_QUOT_S;\n\t  }\n\t\n\t  if (regex) {\n\t    value = value.replace(regex, '');\n\t  }\n\t  return value;\n\t}\n\t\n\t//Transform to camel-case\n\tfunction toCamelCase(str) {\n\t  if (str.indexOf('-') > -1) {\n\t    str = str.replace(/-\\w/g, function (letter) {\n\t      return letter.substr(1).toUpperCase();\n\t    });\n\t  }\n\t\n\t  return str;\n\t}\n\t\n\t//Reference by babel-external-helpers\n\tvar assign = Object.assign || function (target) {\n\t  for (var i = 1, args = arguments; i < args.length; i++) {\n\t    var source = args[i];\n\t\n\t    for (var key in source) {\n\t      if (hasOwnProperty.call(source, key)) {\n\t        target[key] = source[key];\n\t      }\n\t    }\n\t  }\n\t\n\t  return target;\n\t};\n\t\n\tvar tools = {\n\t  isArray: isArray,\n\t  isArrayLike: isArrayLike,\n\t  isObject: isObject,\n\t  isString: isString,\n\t  each: each,\n\t  throwIf: throwIf,\n\t  assign: assign,\n\t  obj: obj,\n\t  arrayPush: arrayPush,\n\t  arraySlice: arraySlice,\n\t  clearQuot: clearQuot,\n\t  toCamelCase: toCamelCase,\n\t  warn: warn,\n\t  noop: noop\n\t};\n\t\n\tmodule.exports = tools;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3),\n\t    tranParam = __webpack_require__(5),\n\t    exprConfig = __webpack_require__(6).exprConfig,\n\t    tmplRule = nj.tmplRule;\n\t\n\t//提取xml open tag\n\tfunction getXmlOpenTag(obj) {\n\t  return tmplRule.xmlOpenTag.exec(obj);\n\t}\n\t\n\t//验证xml self close tag\n\tvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\n\t\n\tfunction isXmlSelfCloseTag(obj) {\n\t  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\n\t}\n\t\n\t//Verify self close tag name\n\tvar OMITTED_CLOSE_TAGS = {\n\t  'area': true,\n\t  'base': true,\n\t  'br': true,\n\t  'col': true,\n\t  'embed': true,\n\t  'hr': true,\n\t  'img': true,\n\t  'input': true,\n\t  'keygen': true,\n\t  'link': true,\n\t  'meta': true,\n\t  'param': true,\n\t  'source': true,\n\t  'track': true,\n\t  'wbr': true\n\t};\n\t\n\tfunction verifySelfCloseTag(tagName) {\n\t  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\n\t}\n\t\n\t//Extract parameters inside the xml open tag\n\tfunction getOpenTagParams(tag) {\n\t  var pattern = tmplRule.openTagParams,\n\t      matchArr,\n\t      ret;\n\t\n\t  while (matchArr = pattern.exec(tag)) {\n\t    var key = matchArr[1];\n\t    if (key === '/') {\n\t      //If match to the last of \"/\", then continue the loop.\n\t      continue;\n\t    }\n\t\n\t    if (!ret) {\n\t      ret = [];\n\t    }\n\t\n\t    var value = matchArr[7],\n\t        onlyBrace = matchArr[4];\n\t    if (value != null) {\n\t      value = tools.clearQuot(value); //Remove quotation marks\n\t    } else {\n\t      value = key; //Match to Similar to \"checked\" or \"disabled\" attribute.\n\t    }\n\t\n\t    //Removed at the end of \"/>\", \">\" or \"/\".\n\t    if (/\\/>$/.test(value)) {\n\t      value = value.substr(0, value.length - 2);\n\t    } else if (/>$/.test(value) || /\\/$/.test(value)) {\n\t      value = value.substr(0, value.length - 1);\n\t    }\n\t\n\t    ret.push({\n\t      key: key,\n\t      value: value,\n\t      onlyBrace: onlyBrace\n\t    });\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\t//判断xml close tag\n\tfunction isXmlCloseTag(obj, tagName) {\n\t  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\n\t}\n\t\n\t//get inside brace param\n\tfunction getInsideBraceParam(obj) {\n\t  return tmplRule.insideBraceParam.exec(obj);\n\t}\n\t\n\t//判断块表达式并返回参数\n\tfunction isExpr(obj) {\n\t  var ret,\n\t      ret1 = tmplRule.expr.exec(obj);\n\t  if (ret1) {\n\t    ret = [ret1[1]];\n\t\n\t    var params = getOpenTagParams(obj); //提取各参数\n\t    if (params) {\n\t      ret.push(params);\n\t    }\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\t//判断是否模板元素\n\tfunction isTmpl(obj) {\n\t  return obj === 'tmpl';\n\t}\n\t\n\t//加入到模板集合中\n\tfunction addTmpl(node, parent, name) {\n\t  var paramsP = parent.params;\n\t  if (!paramsP) {\n\t    paramsP = parent.params = tools.obj();\n\t  }\n\t\n\t  var tmpls = paramsP.tmpls;\n\t  if (!tmpls) {\n\t    var objT = { length: 0 };\n\t    if (name != null) {\n\t      objT[name] = node;\n\t    } else {\n\t      objT['0'] = node;\n\t      objT.length = 1;\n\t    }\n\t\n\t    paramsP.tmpls = tranParam.compiledParam(objT);\n\t  } else {\n\t    //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\n\t    var objT = tmpls.strs[0],\n\t        len = objT.length;\n\t\n\t    if (name != null) {\n\t      objT[name] = node;\n\t    } else {\n\t      objT[len] = node;\n\t      objT.length = ++len;\n\t    }\n\t  }\n\t}\n\t\n\t//Test whether as parameters expression\n\tfunction isParamsExpr(name) {\n\t  return name === 'params' || name === 'props';\n\t}\n\t\n\t//Add to the \"paramsExpr\" property of the parent node\n\tfunction addParamsExpr(node, parent, isExprProp) {\n\t  if (!parent.paramsExpr) {\n\t    var exprPropsNode = void 0;\n\t    if (isExprProp) {\n\t      exprPropsNode = {\n\t        type: 'nj_expr',\n\t        expr: 'props',\n\t        content: [node]\n\t      };\n\t    } else {\n\t      exprPropsNode = node;\n\t    }\n\t\n\t    parent.paramsExpr = exprPropsNode;\n\t  } else {\n\t    tools.arrayPush(parent.paramsExpr.content, isExprProp ? [node] : node.content);\n\t  }\n\t}\n\t\n\tvar PROP_EXPRS = ['prop', 'spread'];\n\tfunction isExprProp(name) {\n\t  var config = exprConfig[name];\n\t  return {\n\t    isExprProp: config ? config.exprProps : false,\n\t    isProp: PROP_EXPRS.indexOf(name) > -1\n\t  };\n\t}\n\t\n\tmodule.exports = {\n\t  getXmlOpenTag: getXmlOpenTag,\n\t  isXmlSelfCloseTag: isXmlSelfCloseTag,\n\t  verifySelfCloseTag: verifySelfCloseTag,\n\t  getOpenTagParams: getOpenTagParams,\n\t  isXmlCloseTag: isXmlCloseTag,\n\t  getInsideBraceParam: getInsideBraceParam,\n\t  isExpr: isExpr,\n\t  isTmpl: isTmpl,\n\t  addTmpl: addTmpl,\n\t  isParamsExpr: isParamsExpr,\n\t  addParamsExpr: addParamsExpr,\n\t  isExprProp: isExprProp\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3),\n\t    tmplRule = nj.tmplRule;\n\t\n\t//Get compiled parameters from a object\n\tfunction compiledParams(obj) {\n\t  var ret = tools.obj();\n\t  tools.each(obj, function (v, k) {\n\t    ret[k] = compiledParam(v);\n\t  }, false, false);\n\t\n\t  return ret;\n\t}\n\t\n\t//Get compiled property\n\tvar REGEX_JS_PROP = /(('[^']*')|(\"[^\"]*\")|(-?([0-9][0-9]*)(\\.\\d+)?)|true|false|null|undefined|([#]*)([^.[\\]()]+))([^\\s()]*)/;\n\t\n\tfunction compiledProp(prop) {\n\t  var ret = tools.obj();\n\t\n\t  //If there are colons in the property,then use filter\n\t  if (prop.indexOf('|') >= 0) {\n\t    var filters = [],\n\t        filtersTmp;\n\t    filtersTmp = prop.split('|');\n\t    prop = filtersTmp[0].trim(); //Extract property\n\t\n\t    filtersTmp = filtersTmp.slice(1);\n\t    tools.each(filtersTmp, function (filter) {\n\t      var retF = _getFilterParam(filter.trim()),\n\t          filterObj = tools.obj(),\n\t          filterName = retF[1]; //Get filter name\n\t\n\t      if (filterName) {\n\t        var paramsF = retF[3]; //Get filter param\n\t\n\t        //Multiple params are separated by commas.\n\t        if (paramsF) {\n\t          var params = [];\n\t          tools.each(paramsF.split(','), function (p) {\n\t            params[params.length] = compiledProp(p.trim());\n\t          }, false, true);\n\t\n\t          filterObj.params = params;\n\t        }\n\t\n\t        filterObj.name = filterName;\n\t        filters.push(filterObj);\n\t      }\n\t    }, false, true);\n\t\n\t    ret.filters = filters;\n\t  }\n\t\n\t  //Extract the parent data path\n\t  if (prop.indexOf('../') === 0) {\n\t    var n = 0;\n\t    prop = prop.replace(/\\.\\.\\//g, function () {\n\t      n++;\n\t      return '';\n\t    });\n\t\n\t    ret.parentNum = n;\n\t  }\n\t\n\t  //Extract the js property\n\t  prop = REGEX_JS_PROP.exec(prop);\n\t  var hasComputed = prop[7];\n\t  ret.name = hasComputed ? prop[8] : prop[1];\n\t  ret.jsProp = prop[9];\n\t\n\t  if (!prop[8]) {\n\t    //Sign the parameter is a basic type value.\n\t    ret.isBasicType = true;\n\t  }\n\t  if (hasComputed) {\n\t    ret.isComputed = true;\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\t//Get filter param\n\tvar REGEX_FILTER_PARAM = /([\\w$@=+-\\\\*/&%?]+)(\\(([^()]+)\\))*/;\n\t\n\tfunction _getFilterParam(obj) {\n\t  return REGEX_FILTER_PARAM.exec(obj);\n\t}\n\t\n\t//Extract replace parameters\n\tvar _quots = ['\\'', '\"'];\n\t\n\tfunction _getReplaceParam(obj, strs) {\n\t  var pattern = tmplRule.replaceParam,\n\t      matchArr,\n\t      ret,\n\t      i = 0;\n\t\n\t  while (matchArr = pattern.exec(obj)) {\n\t    if (!ret) {\n\t      ret = [];\n\t    }\n\t\n\t    var prop = matchArr[3],\n\t        item = [matchArr[0], matchArr[1], null, true];\n\t\n\t    if (i > 0) {\n\t      item[3] = false; //Sign not contain all of placehorder\n\t    }\n\t\n\t    //Clear parameter at both ends of the space.\n\t    prop = prop.trim();\n\t\n\t    item[2] = prop;\n\t    ret.push(item);\n\t    i++;\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\t//Get compiled parameter\n\tfunction compiledParam(value) {\n\t  var ret = tools.obj(),\n\t      strs = tools.isString(value) ? value.split(tmplRule.replaceSplit) : [value],\n\t      props = null,\n\t      isAll = false; //此处指替换符是否占满整个属性值;若无替换符时为false\n\t\n\t  //If have placehorder\n\t  if (strs.length > 1) {\n\t    var params = _getReplaceParam(value, strs);\n\t    props = [];\n\t\n\t    tools.each(params, function (param) {\n\t      var retP = tools.obj();\n\t      isAll = param[3] ? param[0] === value : false; //If there are several curly braces in one property value, \"isAll\" must be false.\n\t      retP.prop = compiledProp(param[2]);\n\t\n\t      //To determine whether it is necessary to escape\n\t      retP.escape = param[1] !== tmplRule.firstChar + tmplRule.startRule;\n\t      props.push(retP);\n\t    }, false, true);\n\t  }\n\t\n\t  ret.props = props;\n\t  ret.strs = strs;\n\t  ret.isAll = isAll;\n\t\n\t  return ret;\n\t}\n\t\n\tmodule.exports = {\n\t  compiledParam: compiledParam,\n\t  compiledParams: compiledParams,\n\t  compiledProp: compiledProp\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar tools = __webpack_require__(3);\n\t\n\t//Global expression list\n\tvar exprs = {\n\t  'if': function _if(value, options) {\n\t    if (value === 'false') {\n\t      value = false;\n\t    }\n\t\n\t    var valueR, ret;\n\t    if (!options.useUnless) {\n\t      valueR = !!value;\n\t    } else {\n\t      valueR = !!!value;\n\t    }\n\t    if (valueR) {\n\t      ret = options.result();\n\t    } else {\n\t      var props = options.props;\n\t      if (props) {\n\t        (function () {\n\t          var elseFn = props['else'];\n\t\n\t          if (props.elseifs) {\n\t            (function () {\n\t              var l = props.elseifs.length;\n\t              tools.each(props.elseifs, function (elseif, i) {\n\t                if (!!elseif.value) {\n\t                  ret = elseif.fn();\n\t                  return false;\n\t                } else if (i === l - 1) {\n\t                  if (elseFn) {\n\t                    ret = elseFn();\n\t                  }\n\t                }\n\t              }, false, true);\n\t            })();\n\t          } else {\n\t            if (elseFn) {\n\t              ret = elseFn();\n\t            }\n\t          }\n\t        })();\n\t      }\n\t    }\n\t\n\t    if (options.useString && ret == null) {\n\t      return '';\n\t    }\n\t\n\t    return ret;\n\t  },\n\t\n\t  'else': function _else(options) {\n\t    return options.exprProps['else'] = options.result;\n\t  },\n\t\n\t  'elseif': function elseif(value, options) {\n\t    var exprProps = options.exprProps;\n\t    if (!exprProps.elseifs) {\n\t      exprProps.elseifs = [];\n\t    }\n\t    exprProps.elseifs.push({\n\t      value: value,\n\t      fn: options.result\n\t    });\n\t  },\n\t\n\t  'switch': function _switch(value, options) {\n\t    var ret,\n\t        props = options.props,\n\t        l = props.elseifs.length;\n\t\n\t    tools.each(props.elseifs, function (elseif, i) {\n\t      if (value === elseif.value) {\n\t        ret = elseif.fn();\n\t        return false;\n\t      } else if (i === l - 1) {\n\t        if (props['else']) {\n\t          ret = props['else']();\n\t        }\n\t      }\n\t    }, false, true);\n\t\n\t    return ret;\n\t  },\n\t\n\t  unless: function unless(value, options) {\n\t    options.useUnless = true;\n\t    return exprs['if'].call(this, value, options);\n\t  },\n\t\n\t  each: function each(list, options) {\n\t    var useString = options.useString,\n\t        ret;\n\t\n\t    if (list) {\n\t      (function () {\n\t        if (useString) {\n\t          ret = '';\n\t        } else {\n\t          ret = [];\n\t        }\n\t\n\t        var props = options.props;\n\t        tools.each(list, function (item, index, len) {\n\t          var param = {\n\t            data: item,\n\t            index: index,\n\t            fallback: true\n\t          };\n\t\n\t          if (props && props.moreValues) {\n\t            var _param$extra;\n\t\n\t            param.extra = (_param$extra = {}, _defineProperty(_param$extra, '@first', index === 0), _defineProperty(_param$extra, '@last', index === len - 1), _defineProperty(_param$extra, '@length', len), _param$extra);\n\t          }\n\t\n\t          var retI = options.result(param);\n\t          if (useString) {\n\t            ret += retI;\n\t          } else {\n\t            ret.push(retI);\n\t          }\n\t        }, false, tools.isArrayLike(list));\n\t\n\t        //Return null when not use string and result is empty.\n\t        if (!useString && !ret.length) {\n\t          ret = null;\n\t        }\n\t      })();\n\t    } else {\n\t      var props = options.props;\n\t      if (props && props['else']) {\n\t        ret = props['else']();\n\t      }\n\t      if (useString && ret == null) {\n\t        ret = '';\n\t      }\n\t    }\n\t\n\t    return ret;\n\t  },\n\t\n\t  //Parameter\n\t  prop: function prop(name, options) {\n\t    var ret = options.result(),\n\t        //Get parameter value\n\t    value;\n\t\n\t    if (ret !== undefined) {\n\t      value = ret;\n\t    } else {\n\t      //Match to Similar to \"checked\" or \"disabled\" attribute.\n\t      value = !options.useString ? true : name;\n\t    }\n\t\n\t    options.exprProps[name] = value;\n\t  },\n\t\n\t  //Spread parameters\n\t  spread: function spread(props, options) {\n\t    tools.each(props, function (v, k) {\n\t      options.exprProps[k] = v;\n\t    }, false, false);\n\t  },\n\t\n\t  'for': function _for(start, end, options) {\n\t    if (end._njOpts) {\n\t      options = end;\n\t      end = start;\n\t      start = 0;\n\t    }\n\t\n\t    var ret,\n\t        useString = options.useString;\n\t    if (useString) {\n\t      ret = '';\n\t    } else {\n\t      ret = [];\n\t    }\n\t\n\t    for (; start <= end; start++) {\n\t      var retI = options.result({\n\t        index: start\n\t      });\n\t\n\t      if (useString) {\n\t        ret += retI;\n\t      } else {\n\t        ret.push(retI);\n\t      }\n\t    }\n\t\n\t    return ret;\n\t  },\n\t\n\t  obj: function obj(options) {\n\t    return options.props;\n\t  },\n\t\n\t  blank: function blank(options) {\n\t    return options.result();\n\t  }\n\t};\n\t\n\tfunction _commonConfig(params) {\n\t  var ret = {\n\t    useString: true,\n\t    exprProps: false,\n\t    newContext: true\n\t  };\n\t\n\t  if (params) {\n\t    ret = tools.assign(ret, params);\n\t  }\n\t  return ret;\n\t}\n\t\n\t//Expression default config\n\tvar exprConfig = {\n\t  'if': _commonConfig({ newContext: false }),\n\t  'else': _commonConfig({ newContext: false, useString: false, exprProps: true }),\n\t  'switch': _commonConfig({ newContext: false }),\n\t  unless: _commonConfig({ newContext: false }),\n\t  each: _commonConfig(),\n\t  prop: _commonConfig({ newContext: false, exprProps: true }),\n\t  spread: _commonConfig({ newContext: false, useString: false, exprProps: true }),\n\t  'for': _commonConfig(),\n\t  obj: _commonConfig({ newContext: false, useString: false })\n\t};\n\texprConfig.elseif = _commonConfig(exprConfig['else']);\n\texprConfig.blank = _commonConfig(exprConfig.obj);\n\t\n\t//Expression alias\n\texprs['case'] = exprs.elseif;\n\texprConfig['case'] = exprConfig.elseif;\n\texprs['default'] = exprs['else'];\n\texprConfig['default'] = exprConfig['else'];\n\t\n\t//Register expression and also can batch add\n\tfunction registerExpr(name, expr, options) {\n\t  var params = name;\n\t  if (!tools.isObject(name)) {\n\t    params = {};\n\t    params[name] = {\n\t      expr: expr,\n\t      options: options\n\t    };\n\t  }\n\t\n\t  tools.each(params, function (v, name) {\n\t    if (v) {\n\t      var expr = v.expr,\n\t          options = v.options;\n\t\n\t      if (expr || options) {\n\t        if (expr) {\n\t          exprs[name] = expr;\n\t        }\n\t        if (options) {\n\t          exprConfig[name] = _commonConfig(options);\n\t        }\n\t      } else {\n\t        exprs[name] = v;\n\t      }\n\t    }\n\t  }, false, false);\n\t}\n\t\n\tmodule.exports = {\n\t  exprs: exprs,\n\t  exprConfig: exprConfig,\n\t  registerExpr: registerExpr\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3),\n\t    errorTitle = nj.errorTitle;\n\t\n\t//提取style内参数\n\tfunction styleProps(obj) {\n\t  //If the parameter is a style object,then direct return.\n\t  if (tools.isObject(obj)) {\n\t    return obj;\n\t  }\n\t\n\t  //参数为字符串\n\t  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^;]+)[;]?/g,\n\t      matchArr = void 0,\n\t      ret = void 0;\n\t\n\t  while (matchArr = pattern.exec(obj)) {\n\t    var key = matchArr[1],\n\t        value = matchArr[2];\n\t\n\t    if (!ret) {\n\t      ret = {};\n\t    }\n\t\n\t    //Convert to lowercase when style name is all capital.\n\t    if (/^[A-Z-]+$/.test(key)) {\n\t      key = key.toLowerCase();\n\t    }\n\t\n\t    //将连字符转为驼峰命名\n\t    key = tools.toCamelCase(key);\n\t\n\t    ret[key] = value;\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\t//Get value from multiple datas\n\tfunction getData(prop, data) {\n\t  var ret, obj;\n\t  if (data === undefined) {\n\t    data = this.data;\n\t  }\n\t\n\t  for (var i = 0, l = data.length; i < l; i++) {\n\t    obj = data[i];\n\t    if (obj) {\n\t      ret = obj[prop];\n\t      if (ret !== undefined) {\n\t        return ret;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction getComputedData(fn, p2) {\n\t  if (fn == null) {\n\t    return fn;\n\t  }\n\t\n\t  if (fn._njTmpl) {\n\t    //模板函数\n\t    return fn.call({\n\t      _njData: p2.data,\n\t      _njParent: p2.parent,\n\t      _njIndex: p2.index\n\t    });\n\t  } else {\n\t    //普通函数\n\t    return fn(p2);\n\t  }\n\t}\n\t\n\t//Rebuild local variables in the new context\n\tfunction newContext(p2, p3) {\n\t  var newData = [];\n\t  if (p3 && 'data' in p3) {\n\t    newData.push(p3.data);\n\t  }\n\t  if (p3 && 'extra' in p3) {\n\t    newData.push(p3.extra);\n\t  }\n\t\n\t  return {\n\t    data: newData.length ? tools.arrayPush(newData, p2.data) : p2.data,\n\t    parent: p3 && p3.fallback ? p2 : p2.parent,\n\t    index: p3 && 'index' in p3 ? p3.index : p2.index,\n\t    getData: getData\n\t  };\n\t}\n\t\n\t//修正属性名\n\tfunction fixPropName(name) {\n\t  switch (name) {\n\t    case 'class':\n\t      name = 'className';\n\t      break;\n\t    case 'for':\n\t      name = 'htmlFor';\n\t      break;\n\t  }\n\t\n\t  return name;\n\t}\n\t\n\t//合并字符串属性\n\tfunction assignStringProp(paramsE, keys) {\n\t  var ret = '';\n\t  for (var k in paramsE) {\n\t    if (!keys || !keys[k]) {\n\t      var v = paramsE[k];\n\t      ret += ' ' + k + (k !== v ? '=\"' + v + '\"' : ' ');\n\t    }\n\t  }\n\t  return ret;\n\t}\n\t\n\t//创建块表达式子节点函数\n\tfunction exprRet(p1, p2, fn, p4) {\n\t  return function (param) {\n\t    return fn(p1, p2, param, p4);\n\t  };\n\t}\n\t\n\t//构建可运行的模板函数\n\tfunction tmplWrap(configs, main) {\n\t  return function () {\n\t    var initCtx = this,\n\t        data = tools.arraySlice(arguments);\n\t\n\t    return main(configs, {\n\t      data: initCtx && initCtx._njData ? tools.arrayPush(data, initCtx._njData) : data,\n\t      parent: initCtx && initCtx._njParent ? initCtx._njParent : null,\n\t      index: initCtx && initCtx._njIndex ? initCtx._njIndex : null,\n\t      getData: getData\n\t    });\n\t  };\n\t}\n\t\n\t//创建模板函数\n\tfunction template(fns) {\n\t  var configs = {\n\t    useString: fns.useString,\n\t    exprs: nj.exprs,\n\t    filters: nj.filters,\n\t    noop: tools.noop,\n\t    obj: tools.obj,\n\t    throwIf: tools.throwIf,\n\t    warn: tools.warn,\n\t    newContext: newContext,\n\t    getComputedData: getComputedData,\n\t    styleProps: styleProps,\n\t    exprRet: exprRet\n\t  };\n\t\n\t  if (!configs.useString) {\n\t    configs.h = nj.createElement;\n\t    configs.components = nj.components;\n\t    //configs.assign = tools.assign;\n\t  } else {\n\t    configs.assignStringProp = assignStringProp;\n\t    configs.escape = nj.escape;\n\t  }\n\t\n\t  tools.each(fns, function (v, k) {\n\t    if (k.indexOf('main') === 0) {\n\t      //将每个主函数构建为可运行的模板函数\n\t      configs[k] = tmplWrap(configs, v);\n\t      configs[k]._njTmpl = true;\n\t      configs['_' + k] = v;\n\t    } else if (k.indexOf('fn') === 0) {\n\t      //块表达式函数\n\t      configs[k] = v;\n\t    }\n\t  }, false, false);\n\t\n\t  return configs;\n\t}\n\t\n\tmodule.exports = {\n\t  newContext: newContext,\n\t  getData: getData,\n\t  getComputedData: getComputedData,\n\t  fixPropName: fixPropName,\n\t  styleProps: styleProps,\n\t  assignStringProp: assignStringProp,\n\t  exprRet: exprRet,\n\t  tmplWrap: tmplWrap,\n\t  template: template\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar ESCAPE_LOOKUP = {\n\t  '&': '&amp;',\n\t  '>': '&gt;',\n\t  '<': '&lt;',\n\t  '\"': '&quot;',\n\t  '\\'': '&#x27;'\n\t};\n\t\n\tfunction escape(text) {\n\t  if (text == null) {\n\t    return '';\n\t  } else if (!text.replace) {\n\t    return text;\n\t  }\n\t\n\t  return text.replace(/[&><\"']/g, function (match) {\n\t    return ESCAPE_LOOKUP[match];\n\t  });\n\t}\n\t\n\tmodule.exports = escape;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3),\n\t    tranParam = __webpack_require__(5),\n\t    tranElem = __webpack_require__(4),\n\t    tmplRule = nj.tmplRule,\n\t    NO_SPLIT_NEWLINE = ['style', 'script', 'textarea', 'pre', 'xmp', 'template'];\n\t\n\tfunction _plainTextNode(obj, parent, parentContent) {\n\t  var node = {};\n\t  node.type = 'nj_plaintext';\n\t  node.content = [tranParam.compiledParam(obj)];\n\t  parent[parentContent].push(node);\n\t}\n\t\n\t//检测元素节点\n\tfunction checkElem(obj, parent, hasExprProps) {\n\t  var parentContent = 'content';\n\t\n\t  if (!tools.isArray(obj)) {\n\t    //判断是否为文本节点\n\t    if (tools.isString(obj) && (parent.expr || NO_SPLIT_NEWLINE.indexOf(parent.type.toLowerCase()) < 0)) {\n\t      var strs = obj.split(tmplRule.newlineSplit);\n\t      strs.forEach(function (str, i) {\n\t        str = str.trim();\n\t        str !== '' && _plainTextNode(str, parent, parentContent);\n\t      });\n\t    } else {\n\t      _plainTextNode(obj, parent, parentContent);\n\t    }\n\t\n\t    return;\n\t  }\n\t\n\t  var node = {},\n\t      first = obj[0];\n\t  if (tools.isString(first)) {\n\t    //第一个子节点为字符串\n\t    var first = first,\n\t        len = obj.length,\n\t        last = obj[len - 1],\n\t        isElemNode = false,\n\t        expr,\n\t        exprParams;\n\t\n\t    //判断是否为xml标签\n\t    var openTagName,\n\t        hasCloseTag = false,\n\t        isTmpl,\n\t        isParamsExpr,\n\t        isProp,\n\t        isExprProp,\n\t        needAddToProps;\n\t\n\t    expr = tranElem.isExpr(first);\n\t    if (!expr) {\n\t      var xmlOpenTag = tranElem.getXmlOpenTag(first);\n\t      if (xmlOpenTag) {\n\t        //tagname为xml标签时,则认为是元素节点\n\t        openTagName = xmlOpenTag[1];\n\t\n\t        if (!tranElem.isXmlSelfCloseTag(first)) {\n\t          //非自闭合标签才验证是否存在关闭标签\n\t          hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\n\t        } else {\n\t          //自闭合标签\n\t          node.selfCloseTag = true;\n\t        }\n\t        isElemNode = true;\n\t      }\n\t    } else {\n\t      //为块表达式,也可视为一个元素节点\n\t      var exprName = expr[0];\n\t      exprParams = expr[1];\n\t      isTmpl = tranElem.isTmpl(exprName);\n\t      isParamsExpr = tranElem.isParamsExpr(exprName);\n\t      if (!isParamsExpr) {\n\t        var exprProp = tranElem.isExprProp(exprName);\n\t        isProp = exprProp.isProp;\n\t        isExprProp = exprProp.isExprProp;\n\t        needAddToProps = isProp ? !hasExprProps : isExprProp;\n\t      }\n\t\n\t      node.type = 'nj_expr';\n\t      node.expr = exprName;\n\t      if (exprParams != null && !isTmpl && !isParamsExpr) {\n\t        if (!node.args) {\n\t          node.args = [];\n\t        }\n\t\n\t        tools.each(exprParams, function (param) {\n\t          if (param.value === 'useString') {\n\t            node.useString = true;\n\t            return;\n\t          }\n\t\n\t          var paramV = tranParam.compiledParam(param.value);\n\t          if (param.onlyBrace) {\n\t            //提取匿名参数\n\t            node.args.push(paramV);\n\t          } else {\n\t            if (!node.params) {\n\t              node.params = tools.obj();\n\t            }\n\t            node.params[param.key] = paramV;\n\t          }\n\t        }, false, true);\n\t      }\n\t\n\t      isElemNode = true;\n\t    }\n\t\n\t    if (isElemNode) {\n\t      //判断是否为元素节点\n\t      var pushContent = true;\n\t\n\t      if (!expr) {\n\t        node.type = openTagName;\n\t\n\t        //If open tag has a brace,add the typeRefer param.\n\t        var typeRefer = tranElem.getInsideBraceParam(openTagName);\n\t        if (typeRefer) {\n\t          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\n\t        }\n\t\n\t        //获取openTag内参数\n\t        var tagParams = tranElem.getOpenTagParams(first);\n\t        if (tagParams) {\n\t          if (!node.params) {\n\t            node.params = tools.obj();\n\t          }\n\t\n\t          tools.each(tagParams, function (param) {\n\t            //The parameter like \"{prop}\" needs to be replaced.\n\t            node.params[param.onlyBrace ? param.onlyBrace.replace(/\\.\\.\\//g, '') : param.key] = tranParam.compiledParam(param.value);\n\t          }, false, true);\n\t        }\n\t\n\t        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\n\t        if (!node.selfCloseTag) {\n\t          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\n\t        }\n\t      } else {\n\t        if (isTmpl) {\n\t          //模板元素\n\t          pushContent = false;\n\t\n\t          //将模板添加到父节点的params中\n\t          tranElem.addTmpl(node, parent, exprParams ? exprParams[0].value : null);\n\t        } else if (isParamsExpr) {\n\t          pushContent = false;\n\t        } else if (needAddToProps) {\n\t          pushContent = false;\n\t        }\n\t      }\n\t\n\t      //放入父节点content内\n\t      if (pushContent) {\n\t        parent[parentContent].push(node);\n\t      }\n\t\n\t      //取出子节点集合\n\t      var end = len - (hasCloseTag ? 1 : 0),\n\t          content = obj.slice(1, end);\n\t      if (content && content.length) {\n\t        checkContentElem(content, node, isParamsExpr || hasExprProps && !isProp);\n\t      }\n\t\n\t      //If this is params block, set on the \"paramsExpr\" property of the parent node.\n\t      if (isParamsExpr || needAddToProps) {\n\t        tranElem.addParamsExpr(node, parent, isExprProp);\n\t      }\n\t    } else {\n\t      //如果不是元素节点,则为节点集合\n\t      checkContentElem(obj, parent, hasExprProps);\n\t    }\n\t  } else if (tools.isArray(first)) {\n\t    //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\n\t    checkContentElem(obj, parent, hasExprProps);\n\t  }\n\t}\n\t\n\t//检测子元素节点\n\tfunction checkContentElem(obj, parent, hasExprProps) {\n\t  if (!parent.content) {\n\t    parent.content = [];\n\t  }\n\t\n\t  tools.each(obj, function (item) {\n\t    checkElem(item, parent, hasExprProps);\n\t  }, false, true);\n\t}\n\t\n\tmodule.exports = {\n\t  checkElem: checkElem\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3);\n\t\n\t//注册组件\n\tfunction registerComponent(name, component) {\n\t  var params = name;\n\t  if (!tools.isObject(name)) {\n\t    params = {};\n\t    params[name] = component;\n\t  }\n\t\n\t  tools.each(params, function (v, k) {\n\t    nj.components[k.toLowerCase()] = v;\n\t  }, false, false);\n\t\n\t  return component;\n\t}\n\t\n\tmodule.exports = {\n\t  registerComponent: registerComponent\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar tools = __webpack_require__(3);\n\t\n\t//Global filter list\n\tvar filters = {\n\t  //Get param properties\n\t  prop: function prop(value, props) {\n\t    var ret = value;\n\t    ret && props.split('.').forEach(function (p) {\n\t      ret = ret[p];\n\t    });\n\t\n\t    return ret;\n\t  },\n\t\n\t  '==': function _(val1, val2) {\n\t    return val1 == val2;\n\t  },\n\t\n\t  '===': function _(val1, val2) {\n\t    return val1 === val2;\n\t  },\n\t\n\t  //Less than\n\t  lt: function lt(val1, val2) {\n\t    return val1 < val2;\n\t  },\n\t\n\t  lte: function lte(val1, val2) {\n\t    return val1 <= val2;\n\t  },\n\t\n\t  //Greater than\n\t  gt: function gt(val1, val2) {\n\t    return val1 > val2;\n\t  },\n\t\n\t  gte: function gte(val1, val2) {\n\t    return val1 >= val2;\n\t  },\n\t\n\t  '+': function _(val1, val2) {\n\t    return val1 + val2;\n\t  },\n\t\n\t  '-': function _(val1, val2) {\n\t    return val1 - val2;\n\t  },\n\t\n\t  //Ternary operator\n\t  '?': function _(val, val1, val2) {\n\t    return val ? val1 : val2;\n\t  },\n\t\n\t  //Convert to int \n\t  int: function int(val) {\n\t    return parseInt(val, 10);\n\t  },\n\t\n\t  //Convert to float \n\t  float: function float(val) {\n\t    return parseFloat(val);\n\t  },\n\t\n\t  //Convert to boolean \n\t  bool: function bool(val) {\n\t    if (val === 'false') {\n\t      return false;\n\t    }\n\t\n\t    return Boolean(val);\n\t  }\n\t};\n\t\n\tfunction _commonConfig(params) {\n\t  var ret = {\n\t    useString: false\n\t  };\n\t\n\t  if (params) {\n\t    ret = tools.assign(ret, params);\n\t  }\n\t  return ret;\n\t}\n\t\n\t//Filter default config\n\tvar filterConfig = {\n\t  prop: _commonConfig(),\n\t  '==': _commonConfig(),\n\t  '===': _commonConfig(),\n\t  lt: _commonConfig(),\n\t  lte: _commonConfig(),\n\t  gt: _commonConfig(),\n\t  gte: _commonConfig(),\n\t  '+': _commonConfig(),\n\t  '-': _commonConfig(),\n\t  int: _commonConfig(),\n\t  float: _commonConfig(),\n\t  bool: _commonConfig()\n\t};\n\t\n\t//Register filter and also can batch add\n\tfunction registerFilter(name, filter, options) {\n\t  var params = name;\n\t  if (!tools.isObject(name)) {\n\t    params = {};\n\t    params[name] = {\n\t      filter: filter,\n\t      options: options\n\t    };\n\t  }\n\t\n\t  tools.each(params, function (v, name) {\n\t    if (v) {\n\t      var filter = v.filter,\n\t          options = v.options;\n\t\n\t      if (filter || options) {\n\t        if (filter) {\n\t          filters[name] = filter;\n\t        }\n\t        if (options) {\n\t          filterConfig[name] = _commonConfig(options);\n\t        }\n\t      } else {\n\t        filters[name] = v;\n\t      }\n\t    }\n\t  }, false, false);\n\t}\n\t\n\tmodule.exports = {\n\t  filters: filters,\n\t  filterConfig: filterConfig,\n\t  registerFilter: registerFilter\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3);\n\t\n\tfunction _createRegExp(reg, mode) {\n\t  return new RegExp(reg, mode);\n\t}\n\t\n\t//Clear the repeated characters\n\tfunction _clearRepeat(str) {\n\t  var ret = '',\n\t      i = 0,\n\t      l = str.length,\n\t      char;\n\t\n\t  for (; i < l; i++) {\n\t    char = str[i];\n\t    if (ret.indexOf(char) < 0) {\n\t      ret += char;\n\t    }\n\t  }\n\t\n\t  return ret;\n\t}\n\t\n\tmodule.exports = function () {\n\t  var rules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var _nj$tmplRule = nj.tmplRule,\n\t      _nj$tmplRule$startRul = _nj$tmplRule.startRule,\n\t      startRule = _nj$tmplRule$startRul === undefined ? '{{' : _nj$tmplRule$startRul,\n\t      _nj$tmplRule$endRule = _nj$tmplRule.endRule,\n\t      endRule = _nj$tmplRule$endRule === undefined ? '}}' : _nj$tmplRule$endRule,\n\t      _nj$tmplRule$exprRule = _nj$tmplRule.exprRule,\n\t      exprRule = _nj$tmplRule$exprRule === undefined ? '#' : _nj$tmplRule$exprRule,\n\t      _nj$tmplRule$propRule = _nj$tmplRule.propRule,\n\t      propRule = _nj$tmplRule$propRule === undefined ? '@' : _nj$tmplRule$propRule,\n\t      _nj$tmplRule$template = _nj$tmplRule.templateRule,\n\t      templateRule = _nj$tmplRule$template === undefined ? 'template' : _nj$tmplRule$template,\n\t      _nj$tmplRule$tagSpRul = _nj$tmplRule.tagSpRule,\n\t      tagSpRule = _nj$tmplRule$tagSpRul === undefined ? '#$@' : _nj$tmplRule$tagSpRul,\n\t      _nj$tmplRule$commentR = _nj$tmplRule.commentRule,\n\t      commentRule = _nj$tmplRule$commentR === undefined ? '#' : _nj$tmplRule$commentR;\n\t  var start = rules.start,\n\t      end = rules.end,\n\t      expr = rules.expr,\n\t      prop = rules.prop,\n\t      template = rules.template,\n\t      tagSp = rules.tagSp,\n\t      comment = rules.comment;\n\t\n\t\n\t  if (start) {\n\t    startRule = start;\n\t  }\n\t  if (end) {\n\t    endRule = end;\n\t  }\n\t  if (expr) {\n\t    exprRule = expr;\n\t  }\n\t  if (prop) {\n\t    propRule = prop;\n\t  }\n\t  if (template) {\n\t    templateRule = template;\n\t  }\n\t  if (tagSp) {\n\t    tagSpRule = tagSp;\n\t  }\n\t  if (comment != null) {\n\t    commentRule = comment;\n\t  }\n\t\n\t  var allRules = _clearRepeat(startRule + endRule),\n\t      firstChar = startRule[0],\n\t      lastChar = endRule[endRule.length - 1],\n\t      otherChars = allRules.substr(1),\n\t      exprRules = _clearRepeat(exprRule + propRule + tagSpRule),\n\t      escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\n\t\n\t  //Reset the regexs to global list\n\t  tools.assign(nj.tmplRule, {\n\t    startRule: startRule,\n\t    endRule: endRule,\n\t    exprRule: exprRule,\n\t    propRule: propRule,\n\t    templateRule: templateRule,\n\t    tagSpRule: tagSpRule,\n\t    commentRule: commentRule,\n\t    firstChar: firstChar,\n\t    lastChar: lastChar,\n\t    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + exprRules + '][-a-z0-9_|./' + firstChar + otherChars + ']*)[^>]*>$', 'i'),\n\t    openTagParams: _createRegExp('[\\\\s]+((([' + firstChar + ']?' + startRule + ')([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?))|[^\\\\s=>]+)(=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s]+)))?', 'g'),\n\t    insideBraceParam: _createRegExp('([' + firstChar + ']?' + startRule + ')([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'i'),\n\t    spreadProp: _createRegExp('[\\\\s]+([' + firstChar + ']?' + startRule + ')[\\\\s]*(\\\\.\\\\.\\\\.[^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'g'),\n\t    replaceSplit: _createRegExp('(?:[' + firstChar + ']?' + startRule + ')[^' + allRules + ']+(?:' + endRule + '[' + lastChar + ']?)'),\n\t    replaceParam: _createRegExp('(([' + firstChar + ']?' + startRule + '))([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'g'),\n\t    checkElem: _createRegExp('([^>]*)(<([a-z' + firstChar + '/' + exprRules + '!][-a-z0-9_|.' + allRules + exprRules + ']*)([^>]*)>)([^<]*)', 'ig'),\n\t    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i'),\n\t    include: _createRegExp('<' + escapeExprRule + 'include([^>]*)>', 'ig'),\n\t    newlineSplit: _createRegExp('\\\\\\\\n(?![^' + firstChar + lastChar + ']*' + lastChar + ')', 'g')\n\t  });\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    utils = __webpack_require__(2),\n\t    buildRuntime = __webpack_require__(14),\n\t    compileStringTmpl = __webpack_require__(16);\n\t\n\t//编译模板并返回转换函数\n\tfunction _createCompile(outputH) {\n\t  return function (tmpl, tmplKey, fileName) {\n\t    if (!tmpl) {\n\t      return;\n\t    }\n\t    if (utils.isObject(tmplKey)) {\n\t      var options = tmplKey;\n\t      tmplKey = options.tmplKey;\n\t      fileName = options.fileName;\n\t    }\n\t\n\t    //编译模板函数\n\t    var tmplFns;\n\t    if (tmplKey) {\n\t      tmplFns = nj.templates[tmplKey];\n\t    }\n\t    if (!tmplFns) {\n\t      var isObj = utils.isObject(tmpl),\n\t          fns;\n\t      if (isObj && tmpl.main) {\n\t        //直接传入预编译模板\n\t        fns = tmpl;\n\t      } else {\n\t        //编译AST\n\t        var root;\n\t        if (tmplKey) {\n\t          root = nj.asts[tmplKey];\n\t        }\n\t        if (!root) {\n\t          //Can be directly introduced into the AST\n\t          if (isObj && tmpl.type === 'nj_root') {\n\t            root = tmpl;\n\t          } else {\n\t            root = _createAstRoot();\n\t\n\t            //Auto transform string template to array\n\t            if (utils.isString(tmpl)) {\n\t              //Merge all include blocks\n\t              var includeParser = nj.includeParser;\n\t              if (includeParser) {\n\t                tmpl = includeParser(tmpl, fileName);\n\t              }\n\t\n\t              tmpl = compileStringTmpl(tmpl);\n\t            }\n\t\n\t            //分析传入参数并转换为节点树对象\n\t            utils.checkElem(tmpl._njTmpl, root);\n\t          }\n\t\n\t          //保存模板AST编译结果到全局集合中\n\t          if (tmplKey) {\n\t            nj.asts[tmplKey] = root;\n\t          }\n\t        }\n\t\n\t        fns = buildRuntime(root.content, !outputH);\n\t      }\n\t\n\t      tmplFns = utils.template(fns);\n\t\n\t      //保存模板函数编译结果到全局集合中\n\t      if (tmplKey) {\n\t        nj.templates[tmplKey] = tmplFns;\n\t      }\n\t    }\n\t\n\t    if (tmpl._njParams) {\n\t      var tmplFn = function tmplFn() {\n\t        return tmplFns.main.apply(this, utils.arrayPush([tmpl._njParams], arguments));\n\t      };\n\t      tmplFn._njTmpl = true;\n\t      return tmplFn;\n\t    } else {\n\t      return tmplFns.main;\n\t    }\n\t  };\n\t}\n\t\n\tvar compile = _createCompile(),\n\t    compileH = _createCompile(true);\n\t\n\t//Create template root object\n\tfunction _createAstRoot() {\n\t  var root = utils.obj();\n\t  root.type = 'nj_root';\n\t  root.content = [];\n\t\n\t  return root;\n\t}\n\t\n\t//Precompile template\n\tfunction precompile(tmpl, outputH) {\n\t  var root = _createAstRoot();\n\t\n\t  if (utils.isString(tmpl)) {\n\t    tmpl = compileStringTmpl(tmpl);\n\t  }\n\t  utils.checkElem(tmpl._njTmpl, root);\n\t\n\t  return buildRuntime(root.content, !outputH);\n\t}\n\t\n\tfunction _createRender(outputH) {\n\t  return function (tmpl, options) {\n\t    return (outputH ? compileH : compile)(tmpl, options ? {\n\t      tmplKey: options.tmplKey ? options.tmplKey : tmpl._njTmplKey,\n\t      fileName: options.fileName\n\t    } : tmpl._njTmplKey).apply(null, utils.arraySlice(arguments, 1));\n\t  };\n\t}\n\t\n\tmodule.exports = {\n\t  compile: compile,\n\t  compileH: compileH,\n\t  precompile: precompile,\n\t  render: _createRender(),\n\t  renderH: _createRender(true)\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    utils = __webpack_require__(2),\n\t    errorTitle = nj.errorTitle,\n\t    exprConfig = utils.exprConfig,\n\t    filterConfig = utils.filterConfig,\n\t    replaceSpecialSymbol = __webpack_require__(15);\n\t\n\tfunction _buildFn(content, fns, no, newContext, level, useStringLocal) {\n\t  var fnStr = '',\n\t      useString = useStringLocal != null ? useStringLocal : fns.useString,\n\t      isTmplExpr = utils.isString(no),\n\t      //如果no为字符串, 则本次将构建tmpl块模板函数\n\t  main = isTmplExpr || no === 0,\n\t\n\t  /* retType\r\n\t   1: 只有单个子节点\r\n\t   2: 有多个子节点\r\n\t   object: 非构建函数时\r\n\t  */\n\t  retType = content.length === 1 ? '1' : '2',\n\t      counter = {\n\t    _type: 0,\n\t    _typeRefer: 0,\n\t    _params: 0,\n\t    _paramsE: 0,\n\t    _compParam: 0,\n\t    _dataRefer: 0,\n\t    _expr: 0,\n\t    _value: 0,\n\t    _filter: 0,\n\t    newContext: newContext\n\t  };\n\t\n\t  if (!useString) {\n\t    counter._compParam = 0;\n\t  } else {\n\t    counter._children = 0;\n\t  }\n\t\n\t  if (!main && newContext) {\n\t    fnStr += 'p2 = p1.newContext(p2, p3);\\n';\n\t  }\n\t\n\t  if (retType === '2') {\n\t    if (!useString) {\n\t      fnStr += 'var ret = [];\\n';\n\t    } else {\n\t      fnStr += 'var ret = \\'\\';\\n';\n\t    }\n\t  }\n\t\n\t  fnStr += _buildContent(content, fns, counter, retType, level, useStringLocal);\n\t\n\t  if (retType === '2') {\n\t    fnStr += 'return ret;';\n\t  }\n\t\n\t  /* 构建块表达式函数\r\n\t   p1: 模板全局数据\r\n\t   p2: 节点上下文数据\r\n\t   p3: 块表达式内调用result及inverse方法传递的参数\r\n\t   p4: #props块变量\r\n\t  */\n\t  fns[main ? 'main' + (isTmplExpr ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', fnStr);\n\t  return no;\n\t}\n\t\n\tfunction _buildOptions(config, useStringLocal, node, fns, exprPropsStr, level, hashProps) {\n\t  var hashStr = '',\n\t      noConfig = !config;\n\t\n\t  if (noConfig || config.useString) {\n\t    hashStr += ', useString: ' + (useStringLocal == null ? 'p1.useString' : useStringLocal ? 'true' : 'false');\n\t  }\n\t  if (node) {\n\t    //标签表达式\n\t    var newContext = config ? config.newContext : true;\n\t    if (noConfig || config.exprProps) {\n\t      hashStr += ', exprProps: ' + exprPropsStr;\n\t    }\n\t\n\t    hashStr += ', result: ' + (node.content ? 'p1.exprRet(p1, p2, p1.fn' + _buildFn(node.content, fns, ++fns._no, newContext, level, useStringLocal) + ', ' + exprPropsStr + ')' : 'p1.noop');\n\t\n\t    if (hashProps != null) {\n\t      hashStr += ', props: ' + hashProps;\n\t    }\n\t  }\n\t\n\t  return '{ _njOpts: true, ctx: p2' + hashStr + ' }';\n\t}\n\t\n\tfunction _buildPropData(obj, counter, fns, useStringLocal) {\n\t  var dataValueStr = void 0,\n\t      escape = obj.escape;\n\t  var _obj$prop = obj.prop,\n\t      jsProp = _obj$prop.jsProp,\n\t      isComputed = _obj$prop.isComputed;\n\t\n\t  //先生成数据值\n\t\n\t  if (!obj.prop.isBasicType) {\n\t    var _obj$prop2 = obj.prop,\n\t        name = _obj$prop2.name,\n\t        parentNum = _obj$prop2.parentNum;\n\t\n\t    var data = '',\n\t        special = false,\n\t        specialP = false;\n\t\n\t    if (name === '@index') {\n\t      data = 'index';\n\t      special = true;\n\t    } else if (name === 'this') {\n\t      data = 'data[0]';\n\t      special = true;\n\t    }\n\t\n\t    if (parentNum) {\n\t      if (!data) {\n\t        data = 'data';\n\t      }\n\t      for (var i = 0; i < parentNum; i++) {\n\t        data = 'parent.' + data;\n\t      }\n\t\n\t      if (!special) {\n\t        specialP = true;\n\t      }\n\t    }\n\t\n\t    if (!special && !specialP) {\n\t      dataValueStr = (isComputed ? 'p1.getComputedData(' : '') + 'p2.getData(\\'' + name + '\\')' + (isComputed ? ', p2)' : '') + jsProp;\n\t    } else {\n\t      var dataStr = 'p2.' + data;\n\t      dataValueStr = (special ? dataStr : (isComputed ? 'p1.getComputedData(' : '') + 'p2.getData(\\'' + name + '\\', ' + dataStr + ')' + (isComputed ? ', p2)' : '')) + jsProp;\n\t    }\n\t  } else {\n\t    dataValueStr = obj.prop.name + jsProp;\n\t  }\n\t\n\t  //有过滤器时需要生成\"_value\"值\n\t  var filters = obj.prop.filters;\n\t  if (filters) {\n\t    var valueStr = '_value' + counter._value++,\n\t        filterStr = 'var ' + valueStr + ' = ' + dataValueStr + ';\\n';\n\t\n\t    utils.each(filters, function (o) {\n\t      var _filterC = counter._filter++,\n\t          configF = filterConfig[o.name],\n\t          filterVarStr = '_filter' + _filterC,\n\t          globalFilterStr = 'p1.filters[\\'' + o.name + '\\']';\n\t\n\t      if (configF) {\n\t        filterStr += '\\nvar ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\n\t      } else {\n\t        //如果全局配置不存在,先从p2.data中获取\n\t        filterStr += '\\nvar ' + filterVarStr + ' = p2.getData(\\'' + o.name + '\\');\\n';\n\t        filterStr += 'if(!' + filterVarStr + ') ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\n\t      }\n\t      filterStr += 'if (!' + filterVarStr + ') {\\n';\n\t      filterStr += '  p1.warn(\\'' + o.name + '\\', \\'filter\\');\\n';\n\t      filterStr += '}\\n';\n\t      filterStr += 'else {\\n';\n\t      filterStr += '  ' + valueStr + ' = ' + filterVarStr + '.apply(p2, [' + valueStr + (o.params ? o.params.reduce(function (p, c) {\n\t        return p + ', ' + _buildPropData({\n\t          prop: c,\n\t          escape: escape\n\t        }, counter, fns, useStringLocal);\n\t      }, '') : '') + ', ' + _buildOptions(configF, useStringLocal) + ']);\\n';\n\t      filterStr += '}\\n';\n\t    }, false, true);\n\t\n\t    return {\n\t      valueStr: _buildEscape(valueStr, fns, isComputed ? false : escape),\n\t      filterStr: filterStr\n\t    };\n\t  } else {\n\t    return _buildEscape(dataValueStr, fns, isComputed ? false : escape);\n\t  }\n\t}\n\t\n\tfunction _buildEscape(valueStr, fns, escape) {\n\t  if (fns.useString) {\n\t    if (escape) {\n\t      return 'p1.escape(' + valueStr + ')';\n\t    } else {\n\t      return valueStr;\n\t    }\n\t  } else {\n\t    //文本中的特殊字符需转义\n\t    return replaceSpecialSymbol(valueStr);\n\t  }\n\t}\n\t\n\tfunction _replaceQuot(str) {\n\t  return str.replace(/'/g, \"\\\\'\");\n\t}\n\t\n\tfunction _buildProps(obj, counter, fns, useStringLocal) {\n\t  var str0 = obj.strs[0],\n\t      valueStr = '',\n\t      filterStr = '';\n\t\n\t  if (utils.isString(str0)) {\n\t    //常规属性\n\t    valueStr = !obj.isAll && str0 !== '' ? '\\'' + _replaceQuot(str0) + '\\'' : '';\n\t    filterStr = '';\n\t\n\t    utils.each(obj.props, function (o, i) {\n\t      var propData = _buildPropData(o, counter, fns, useStringLocal),\n\t          dataValueStr;\n\t      if (utils.isString(propData)) {\n\t        dataValueStr = propData;\n\t      } else {\n\t        dataValueStr = propData.valueStr;\n\t        filterStr += propData.filterStr;\n\t      }\n\t\n\t      if (!obj.isAll) {\n\t        var strI = obj.strs[i + 1],\n\t            prefixStr = str0 === '' && i == 0 ? '' : ' + ';\n\t\n\t        if (strI.trim() === '\\\\n') {\n\t          //如果只包含换行符号则忽略\n\t          valueStr += prefixStr + dataValueStr;\n\t          return;\n\t        }\n\t\n\t        dataValueStr = prefixStr + '(' + dataValueStr + ')' + (strI !== '' ? ' + \\'' + _replaceQuot(strI) + '\\'' : '');\n\t      }\n\t\n\t      valueStr += dataValueStr;\n\t      if (obj.isAll) {\n\t        return false;\n\t      }\n\t    }, false, true);\n\t  } else if (utils.isObject(str0) && str0.length != null) {\n\t    //tmpl块表达式\n\t    valueStr += '{\\n';\n\t    utils.each(str0, function (v, k, i, l) {\n\t      if (k !== 'length') {\n\t        valueStr += '  \"' + k + '\": p1.main' + _buildFn(v.content, fns, 'T' + ++fns._noT);\n\t      } else {\n\t        valueStr += '  length: ' + v;\n\t      }\n\t\n\t      valueStr += ',\\n';\n\t      if (i === l - 1) {\n\t        //传递上下文参数\n\t        valueStr += '  _njData: p2.data,\\n  _njParent: p2.parent,\\n  _njIndex: p2.index\\n';\n\t      }\n\t    }, false, false);\n\t    valueStr += '}';\n\t  }\n\t\n\t  if (filterStr === '') {\n\t    return valueStr;\n\t  } else {\n\t    //包含过滤器\n\t    return {\n\t      valueStr: valueStr,\n\t      filterStr: filterStr\n\t    };\n\t  }\n\t}\n\t\n\tfunction _buildParams(node, fns, counter, useString) {\n\t  //节点参数\n\t  var params = node.params,\n\t      paramsExpr = node.paramsExpr,\n\t      paramsStr = '',\n\t      _paramsC,\n\t      useStringF = fns.useString;\n\t\n\t  if (params || paramsExpr) {\n\t    _paramsC = counter._params++;\n\t    paramsStr = 'var _params' + _paramsC + ' = ';\n\t\n\t    //params块\n\t    if (paramsExpr) {\n\t      var _paramsEC = counter._paramsE++;\n\t      paramsStr += (useString ? '\\'\\'' : 'null') + ';\\n';\n\t      paramsStr += 'var _paramsE' + _paramsEC + ' = {};\\n';\n\t\n\t      //params块的子节点\n\t      paramsStr += _buildContent(paramsExpr.content, fns, counter, { _paramsE: '_paramsE' + _paramsEC }, null, useString);\n\t\n\t      //合并params块的值\n\t      if (!useString) {\n\t        paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + _paramsEC + ';\\n';\n\t        //paramsStr += '\\np1.assign(_params' + _paramsC + ', _paramsE' + _paramsEC + ');\\n';\n\t      } else {\n\t        var keys = '';\n\t        utils.each(params, function (v, k, i, l) {\n\t          if (i == 0) {\n\t            keys += '{ ';\n\t          }\n\t          keys += k + ': 1';\n\t\n\t          if (i < l - 1) {\n\t            keys += ', ';\n\t          } else {\n\t            keys += ' }';\n\t          }\n\t        }, false, false);\n\t        paramsStr += '_params' + _paramsC + ' += p1.assignStringProp(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\n\t      }\n\t    }\n\t\n\t    if (params) {\n\t      var paramKeys = Object.keys(params),\n\t          len = paramKeys.length,\n\t          filterStr = '';\n\t\n\t      if (!useString && !paramsExpr) {\n\t        paramsStr += '{\\n';\n\t      }\n\t\n\t      utils.each(paramKeys, function (k, i) {\n\t        var valueStr = _buildProps(params[k], counter, fns, useString);\n\t        if (utils.isObject(valueStr)) {\n\t          filterStr += valueStr.filterStr;\n\t          valueStr = valueStr.valueStr;\n\t        }\n\t\n\t        if (!useStringF && k === 'style') {\n\t          //将style字符串转换为对象\n\t          valueStr = 'p1.styleProps(' + valueStr + ')';\n\t        }\n\t\n\t        var key = k,\n\t            onlyKey = '\\'' + key + '\\'' === valueStr;\n\t        if (!useStringF) {\n\t          key = utils.fixPropName(k);\n\t        }\n\t        if (!paramsExpr) {\n\t          if (!useString) {\n\t            paramsStr += '  \\'' + key + '\\': ' + (!onlyKey ? valueStr : 'true') + (i < len - 1 ? ',\\n' : '');\n\t          } else {\n\t            paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + (i == len - 1 ? ';' : '') + '\\n';\n\t          }\n\t        } else {\n\t          if (!useString) {\n\t            paramsStr += '_params' + _paramsC + '[\\'' + key + '\\'] = ' + (!onlyKey ? valueStr : 'true') + ';\\n';\n\t          } else {\n\t            paramsStr += '_params' + _paramsC + ' += \\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + ';\\n';\n\t          }\n\t        }\n\t      }, false, false);\n\t\n\t      if (!useString && !paramsExpr) {\n\t        paramsStr += '\\n};\\n';\n\t      }\n\t\n\t      if (filterStr !== '') {\n\t        paramsStr = filterStr + paramsStr;\n\t      }\n\t    }\n\t  }\n\t\n\t  return [paramsStr, _paramsC];\n\t}\n\t\n\tfunction _buildNode(node, fns, counter, retType, level, useStringLocal) {\n\t  var fnStr = '',\n\t      useStringF = fns.useString;\n\t\n\t  if (node.type === 'nj_plaintext') {\n\t    //文本节点\n\t    var valueStr = _buildProps(node.content[0], counter, fns, useStringLocal),\n\t        filterStr;\n\t    if (utils.isObject(valueStr)) {\n\t      filterStr = valueStr.filterStr;\n\t      valueStr = valueStr.valueStr;\n\t    }\n\t\n\t    var textStr = _buildRender(1, retType, { text: valueStr }, fns, level, useStringLocal);\n\t    if (filterStr) {\n\t      textStr = filterStr + textStr;\n\t    }\n\t\n\t    if (useStringF) {\n\t      fnStr += textStr;\n\t    } else {\n\t      //文本中的特殊字符需转义\n\t      fnStr += replaceSpecialSymbol(textStr);\n\t    }\n\t  } else if (node.type === 'nj_expr') {\n\t    //块表达式节点\n\t    var _exprC = counter._expr++,\n\t        _dataReferC = counter._dataRefer++,\n\t        dataReferStr = '',\n\t        filterStr = '',\n\t        configE = exprConfig[node.expr],\n\t        exprVarStr = '_expr' + _exprC,\n\t        globalExprStr = 'p1.exprs[\\'' + node.expr + '\\']';\n\t\n\t    if (configE) {\n\t      fnStr += '\\nvar ' + exprVarStr + ' = ' + globalExprStr + ';\\n';\n\t    } else {\n\t      //如果全局配置不存在,先从p2.data中获取\n\t      fnStr += '\\nvar ' + exprVarStr + ' = p2.getData(\\'' + node.expr + '\\');\\n';\n\t      fnStr += 'if(!' + exprVarStr + ') ' + exprVarStr + ' = ' + globalExprStr + ';\\n';\n\t    }\n\t\n\t    dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\n\t\n\t    if (node.args) {\n\t      //构建匿名参数\n\t      utils.each(node.args, function (arg, i) {\n\t        var valueStr = _buildProps(arg, counter, fns, useStringLocal);\n\t        if (utils.isObject(valueStr)) {\n\t          filterStr += valueStr.filterStr;\n\t          valueStr = valueStr.valueStr;\n\t        }\n\t\n\t        dataReferStr += '  ' + valueStr + ',';\n\t      }, false, true);\n\t    }\n\t\n\t    //props块\n\t    var exprPropsStr = 'p4';\n\t    if (retType && retType._paramsE) {\n\t      exprPropsStr = retType._paramsE;\n\t    }\n\t\n\t    //hash参数\n\t    var retP = _buildParams(node, fns, counter, false),\n\t        paramsStr = retP[0],\n\t        _paramsC = retP[1];\n\t\n\t    dataReferStr += _buildOptions(configE, useStringLocal, node, fns, exprPropsStr, level, paramsStr !== '' ? '_params' + _paramsC : null);\n\t    dataReferStr += '\\n];\\n';\n\t\n\t    if (filterStr !== '') {\n\t      dataReferStr = filterStr + dataReferStr;\n\t    }\n\t\n\t    fnStr += paramsStr + dataReferStr;\n\t\n\t    //如果块表达式不存在则打印警告信息\n\t    fnStr += 'p1.throwIf(_expr' + _exprC + ', \\'' + node.expr + '\\', \\'expr\\');\\n';\n\t\n\t    //渲染\n\t    fnStr += _buildRender(2, retType, {\n\t      _expr: _exprC,\n\t      _dataRefer: _dataReferC\n\t    }, fns, level, useStringLocal);\n\t  } else {\n\t    //元素节点\n\t    //节点类型和typeRefer\n\t    var _typeC = counter._type++,\n\t        _type;\n\t    if (node.typeRefer) {\n\t      _type = node.typeRefer.props[0].prop.name;\n\t    } else {\n\t      _type = node.type;\n\t    }\n\t\n\t    var typeStr;\n\t    if (!useStringF) {\n\t      typeStr = 'p1.components[\\'' + _type.toLowerCase() + '\\'] ? p1.components[\\'' + _type.toLowerCase() + '\\'] : \\'' + _type + '\\'';\n\t    } else {\n\t      typeStr = '\\'' + _type + '\\'';\n\t    }\n\t\n\t    if (node.typeRefer) {\n\t      var _typeReferC = counter._typeRefer++,\n\t          valueStrT = _buildProps(node.typeRefer, counter, fns);\n\t      if (utils.isObject(valueStrT)) {\n\t        fnStr += valueStrT.filterStr;\n\t        valueStrT = valueStrT.valueStr;\n\t      }\n\t\n\t      fnStr += '\\nvar _typeRefer' + _typeReferC + ' = ' + valueStrT + ';\\n';\n\t      fnStr += 'var _type' + _typeC + ' = _typeRefer' + _typeReferC + ' ? _typeRefer' + _typeReferC + ' : (' + typeStr + ');\\n';\n\t    } else {\n\t      fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\n\t    }\n\t\n\t    //节点参数\n\t    var retP = _buildParams(node, fns, counter, useStringF),\n\t        paramsStr = retP[0],\n\t        _paramsC = retP[1];\n\t    fnStr += paramsStr;\n\t\n\t    var _compParamC, _childrenC;\n\t    if (!useStringF) {\n\t      //组件参数\n\t      _compParamC = counter._compParam++;\n\t      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (paramsStr !== '' ? '_params' + _paramsC : 'null') + '];\\n';\n\t    } else {\n\t      //子节点字符串\n\t      _childrenC = counter._children++;\n\t      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\n\t    }\n\t\n\t    //子节点\n\t    fnStr += _buildContent(node.content, fns, counter, !useStringF ? { _compParam: '_compParam' + _compParamC } : { _children: '_children' + _childrenC }, level != null ? level + 1 : level, useStringLocal);\n\t\n\t    //渲染\n\t    fnStr += _buildRender(3, retType, !useStringF ? { _compParam: _compParamC } : { _type: _typeC, _params: paramsStr !== '' ? _paramsC : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns, level, useStringLocal);\n\t  }\n\t\n\t  return fnStr;\n\t}\n\t\n\tfunction _buildContent(content, fns, counter, retType, level, useStringLocal) {\n\t  var fnStr = '';\n\t  if (!content) {\n\t    return fnStr;\n\t  }\n\t\n\t  utils.each(content, function (node) {\n\t    fnStr += _buildNode(node, fns, counter, retType, level, node.useString ? true : useStringLocal);\n\t  }, false, true);\n\t\n\t  return fnStr;\n\t}\n\t\n\tfunction _buildRender(nodeType, retType, params, fns, level, useStringLocal) {\n\t  var retStr,\n\t      useStringF = fns.useString,\n\t      useString = useStringLocal != null ? useStringLocal : useStringF;\n\t\n\t  switch (nodeType) {\n\t    case 1:\n\t      //文本节点\n\t      retStr = _buildLevelSpace(level, fns) + params.text + (!useStringF || level == null ? '' : ' + \\'\\\\n\\'');\n\t      break;\n\t    case 2:\n\t      //块表达式\n\t      retStr = '_expr' + params._expr + '.apply(p2, _dataRefer' + params._dataRefer + ')';\n\t      break;\n\t    case 3:\n\t      //元素节点\n\t      if (!useStringF) {\n\t        retStr = 'p1.h.apply(null, _compParam' + params._compParam + ')';\n\t      } else {\n\t        var levelSpace = _buildLevelSpace(level, fns);\n\t        retStr = levelSpace + '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\n\t        if (!params._selfClose) {\n\t          retStr += '\\'>\\\\n\\'';\n\t          retStr += ' + _children' + params._children + ' + ';\n\t          retStr += levelSpace + '\\'</\\' + _type' + params._type + ' + \\'>\\\\n\\'';\n\t        } else {\n\t          retStr += '\\' />\\\\n\\'';\n\t        }\n\t      }\n\t      break;\n\t  }\n\t\n\t  //保存方式\n\t  if (retType === '1') {\n\t    return '\\nreturn ' + retStr + ';';\n\t  } else if (retType === '2') {\n\t    if (!useString) {\n\t      return '\\nret.push(' + retStr + ');\\n';\n\t    } else {\n\t      return '\\nret += ' + retStr + ';\\n';\n\t    }\n\t  } else if (retType._paramsE) {\n\t    return '\\n' + retStr + ';\\n';\n\t  } else {\n\t    if (!useStringF) {\n\t      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\n\t    } else {\n\t      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\n\t    }\n\t  }\n\t}\n\t\n\tfunction _buildLevelSpace(level, fns) {\n\t  var ret = '';\n\t  if (fns.useString && level != null && level > 0) {\n\t    ret += '\\'';\n\t    for (var i = 0; i < level; i++) {\n\t      ret += '  ';\n\t    }\n\t    ret += '\\' + ';\n\t  }\n\t  return ret;\n\t}\n\t\n\tmodule.exports = function (ast, useString) {\n\t  var fns = {\n\t    useString: useString,\n\t    _no: 0, //块表达式函数计数\n\t    _noT: 0 //tmpl块模板函数计数\n\t  };\n\t\n\t  _buildFn(ast, fns, fns._no, null, 0);\n\t  return fns;\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SPACIAL_SYMBOLS = {\n\t  nbsp: '\\xA0',\n\t  ensp: '\\u2002',\n\t  emsp: '\\u2003',\n\t  thinsp: '\\u2009',\n\t  zwnj: '\\u200C',\n\t  zwj: '\\u200D',\n\t  lt: '<',\n\t  gt: '>',\n\t  amp: '&'\n\t};\n\t\n\tvar REGEX_SYMBOLS = new RegExp('&(' + Object.keys(SPACIAL_SYMBOLS).join('|') + ');', 'g');\n\tfunction replace(str) {\n\t  return str.replace(REGEX_SYMBOLS, function (all, match) {\n\t    return SPACIAL_SYMBOLS[match];\n\t  });\n\t}\n\t\n\tmodule.exports = replace;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    tools = __webpack_require__(3),\n\t    tranElem = __webpack_require__(4),\n\t    tmplRule = nj.tmplRule,\n\t    tmplStrs = nj.tmplStrs,\n\t    SPLIT_FLAG = '_nj_split';\n\t\n\t//Compile string template\n\tfunction compileStringTmpl(tmpl) {\n\t  var tmplKey = tmpl.toString(),\n\t      //Get unique key\n\t  ret = tmplStrs[tmplKey],\n\t      outputH = this ? this.outputH : false;\n\t\n\t  if (!ret) {\n\t    //If the cache already has template data, direct return the template.\n\t    var isStr = tools.isString(tmpl),\n\t        xmls = isStr ? [tmpl] : tmpl,\n\t        l = xmls.length,\n\t        computedNos = [],\n\t        fullXml = '';\n\t\n\t    //Connection xml string\n\t    tools.each(xmls, function (xml, i) {\n\t      var split = '';\n\t      if (i < l - 1) {\n\t        var last = xml.length - 1,\n\t            lastChar = xml[last],\n\t            isComputed = lastChar === '#',\n\t            isNoEscape = lastChar === '@';\n\t\n\t        if (isComputed || isNoEscape) {\n\t          isComputed && computedNos.push(i);\n\t          xml = xml.substr(0, last);\n\t        }\n\t\n\t        split = (isNoEscape ? tmplRule.firstChar : '') + tmplRule.startRule + (isComputed ? '#' : '') + SPLIT_FLAG + i + tmplRule.endRule + (isNoEscape ? tmplRule.lastChar : '');\n\t      }\n\t\n\t      fullXml += xml + split;\n\t    }, false, true);\n\t\n\t    fullXml = _clearNotesAndBlank(fullXml);\n\t\n\t    //Resolve string to element\n\t    ret = _checkStringElem(fullXml);\n\t    ret._njParamCount = l - 1;\n\t    ret._njComputedNos = computedNos;\n\t\n\t    //Save to the cache\n\t    tmplStrs[tmplKey] = ret;\n\t  }\n\t\n\t  var params,\n\t      args = arguments,\n\t      paramCount = ret._njParamCount;\n\t  if (paramCount > 0) {\n\t    params = {};\n\t\n\t    for (var i = 0; i < paramCount; i++) {\n\t      params[SPLIT_FLAG + i] = args[i + 1];\n\t    }\n\t  }\n\t\n\t  var tmplFn = function tmplFn() {\n\t    return nj['compile' + (outputH ? 'H' : '')](tmplFn, tmplKey).apply(this, params ? tools.arrayPush([params], arguments) : arguments);\n\t  };\n\t  tmplFn._njTmpl = ret;\n\t  tmplFn._njTmplKey = tmplKey;\n\t  tmplFn._njParams = params;\n\t\n\t  return tmplFn;\n\t}\n\t\n\t//Resolve string to element\n\tfunction _checkStringElem(xml) {\n\t  var root = [],\n\t      current = {\n\t    elem: root,\n\t    elemName: 'root',\n\t    parent: null\n\t  },\n\t      parent = null,\n\t      pattern = tmplRule.checkElem,\n\t      matchArr;\n\t\n\t  while (matchArr = pattern.exec(xml)) {\n\t    var textBefore = matchArr[1],\n\t        elem = matchArr[2],\n\t        elemName = matchArr[3],\n\t        elemParams = matchArr[4],\n\t        textAfter = matchArr[5];\n\t\n\t    //Text before tag\n\t    if (textBefore && textBefore !== '\\n') {\n\t      textBefore = _formatNewline(textBefore);\n\t      _setText(textBefore, current.elem);\n\t    }\n\t\n\t    //Element tag\n\t    if (elem) {\n\t      if (elem.indexOf('<!') === 0) {\n\t        //doctype等标签当做文本处理\n\t        _setText(_formatNewline(elem), current.elem);\n\t      } else {\n\t        if (elemName[0] === '/') {\n\t          //Close tag\n\t          if (elemName === '/' + current.elemName) {\n\t            current = current.parent;\n\t          }\n\t        } else if (elem[elem.length - 2] === '/') {\n\t          //Self close tag\n\t          _setSelfCloseElem(elem, elemName, elemParams, current.elem);\n\t        } else {\n\t          //Open tag\n\t          parent = current;\n\t          current = {\n\t            elem: [],\n\t            elemName: elemName,\n\t            parent: parent\n\t          };\n\t\n\t          parent.elem.push(current.elem);\n\t          _setElem(elem, elemName, elemParams, current.elem);\n\t        }\n\t      }\n\t    }\n\t\n\t    //Text after tag\n\t    if (textAfter && textAfter !== '\\n') {\n\t      textAfter = _formatNewline(textAfter);\n\t      _setText(textAfter, current.elem);\n\t    }\n\t  }\n\t\n\t  return root;\n\t}\n\t\n\tvar SPECIAL_LOOKUP = {\n\t  '>(': 'gt(',\n\t  '<(': 'lt(',\n\t  '>=(': 'gte(',\n\t  '<=(': 'lte('\n\t};\n\t\n\tfunction _clearNotesAndBlank(str) {\n\t  var commentRule = tmplRule.commentRule;\n\t  return str.replace(new RegExp('<!--' + commentRule + '[\\\\s\\\\S]*?' + commentRule + '-->', 'g'), '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim().replace(/(>|<|>=|<=)\\(/g, function (match) {\n\t    return SPECIAL_LOOKUP[match];\n\t  });\n\t}\n\t\n\tfunction _formatNewline(str) {\n\t  return str.trim().replace(/\\n/g, '\\\\n').replace(/\\r/g, '');\n\t}\n\t\n\t//Set element node\n\tfunction _setElem(elem, elemName, elemParams, elemArr, bySelfClose) {\n\t  var ret, paramsExpr;\n\t  if (elemName[0] === tmplRule.exprRule) {\n\t    ret = elem.substring(1, elem.length - 1);\n\t  } else if (elemName.indexOf(tmplRule.propRule) === 0) {\n\t    ret = tmplRule.exprRule + 'prop ' + tmplRule.startRule + '\\'' + elemName.substr(tmplRule.propRule.length) + '\\'' + tmplRule.endRule + elemParams;\n\t  } else {\n\t    var retS = _getSplitParams(elem);\n\t    ret = retS.elem;\n\t    paramsExpr = retS.params;\n\t  }\n\t\n\t  if (bySelfClose) {\n\t    var retC = [ret];\n\t    if (paramsExpr) {\n\t      retC.push(paramsExpr);\n\t    }\n\t\n\t    elemArr.push(retC);\n\t  } else {\n\t    elemArr.push(ret);\n\t    if (paramsExpr) {\n\t      elemArr.push(paramsExpr);\n\t    }\n\t  }\n\t}\n\t\n\t//Extract split parameters\n\tfunction _getSplitParams(elem) {\n\t  var exprRule = tmplRule.exprRule,\n\t      startRule = tmplRule.startRule,\n\t      endRule = tmplRule.endRule,\n\t      paramsExpr;\n\t\n\t  //Replace the parameter like \"{...props}\".\n\t  elem = elem.replace(tmplRule.spreadProp, function (all, begin, prop) {\n\t    prop = prop.trim();\n\t\n\t    if (!paramsExpr) {\n\t      paramsExpr = [exprRule + 'props'];\n\t    }\n\t\n\t    paramsExpr.push([exprRule + 'spread ' + startRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\n\t    return ' ';\n\t  });\n\t\n\t  return {\n\t    elem: elem,\n\t    params: paramsExpr\n\t  };\n\t}\n\t\n\t//Set self close element node\n\tfunction _setSelfCloseElem(elem, elemName, elemParams, elemArr) {\n\t  _setElem(elem, elemName, elemParams, elemArr, true);\n\t}\n\t\n\t//Set text node\n\tfunction _setText(text, elemArr) {\n\t  elemArr.push(text);\n\t}\n\t\n\tmodule.exports = compileStringTmpl;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar compileStringTmpl = __webpack_require__(16);\n\t\n\tmodule.exports = {\n\t  tmplTag: function tmplTag() {\n\t    return compileStringTmpl.apply({ outputH: false }, arguments);\n\t  },\n\t  tmplTagH: function tmplTagH() {\n\t    return compileStringTmpl.apply({ outputH: true }, arguments);\n\t  }\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nj = __webpack_require__(1),\n\t    setTmplRule = __webpack_require__(12);\n\t\n\tmodule.exports = function (configs) {\n\t  var delimiters = configs.delimiters,\n\t      includeParser = configs.includeParser,\n\t      createElement = configs.createElement,\n\t      outputH = configs.outputH;\n\t\n\t  if (delimiters) {\n\t    setTmplRule(delimiters);\n\t  }\n\t\n\t  if (includeParser) {\n\t    nj.includeParser = includeParser;\n\t  }\n\t\n\t  if (createElement) {\n\t    nj.createElement = createElement;\n\t  }\n\t\n\t  if (outputH != null) {\n\t    nj.outputH = outputH;\n\t  }\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// nornj.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 45b5e776c43c4413f0af","'use strict';\r\n\r\nvar nj = require('./core'),\r\n  utils = require('./utils/utils'),\r\n  compiler = require('./compiler/compile'),\r\n  compileStringTmpl = require('./parser/checkStringElem'),\r\n  tmplTag = require('./utils/tmplTag'),\r\n  config = require('./config');\r\n\r\nnj.compileStringTmpl = compileStringTmpl;\r\nnj.config = config;\r\nutils.assign(nj, compiler, tmplTag, utils);\r\n\r\nvar _global = typeof self !== 'undefined' ? self : global;\r\n\r\nmodule.exports = _global.NornJ = _global.nj = nj;\n\n\n// WEBPACK FOOTER //\n// ./src/base.js","'use strict';\r\n\r\nfunction nj() {\r\n  return nj['tmplTag' + (nj.outputH ? 'H' : '')].apply(null, arguments);\r\n}\r\n\r\nnj.createElement = null;\r\nnj.components = {};\r\nnj.asts = {};\r\nnj.templates = {};\r\nnj.tmplStrs = {};\r\nnj.errorTitle = '[NornJ]';\r\nnj.tmplRule = {};\r\nnj.outputH = false;\r\n\r\nmodule.exports = nj;\n\n\n// WEBPACK FOOTER //\n// ./src/core.js","'use strict';\r\n\r\nvar tools = require('./tools'),\r\n  transformElement = require('../transforms/transformElement'),\r\n  transformParam = require('../transforms/transformParam'),\r\n  transformData = require('../transforms/transformData'),\r\n  escape = require('./escape'),\r\n  checkElem = require('../parser/checkElem'),\r\n  registerComponent = require('./registerComponent'),\r\n  filter = require('../helpers/filter'),\r\n  expression = require('../helpers/expression'),\r\n  setTmplRule = require('./setTmplRule');\r\n\r\n//Set default param rule\r\nsetTmplRule();\r\n\r\nmodule.exports = tools.assign(\r\n  {\r\n    escape,\r\n    setTmplRule\r\n  },\r\n  checkElem,\r\n  registerComponent,\r\n  filter,\r\n  expression,\r\n  tools,\r\n  transformElement,\r\n  transformParam,\r\n  transformData\r\n);\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  nativeArrayPush = Array.prototype.push,\r\n  nativeArraySlice = Array.prototype.slice,\r\n  hasOwnProperty = Object.prototype.hasOwnProperty,\r\n  errorTitle = nj.errorTitle;\r\n\r\n//Push one by one to array\r\nfunction arrayPush(arr1, arr2) {\r\n  nativeArrayPush.apply(arr1, arr2);\r\n  return arr1;\r\n}\r\n\r\nfunction arraySlice(arrLike, start) {\r\n  return nativeArraySlice.call(arrLike, start);\r\n}\r\n\r\n//判断是否为数组\r\nfunction isArray(obj) {\r\n  return Array.isArray(obj);\r\n}\r\n\r\n//判断是否为对象\r\nfunction isObject(obj) {\r\n  var type = typeof obj;\r\n  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n}\r\n\r\n//判断是否为字符串\r\nfunction isString(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object String]';\r\n}\r\n\r\n//获取属性值\r\nfunction _getProperty(key) {\r\n  return function(obj) {\r\n    return obj == null ? void 0 : obj[key];\r\n  };\r\n}\r\n\r\n//是否为类数组\r\nvar _getLength = _getProperty('length');\r\n\r\nfunction isArrayLike(obj) {\r\n  var length = _getLength(obj);\r\n  return typeof length == 'number' && length >= 0;\r\n}\r\n\r\n//遍历数组或对象\r\nfunction each(obj, func, context, isArr) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  if (isArr == null) {\r\n    isArr = isArrayLike(obj);\r\n  }\r\n\r\n  //设置回调函数上下文\r\n  context = context ? context : obj;\r\n\r\n  if (isArr) {\r\n    for (var i = 0, l = obj.length; i < l; i++) {\r\n      var ret = func.call(context, obj[i], i, l);\r\n\r\n      if (ret === false) {\r\n        break;\r\n      }\r\n    }\r\n  } else {\r\n    var keys = Object.keys(obj),\r\n      l = keys.length;\r\n    for (var i = 0; i < l; i++) {\r\n      var k = keys[i],\r\n        ret = func.call(context, obj[k], k, i, l);\r\n\r\n      if (ret === false) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//Noop function\r\nfunction noop() {}\r\n\r\n//抛出异常\r\nfunction throwIf(val, msg, type) {\r\n  if (!val) {\r\n    switch (type) {\r\n      case 'expr':\r\n        throw Error(errorTitle + 'Expression \"' + msg + '\" is undefined, please check it has been registered.');\r\n      default:\r\n        throw Error(errorTitle + (msg || val));\r\n    }\r\n  }\r\n}\r\n\r\n//Print warn\r\nfunction warn(msg, type) {\r\n  var ret = errorTitle;\r\n  switch (type) {\r\n    case 'filter':\r\n      ret += 'A filter called \"' + msg + '\" is undefined.';\r\n      break;\r\n    default:\r\n      ret += msg;\r\n  }\r\n\r\n  console.warn(ret);\r\n}\r\n\r\n//create light weight object\r\nfunction obj() {\r\n  return Object.create(null);\r\n}\r\n\r\n//Clear quotation marks\r\nvar REGEX_QUOT_D = /[\"]+/g,\r\n  REGEX_QUOT_S = /[']+/g;\r\n\r\nfunction clearQuot(value, clearDouble) {\r\n  if (value == null) {\r\n    return;\r\n  }\r\n\r\n  var regex;\r\n  if (clearDouble == null) {\r\n    var charF = value[0];\r\n    if (charF === '\\'') {\r\n      regex = REGEX_QUOT_S;\r\n    } else if (charF === '\"') {\r\n      regex = REGEX_QUOT_D;\r\n    }\r\n  } else if (clearDouble) {\r\n    regex = REGEX_QUOT_D;\r\n  } else {\r\n    regex = REGEX_QUOT_S;\r\n  }\r\n\r\n  if (regex) {\r\n    value = value.replace(regex, '');\r\n  }\r\n  return value;\r\n}\r\n\r\n//Transform to camel-case\r\nfunction toCamelCase(str) {\r\n  if (str.indexOf('-') > -1) {\r\n    str = str.replace(/-\\w/g, function(letter) {\r\n      return letter.substr(1).toUpperCase();\r\n    });\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n//Reference by babel-external-helpers\r\nvar assign = Object.assign || function(target) {\r\n  for (var i = 1, args = arguments; i < args.length; i++) {\r\n    var source = args[i];\r\n\r\n    for (var key in source) {\r\n      if (hasOwnProperty.call(source, key)) {\r\n        target[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\nvar tools = {\r\n  isArray,\r\n  isArrayLike,\r\n  isObject,\r\n  isString,\r\n  each,\r\n  throwIf,\r\n  assign,\r\n  obj,\r\n  arrayPush,\r\n  arraySlice,\r\n  clearQuot,\r\n  toCamelCase,\r\n  warn,\r\n  noop\r\n};\r\n\r\nmodule.exports = tools;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/tools.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('./transformParam'),\r\n  exprConfig = require('../helpers/expression').exprConfig,\r\n  tmplRule = nj.tmplRule;\r\n\r\n//提取xml open tag\r\nfunction getXmlOpenTag(obj) {\r\n  return tmplRule.xmlOpenTag.exec(obj);\r\n}\r\n\r\n//验证xml self close tag\r\nvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\n\r\nfunction isXmlSelfCloseTag(obj) {\r\n  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//Verify self close tag name\r\nvar OMITTED_CLOSE_TAGS = {\r\n  'area': true,\r\n  'base': true,\r\n  'br': true,\r\n  'col': true,\r\n  'embed': true,\r\n  'hr': true,\r\n  'img': true,\r\n  'input': true,\r\n  'keygen': true,\r\n  'link': true,\r\n  'meta': true,\r\n  'param': true,\r\n  'source': true,\r\n  'track': true,\r\n  'wbr': true\r\n};\r\n\r\nfunction verifySelfCloseTag(tagName) {\r\n  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n}\r\n\r\n//Extract parameters inside the xml open tag\r\nfunction getOpenTagParams(tag) {\r\n  var pattern = tmplRule.openTagParams,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(tag))) {\r\n    var key = matchArr[1];\r\n    if (key === '/') { //If match to the last of \"/\", then continue the loop.\r\n      continue;\r\n    }\r\n\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var value = matchArr[7],\r\n      onlyBrace = matchArr[4];\r\n    if (value != null) {\r\n      value = tools.clearQuot(value); //Remove quotation marks\r\n    } else {\r\n      value = key; //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n    }\r\n\r\n    //Removed at the end of \"/>\", \">\" or \"/\".\r\n    if (/\\/>$/.test(value)) {\r\n      value = value.substr(0, value.length - 2);\r\n    } else if (/>$/.test(value) || /\\/$/.test(value)) {\r\n      value = value.substr(0, value.length - 1);\r\n    }\r\n\r\n    ret.push({\r\n      key,\r\n      value,\r\n      onlyBrace\r\n    });\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断xml close tag\r\nfunction isXmlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n}\r\n\r\n//get inside brace param\r\nfunction getInsideBraceParam(obj) {\r\n  return tmplRule.insideBraceParam.exec(obj);\r\n}\r\n\r\n//判断块表达式并返回参数\r\nfunction isExpr(obj) {\r\n  var ret, ret1 = tmplRule.expr.exec(obj);\r\n  if (ret1) {\r\n    ret = [ret1[1]];\r\n\r\n    var params = getOpenTagParams(obj); //提取各参数\r\n    if (params) {\r\n      ret.push(params);\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断是否模板元素\r\nfunction isTmpl(obj) {\r\n  return obj === 'tmpl';\r\n}\r\n\r\n//加入到模板集合中\r\nfunction addTmpl(node, parent, name) {\r\n  var paramsP = parent.params;\r\n  if (!paramsP) {\r\n    paramsP = parent.params = tools.obj();\r\n  }\r\n\r\n  var tmpls = paramsP.tmpls;\r\n  if (!tmpls) {\r\n    var objT = { length: 0 };\r\n    if (name != null) {\r\n      objT[name] = node;\r\n    } else {\r\n      objT['0'] = node;\r\n      objT.length = 1;\r\n    }\r\n\r\n    paramsP.tmpls = tranParam.compiledParam(objT);\r\n  } else { //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n    var objT = tmpls.strs[0],\r\n      len = objT.length;\r\n\r\n    if (name != null) {\r\n      objT[name] = node;\r\n    } else {\r\n      objT[len] = node;\r\n      objT.length = ++len;\r\n    }\r\n  }\r\n}\r\n\r\n//Test whether as parameters expression\r\nfunction isParamsExpr(name) {\r\n  return name === 'params' || name === 'props';\r\n}\r\n\r\n//Add to the \"paramsExpr\" property of the parent node\r\nfunction addParamsExpr(node, parent, isExprProp) {\r\n  if (!parent.paramsExpr) {\r\n    let exprPropsNode;\r\n    if (isExprProp) {\r\n      exprPropsNode = {\r\n        type: 'nj_expr',\r\n        expr: 'props',\r\n        content: [node]\r\n      };\r\n    } else {\r\n      exprPropsNode = node;\r\n    }\r\n\r\n    parent.paramsExpr = exprPropsNode;\r\n  } else {\r\n    tools.arrayPush(parent.paramsExpr.content, isExprProp ? [node] : node.content);\r\n  }\r\n}\r\n\r\nconst PROP_EXPRS = ['prop', 'spread'];\r\nfunction isExprProp(name) {\r\n  const config = exprConfig[name];\r\n  return {\r\n    isExprProp: config ? config.exprProps : false,\r\n    isProp: PROP_EXPRS.indexOf(name) > -1\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  getXmlOpenTag,\r\n  isXmlSelfCloseTag,\r\n  verifySelfCloseTag,\r\n  getOpenTagParams,\r\n  isXmlCloseTag,\r\n  getInsideBraceParam,\r\n  isExpr,\r\n  isTmpl,\r\n  addTmpl,\r\n  isParamsExpr,\r\n  addParamsExpr,\r\n  isExprProp\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformElement.js","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//Get compiled parameters from a object\r\nfunction compiledParams(obj) {\r\n  var ret = tools.obj();\r\n  tools.each(obj, function(v, k) {\r\n    ret[k] = compiledParam(v);\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled property\r\nvar REGEX_JS_PROP = /(('[^']*')|(\"[^\"]*\")|(-?([0-9][0-9]*)(\\.\\d+)?)|true|false|null|undefined|([#]*)([^.[\\]()]+))([^\\s()]*)/;\r\n\r\nfunction compiledProp(prop) {\r\n  var ret = tools.obj();\r\n\r\n  //If there are colons in the property,then use filter\r\n  if (prop.indexOf('|') >= 0) {\r\n    var filters = [],\r\n      filtersTmp;\r\n    filtersTmp = prop.split('|');\r\n    prop = filtersTmp[0].trim(); //Extract property\r\n\r\n    filtersTmp = filtersTmp.slice(1);\r\n    tools.each(filtersTmp, function(filter) {\r\n      var retF = _getFilterParam(filter.trim()),\r\n        filterObj = tools.obj(),\r\n        filterName = retF[1]; //Get filter name\r\n\r\n      if (filterName) {\r\n        var paramsF = retF[3]; //Get filter param\r\n\r\n        //Multiple params are separated by commas.\r\n        if (paramsF) {\r\n          var params = [];\r\n          tools.each(paramsF.split(','), function(p) {\r\n            params[params.length] = compiledProp(p.trim());\r\n          }, false, true);\r\n\r\n          filterObj.params = params;\r\n        }\r\n\r\n        filterObj.name = filterName;\r\n        filters.push(filterObj);\r\n      }\r\n    }, false, true);\r\n\r\n    ret.filters = filters;\r\n  }\r\n\r\n  //Extract the parent data path\r\n  if (prop.indexOf('../') === 0) {\r\n    var n = 0;\r\n    prop = prop.replace(/\\.\\.\\//g, function() {\r\n      n++;\r\n      return '';\r\n    });\r\n\r\n    ret.parentNum = n;\r\n  }\r\n\r\n  //Extract the js property\r\n  prop = REGEX_JS_PROP.exec(prop);\r\n  var hasComputed = prop[7];\r\n  ret.name = hasComputed ? prop[8] : prop[1];\r\n  ret.jsProp = prop[9];\r\n\r\n  if (!prop[8]) { //Sign the parameter is a basic type value.\r\n    ret.isBasicType = true;\r\n  }\r\n  if (hasComputed) {\r\n    ret.isComputed = true;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get filter param\r\nvar REGEX_FILTER_PARAM = /([\\w$@=+-\\\\*/&%?]+)(\\(([^()]+)\\))*/;\r\n\r\nfunction _getFilterParam(obj) {\r\n  return REGEX_FILTER_PARAM.exec(obj);\r\n}\r\n\r\n//Extract replace parameters\r\nvar _quots = ['\\'', '\"'];\r\n\r\nfunction _getReplaceParam(obj, strs) {\r\n  var pattern = tmplRule.replaceParam,\r\n    matchArr, ret, i = 0;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var prop = matchArr[3],\r\n      item = [matchArr[0], matchArr[1], null, true];\r\n\r\n    if (i > 0) {\r\n      item[3] = false; //Sign not contain all of placehorder\r\n    }\r\n\r\n    //Clear parameter at both ends of the space.\r\n    prop = prop.trim();\r\n\r\n    item[2] = prop;\r\n    ret.push(item);\r\n    i++;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled parameter\r\nfunction compiledParam(value) {\r\n  var ret = tools.obj(),\r\n    strs = tools.isString(value) ? value.split(tmplRule.replaceSplit) : [value],\r\n    props = null,\r\n    isAll = false; //此处指替换符是否占满整个属性值;若无替换符时为false\r\n\r\n  //If have placehorder\r\n  if (strs.length > 1) {\r\n    var params = _getReplaceParam(value, strs);\r\n    props = [];\r\n\r\n    tools.each(params, function(param) {\r\n      var retP = tools.obj();\r\n      isAll = param[3] ? param[0] === value : false; //If there are several curly braces in one property value, \"isAll\" must be false.\r\n      retP.prop = compiledProp(param[2]);\r\n\r\n      //To determine whether it is necessary to escape\r\n      retP.escape = param[1] !== tmplRule.firstChar + tmplRule.startRule;\r\n      props.push(retP);\r\n    }, false, true);\r\n  }\r\n\r\n  ret.props = props;\r\n  ret.strs = strs;\r\n  ret.isAll = isAll;\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  compiledParam,\r\n  compiledParams,\r\n  compiledProp\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformParam.js","'use strict';\r\n\r\nconst tools = require('../utils/tools');\r\n\r\n//Global expression list\r\nconst exprs = {\r\n  'if': function(value, options) {\r\n    if (value === 'false') {\r\n      value = false;\r\n    }\r\n\r\n    var valueR, ret;\r\n    if (!options.useUnless) {\r\n      valueR = !!value;\r\n    } else {\r\n      valueR = !!!value;\r\n    }\r\n    if (valueR) {\r\n      ret = options.result();\r\n    } else {\r\n      let props = options.props;\r\n      if (props) {\r\n        let elseFn = props['else'];\r\n\r\n        if (props.elseifs) {\r\n          let l = props.elseifs.length;\r\n          tools.each(props.elseifs, function(elseif, i) {\r\n            if (!!elseif.value) {\r\n              ret = elseif.fn();\r\n              return false;\r\n            } else if (i === l - 1) {\r\n              if (elseFn) {\r\n                ret = elseFn();\r\n              }\r\n            }\r\n          }, false, true);\r\n        } else {\r\n          if (elseFn) {\r\n            ret = elseFn();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (options.useString && ret == null) {\r\n      return '';\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  'else': (options) => options.exprProps['else'] = options.result,\r\n\r\n  'elseif': (value, options) => {\r\n    const exprProps = options.exprProps;\r\n    if (!exprProps.elseifs) {\r\n      exprProps.elseifs = [];\r\n    }\r\n    exprProps.elseifs.push({\r\n      value,\r\n      fn: options.result\r\n    });\r\n  },\r\n\r\n  'switch': function(value, options) {\r\n    var ret,\r\n      props = options.props,\r\n      l = props.elseifs.length;\r\n\r\n    tools.each(props.elseifs, function(elseif, i) {\r\n      if (value === elseif.value) {\r\n        ret = elseif.fn();\r\n        return false;\r\n      } else if (i === l - 1) {\r\n        if (props['else']) {\r\n          ret = props['else']();\r\n        }\r\n      }\r\n    }, false, true);\r\n\r\n    return ret;\r\n  },\r\n\r\n  unless: function(value, options) {\r\n    options.useUnless = true;\r\n    return exprs['if'].call(this, value, options);\r\n  },\r\n\r\n  each: function(list, options) {\r\n    var useString = options.useString,\r\n      ret;\r\n\r\n    if (list) {\r\n      if (useString) {\r\n        ret = '';\r\n      } else {\r\n        ret = [];\r\n      }\r\n\r\n      const props = options.props;\r\n      tools.each(list, function(item, index, len) {\r\n        let param = {\r\n          data: item,\r\n          index: index,\r\n          fallback: true\r\n        };\r\n\r\n        if (props && props.moreValues) {\r\n          param.extra = {\r\n            ['@first']: index === 0,\r\n            ['@last']: index === len - 1,\r\n            ['@length']: len\r\n          };\r\n        }\r\n\r\n        let retI = options.result(param);\r\n        if (useString) {\r\n          ret += retI;\r\n        } else {\r\n          ret.push(retI);\r\n        }\r\n      }, false, tools.isArrayLike(list));\r\n\r\n      //Return null when not use string and result is empty.\r\n      if (!useString && !ret.length) {\r\n        ret = null;\r\n      }\r\n    } else {\r\n      let props = options.props;\r\n      if (props && props['else']) {\r\n        ret = props['else']();\r\n      }\r\n      if (useString && ret == null) {\r\n        ret = '';\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Parameter\r\n  prop: function(name, options) {\r\n    var ret = options.result(), //Get parameter value\r\n      value;\r\n\r\n    if (ret !== undefined) {\r\n      value = ret;\r\n    } else { //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n      value = !options.useString ? true : name;\r\n    }\r\n\r\n    options.exprProps[name] = value;\r\n  },\r\n\r\n  //Spread parameters\r\n  spread: function(props, options) {\r\n    tools.each(props, function(v, k) {\r\n      options.exprProps[k] = v;\r\n    }, false, false);\r\n  },\r\n\r\n  'for': function(start, end, options) {\r\n    if (end._njOpts) {\r\n      options = end;\r\n      end = start;\r\n      start = 0;\r\n    }\r\n\r\n    var ret, useString = options.useString;\r\n    if (useString) {\r\n      ret = '';\r\n    } else {\r\n      ret = [];\r\n    }\r\n\r\n    for (; start <= end; start++) {\r\n      var retI = options.result({\r\n        index: start\r\n      });\r\n\r\n      if (useString) {\r\n        ret += retI;\r\n      } else {\r\n        ret.push(retI);\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  obj: function(options) {\r\n    return options.props;\r\n  },\r\n\r\n  blank: function(options) {\r\n    return options.result();\r\n  }\r\n};\r\n\r\nfunction _commonConfig(params) {\r\n  var ret = {\r\n    useString: true,\r\n    exprProps: false,\r\n    newContext: true\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\n//Expression default config\r\nvar exprConfig = {\r\n  'if': _commonConfig({ newContext: false }),\r\n  'else': _commonConfig({ newContext: false, useString: false, exprProps: true }),\r\n  'switch': _commonConfig({ newContext: false }),\r\n  unless: _commonConfig({ newContext: false }),\r\n  each: _commonConfig(),\r\n  prop: _commonConfig({ newContext: false, exprProps: true }),\r\n  spread: _commonConfig({ newContext: false, useString: false, exprProps: true }),\r\n  'for': _commonConfig(),\r\n  obj: _commonConfig({ newContext: false, useString: false })\r\n};\r\nexprConfig.elseif = _commonConfig(exprConfig['else']);\r\nexprConfig.blank = _commonConfig(exprConfig.obj);\r\n\r\n//Expression alias\r\nexprs['case'] = exprs.elseif;\r\nexprConfig['case'] = exprConfig.elseif;\r\nexprs['default'] = exprs['else'];\r\nexprConfig['default'] = exprConfig['else'];\r\n\r\n//Register expression and also can batch add\r\nfunction registerExpr(name, expr, options) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      expr: expr,\r\n      options: options\r\n    };\r\n  }\r\n\r\n  tools.each(params, function(v, name) {\r\n    if (v) {\r\n      var expr = v.expr,\r\n        options = v.options;\r\n\r\n      if (expr || options) {\r\n        if (expr) {\r\n          exprs[name] = expr;\r\n        }\r\n        if (options) {\r\n          exprConfig[name] = _commonConfig(options);\r\n        }\r\n      } else {\r\n        exprs[name] = v;\r\n      }\r\n    }\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  exprs,\r\n  exprConfig,\r\n  registerExpr\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/expression.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  errorTitle = nj.errorTitle;\r\n\r\n//提取style内参数\r\nfunction styleProps(obj) {\r\n  //If the parameter is a style object,then direct return.\r\n  if (tools.isObject(obj)) {\r\n    return obj;\r\n  }\r\n\r\n  //参数为字符串\r\n  let pattern = /([^\\s:]+)[\\s]?:[\\s]?([^;]+)[;]?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    var key = matchArr[1],\r\n      value = matchArr[2];\r\n\r\n    if (!ret) {\r\n      ret = {};\r\n    }\r\n\r\n    //Convert to lowercase when style name is all capital.\r\n    if (/^[A-Z-]+$/.test(key)) {\r\n      key = key.toLowerCase();\r\n    }\r\n\r\n    //将连字符转为驼峰命名\r\n    key = tools.toCamelCase(key);\r\n\r\n    ret[key] = value;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get value from multiple datas\r\nfunction getData(prop, data) {\r\n  var ret, obj;\r\n  if (data === undefined) {\r\n    data = this.data;\r\n  }\r\n\r\n  for (var i = 0, l = data.length; i < l; i++) {\r\n    obj = data[i];\r\n    if (obj) {\r\n      ret = obj[prop];\r\n      if (ret !== undefined) {\r\n        return ret;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getComputedData(fn, p2) {\r\n  if (fn == null) {\r\n    return fn;\r\n  }\r\n\r\n  if (fn._njTmpl) {  //模板函数\r\n    return fn.call({\r\n      _njData: p2.data,\r\n      _njParent: p2.parent,\r\n      _njIndex: p2.index\r\n    });\r\n  }\r\n  else {  //普通函数\r\n    return fn(p2);\r\n  }\r\n}\r\n\r\n//Rebuild local variables in the new context\r\nfunction newContext(p2, p3) {\r\n  var newData = [];\r\n  if (p3 && 'data' in p3) {\r\n    newData.push(p3.data);\r\n  }\r\n  if (p3 && 'extra' in p3) {\r\n    newData.push(p3.extra);\r\n  }\r\n\r\n  return {\r\n    data: newData.length ? tools.arrayPush(newData, p2.data) : p2.data,\r\n    parent: p3 && p3.fallback ? p2 : p2.parent,\r\n    index: p3 && 'index' in p3 ? p3.index : p2.index,\r\n    getData\r\n  };\r\n}\r\n\r\n//修正属性名\r\nfunction fixPropName(name) {\r\n  switch (name) {\r\n    case 'class':\r\n      name = 'className';\r\n      break;\r\n    case 'for':\r\n      name = 'htmlFor';\r\n      break;\r\n  }\r\n\r\n  return name;\r\n}\r\n\r\n//合并字符串属性\r\nfunction assignStringProp(paramsE, keys) {\r\n  var ret = '';\r\n  for (var k in paramsE) {\r\n    if (!keys || !keys[k]) {\r\n      var v = paramsE[k];\r\n      ret += ' ' + k + (k !== v ? '=\"' + v + '\"' : ' ');\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\n//创建块表达式子节点函数\r\nfunction exprRet(p1, p2, fn, p4) {\r\n  return function(param) {\r\n    return fn(p1, p2, param, p4);\r\n  };\r\n}\r\n\r\n//构建可运行的模板函数\r\nfunction tmplWrap(configs, main) {\r\n  return function() {\r\n    var initCtx = this,\r\n      data = tools.arraySlice(arguments);\r\n\r\n    return main(configs, {\r\n      data: initCtx && initCtx._njData ? tools.arrayPush(data, initCtx._njData) : data,\r\n      parent: initCtx && initCtx._njParent ? initCtx._njParent : null,\r\n      index: initCtx && initCtx._njIndex ? initCtx._njIndex : null,\r\n      getData\r\n    });\r\n  };\r\n}\r\n\r\n//创建模板函数\r\nfunction template(fns) {\r\n  var configs = {\r\n    useString: fns.useString,\r\n    exprs: nj.exprs,\r\n    filters: nj.filters,\r\n    noop: tools.noop,\r\n    obj: tools.obj,\r\n    throwIf: tools.throwIf,\r\n    warn: tools.warn,\r\n    newContext,\r\n    getComputedData,\r\n    styleProps,\r\n    exprRet\r\n  };\r\n\r\n  if (!configs.useString) {\r\n    configs.h = nj.createElement;\r\n    configs.components = nj.components;\r\n    //configs.assign = tools.assign;\r\n  } else {\r\n    configs.assignStringProp = assignStringProp;\r\n    configs.escape = nj.escape;\r\n  }\r\n\r\n  tools.each(fns, function(v, k) {\r\n    if (k.indexOf('main') === 0) { //将每个主函数构建为可运行的模板函数\r\n      configs[k] = tmplWrap(configs, v);\r\n      configs[k]._njTmpl = true;\r\n      configs['_' + k] = v;\r\n    } else if (k.indexOf('fn') === 0) { //块表达式函数\r\n      configs[k] = v;\r\n    }\r\n  }, false, false);\r\n\r\n  return configs;\r\n}\r\n\r\nmodule.exports = {\r\n  newContext,\r\n  getData,\r\n  getComputedData,\r\n  fixPropName,\r\n  styleProps,\r\n  assignStringProp,\r\n  exprRet,\r\n  tmplWrap,\r\n  template\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/transforms/transformData.js","'use strict';\r\n\r\nvar ESCAPE_LOOKUP = {\r\n  '&': '&amp;',\r\n  '>': '&gt;',\r\n  '<': '&lt;',\r\n  '\"': '&quot;',\r\n  '\\'': '&#x27;'\r\n};\r\n\r\nfunction escape(text) {\r\n  if (text == null) {\r\n    return '';\r\n  }\r\n  else if(!text.replace) {\r\n    return text;\r\n  }\r\n\r\n  return text.replace(/[&><\"']/g, function (match) {\r\n    return ESCAPE_LOOKUP[match];\r\n  });\r\n}\r\n\r\nmodule.exports = escape;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/escape.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('../transforms/transformParam'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  tmplRule = nj.tmplRule,\r\n  NO_SPLIT_NEWLINE = [\r\n    'style',\r\n    'script',\r\n    'textarea',\r\n    'pre',\r\n    'xmp',\r\n    'template'\r\n  ];\r\n\r\nfunction _plainTextNode(obj, parent, parentContent) {\r\n  var node = {};\r\n  node.type = 'nj_plaintext';\r\n  node.content = [tranParam.compiledParam(obj)];\r\n  parent[parentContent].push(node);\r\n}\r\n\r\n//检测元素节点\r\nfunction checkElem(obj, parent, hasExprProps) {\r\n  var parentContent = 'content';\r\n\r\n  if (!tools.isArray(obj)) { //判断是否为文本节点\r\n    if (tools.isString(obj) && (parent.expr || NO_SPLIT_NEWLINE.indexOf(parent.type.toLowerCase()) < 0)) {\r\n      var strs = obj.split(tmplRule.newlineSplit);\r\n      strs.forEach((str, i) => {\r\n        str = str.trim();\r\n        str !== '' && _plainTextNode(str, parent, parentContent);\r\n      });\r\n    }\r\n    else {\r\n      _plainTextNode(obj, parent, parentContent);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  var node = {},\r\n    first = obj[0];\r\n  if (tools.isString(first)) { //第一个子节点为字符串\r\n    var first = first,\r\n      len = obj.length,\r\n      last = obj[len - 1],\r\n      isElemNode = false,\r\n      expr,\r\n      exprParams;\r\n\r\n    //判断是否为xml标签\r\n    var openTagName,\r\n      hasCloseTag = false,\r\n      isTmpl,\r\n      isParamsExpr,\r\n      isProp,\r\n      isExprProp,\r\n      needAddToProps;\r\n\r\n    expr = tranElem.isExpr(first);\r\n    if (!expr) {\r\n      var xmlOpenTag = tranElem.getXmlOpenTag(first);\r\n      if (xmlOpenTag) { //tagname为xml标签时,则认为是元素节点\r\n        openTagName = xmlOpenTag[1];\r\n\r\n        if (!tranElem.isXmlSelfCloseTag(first)) { //非自闭合标签才验证是否存在关闭标签\r\n          hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n        } else { //自闭合标签\r\n          node.selfCloseTag = true;\r\n        }\r\n        isElemNode = true;\r\n      }\r\n    } else { //为块表达式,也可视为一个元素节点\r\n      var exprName = expr[0];\r\n      exprParams = expr[1];\r\n      isTmpl = tranElem.isTmpl(exprName);\r\n      isParamsExpr = tranElem.isParamsExpr(exprName);\r\n      if (!isParamsExpr) {\r\n        let exprProp = tranElem.isExprProp(exprName);\r\n        isProp = exprProp.isProp;\r\n        isExprProp = exprProp.isExprProp;\r\n        needAddToProps = isProp ? !hasExprProps : isExprProp;\r\n      }\r\n\r\n      node.type = 'nj_expr';\r\n      node.expr = exprName;\r\n      if (exprParams != null && !isTmpl && !isParamsExpr) {\r\n        if (!node.args) {\r\n          node.args = [];\r\n        }\r\n\r\n        tools.each(exprParams, function(param) {\r\n          if (param.value === 'useString') {\r\n            node.useString = true;\r\n            return;\r\n          }\r\n\r\n          let paramV = tranParam.compiledParam(param.value);\r\n          if (param.onlyBrace) { //提取匿名参数\r\n            node.args.push(paramV);\r\n          } else {\r\n            if (!node.params) {\r\n              node.params = tools.obj();\r\n            }\r\n            node.params[param.key] = paramV;\r\n          }\r\n        }, false, true);\r\n      }\r\n\r\n      isElemNode = true;\r\n    }\r\n\r\n    if (isElemNode) { //判断是否为元素节点\r\n      var pushContent = true;\r\n\r\n      if (!expr) {\r\n        node.type = openTagName;\r\n\r\n        //If open tag has a brace,add the typeRefer param.\r\n        var typeRefer = tranElem.getInsideBraceParam(openTagName);\r\n        if (typeRefer) {\r\n          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n        }\r\n\r\n        //获取openTag内参数\r\n        var tagParams = tranElem.getOpenTagParams(first);\r\n        if (tagParams) {\r\n          if (!node.params) {\r\n            node.params = tools.obj();\r\n          }\r\n\r\n          tools.each(tagParams, function(param) { //The parameter like \"{prop}\" needs to be replaced.\r\n            node.params[param.onlyBrace ? param.onlyBrace.replace(/\\.\\.\\//g, '') : param.key] = tranParam.compiledParam(param.value);\r\n          }, false, true);\r\n        }\r\n\r\n        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n        if (!node.selfCloseTag) {\r\n          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n        }\r\n      } else {\r\n        if (isTmpl) { //模板元素\r\n          pushContent = false;\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, exprParams ? exprParams[0].value : null);\r\n        } else if (isParamsExpr) {\r\n          pushContent = false;\r\n        } else if (needAddToProps) {\r\n          pushContent = false;\r\n        }\r\n      }\r\n\r\n      //放入父节点content内\r\n      if (pushContent) {\r\n        parent[parentContent].push(node);\r\n      }\r\n\r\n      //取出子节点集合\r\n      var end = len - (hasCloseTag ? 1 : 0),\r\n        content = obj.slice(1, end);\r\n      if (content && content.length) {\r\n        checkContentElem(content, node, isParamsExpr || (hasExprProps && !isProp));\r\n      }\r\n\r\n      //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n      if (isParamsExpr || needAddToProps) {\r\n        tranElem.addParamsExpr(node, parent, isExprProp);\r\n      }\r\n    } else { //如果不是元素节点,则为节点集合\r\n      checkContentElem(obj, parent, hasExprProps);\r\n    }\r\n  } else if (tools.isArray(first)) { //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n    checkContentElem(obj, parent, hasExprProps);\r\n  }\r\n}\r\n\r\n//检测子元素节点\r\nfunction checkContentElem(obj, parent, hasExprProps) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n\r\n  tools.each(obj, function(item) {\r\n    checkElem(item, parent, hasExprProps);\r\n  }, false, true);\r\n}\r\n\r\nmodule.exports = {\r\n  checkElem\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/parser/checkElem.js","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//注册组件\r\nfunction registerComponent(name, component) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = component;\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    nj.components[k.toLowerCase()] = v;\r\n  }, false, false);\r\n\r\n  return component;\r\n}\r\n\r\nmodule.exports = {\r\n  registerComponent\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/registerComponent.js","'use strict';\r\n\r\nvar tools = require('../utils/tools');\r\n\r\n//Global filter list\r\nvar filters = {\r\n  //Get param properties\r\n  prop: (value, props) => {\r\n    var ret = value;\r\n    ret && props.split('.').forEach(p => {\r\n      ret = ret[p];\r\n    });\r\n\r\n    return ret;\r\n  },\r\n\r\n  '==': (val1, val2) => val1 == val2,\r\n\r\n  '===': (val1, val2) => val1 === val2,\r\n\r\n  //Less than\r\n  lt: (val1, val2) => val1 < val2,\r\n\r\n  lte: (val1, val2) => val1 <= val2,\r\n\r\n  //Greater than\r\n  gt: (val1, val2) => val1 > val2,\r\n\r\n  gte: (val1, val2) => val1 >= val2,\r\n\r\n  '+': (val1, val2) => val1 + val2,\r\n\r\n  '-': (val1, val2) => val1 - val2,\r\n\r\n  //Ternary operator\r\n  '?': (val, val1, val2) => val ? val1 : val2,\r\n\r\n  //Convert to int \r\n  int: val => parseInt(val, 10),\r\n\r\n  //Convert to float \r\n  float: val => parseFloat(val),\r\n\r\n  //Convert to boolean \r\n  bool: val => {\r\n    if (val === 'false') {\r\n      return false;\r\n    }\r\n\r\n    return Boolean(val);\r\n  }\r\n};\r\n\r\nfunction _commonConfig(params) {\r\n  var ret = {\r\n    useString: false\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\n//Filter default config\r\nvar filterConfig = {\r\n  prop: _commonConfig(),\r\n  '==': _commonConfig(),\r\n  '===': _commonConfig(),\r\n  lt: _commonConfig(),\r\n  lte: _commonConfig(),\r\n  gt: _commonConfig(),\r\n  gte: _commonConfig(),\r\n  '+': _commonConfig(),\r\n  '-': _commonConfig(),\r\n  int: _commonConfig(),\r\n  float: _commonConfig(),\r\n  bool: _commonConfig()\r\n};\r\n\r\n//Register filter and also can batch add\r\nfunction registerFilter(name, filter, options) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      filter: filter,\r\n      options: options\r\n    };\r\n  }\r\n\r\n  tools.each(params, function(v, name) {\r\n    if (v) {\r\n      var filter = v.filter,\r\n        options = v.options;\r\n\r\n      if (filter || options) {\r\n        if (filter) {\r\n          filters[name] = filter;\r\n        }\r\n        if (options) {\r\n          filterConfig[name] = _commonConfig(options);\r\n        }\r\n      } else {\r\n        filters[name] = v;\r\n      }\r\n    }\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  filters,\r\n  filterConfig,\r\n  registerFilter\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/filter.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\nfunction _createRegExp(reg, mode) {\r\n  return new RegExp(reg, mode);\r\n}\r\n\r\n//Clear the repeated characters\r\nfunction _clearRepeat(str) {\r\n  var ret = '',\r\n    i = 0,\r\n    l = str.length,\r\n    char;\r\n\r\n  for (; i < l; i++) {\r\n    char = str[i];\r\n    if (ret.indexOf(char) < 0) {\r\n      ret += char;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = function(rules = {}) {\r\n  let {\r\n    startRule = '{{',\r\n    endRule = '}}',\r\n    exprRule = '#',\r\n    propRule = '@',\r\n    templateRule = 'template',\r\n    tagSpRule = '#$@',\r\n    commentRule = '#'\r\n  } = nj.tmplRule;\r\n\r\n  let {\r\n    start,\r\n    end,\r\n    expr,\r\n    prop,\r\n    template,\r\n    tagSp,\r\n    comment\r\n  } = rules;\r\n\r\n  if (start) {\r\n    startRule = start;\r\n  }\r\n  if (end) {\r\n    endRule = end;\r\n  }\r\n  if (expr) {\r\n    exprRule = expr;\r\n  }\r\n  if (prop) {\r\n    propRule = prop;\r\n  }\r\n  if (template) {\r\n    templateRule = template;\r\n  }\r\n  if (tagSp) {\r\n    tagSpRule = tagSp;\r\n  }\r\n  if (comment != null) {\r\n    commentRule = comment;\r\n  }\r\n\r\n  var allRules = _clearRepeat(startRule + endRule),\r\n    firstChar = startRule[0],\r\n    lastChar = endRule[endRule.length - 1],\r\n    otherChars = allRules.substr(1),\r\n    exprRules = _clearRepeat(exprRule + propRule + tagSpRule),\r\n    escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\r\n\r\n  //Reset the regexs to global list\r\n  tools.assign(nj.tmplRule, {\r\n    startRule,\r\n    endRule,\r\n    exprRule,\r\n    propRule,\r\n    templateRule,\r\n    tagSpRule,\r\n    commentRule,\r\n    firstChar,\r\n    lastChar,\r\n    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + exprRules + '][-a-z0-9_|./' + firstChar + otherChars + ']*)[^>]*>$', 'i'),\r\n    openTagParams: _createRegExp('[\\\\s]+((([' + firstChar + ']?' + startRule + ')([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?))|[^\\\\s=>]+)(=((\\'[^\\']+\\')|(\"[^\"]+\")|([^\"\\'\\\\s]+)))?', 'g'),\r\n    insideBraceParam: _createRegExp('([' + firstChar + ']?' + startRule + ')([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'i'),\r\n    spreadProp: _createRegExp('[\\\\s]+([' + firstChar + ']?' + startRule + ')[\\\\s]*(\\\\.\\\\.\\\\.[^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'g'),\r\n    replaceSplit: _createRegExp('(?:[' + firstChar + ']?' + startRule + ')[^' + allRules + ']+(?:' + endRule + '[' + lastChar + ']?)'),\r\n    replaceParam: _createRegExp('(([' + firstChar + ']?' + startRule + '))([^' + allRules + ']+)(' + endRule + '[' + lastChar + ']?)', 'g'),\r\n    checkElem: _createRegExp('([^>]*)(<([a-z' + firstChar + '/' + exprRules + '!][-a-z0-9_|.' + allRules + exprRules + ']*)([^>]*)>)([^<]*)', 'ig'),\r\n    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i'),\r\n    include: _createRegExp('<' + escapeExprRule + 'include([^>]*)>', 'ig'),\r\n    newlineSplit: _createRegExp('\\\\\\\\n(?![^' + firstChar + lastChar + ']*' + lastChar + ')', 'g'),\r\n  });\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/setTmplRule.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  buildRuntime = require('./buildRuntime'),\r\n  compileStringTmpl = require('../parser/checkStringElem');\r\n\r\n//编译模板并返回转换函数\r\nfunction _createCompile(outputH) {\r\n  return function(tmpl, tmplKey, fileName) {\r\n    if (!tmpl) {\r\n      return;\r\n    }\r\n    if (utils.isObject(tmplKey)) {\r\n      var options = tmplKey;\r\n      tmplKey = options.tmplKey;\r\n      fileName = options.fileName;\r\n    }\r\n\r\n    //编译模板函数\r\n    var tmplFns;\r\n    if (tmplKey) {\r\n      tmplFns = nj.templates[tmplKey];\r\n    }\r\n    if (!tmplFns) {\r\n      var isObj = utils.isObject(tmpl),\r\n        fns;\r\n      if (isObj && tmpl.main) { //直接传入预编译模板\r\n        fns = tmpl;\r\n      } else { //编译AST\r\n        var root;\r\n        if (tmplKey) {\r\n          root = nj.asts[tmplKey];\r\n        }\r\n        if (!root) {\r\n          //Can be directly introduced into the AST\r\n          if (isObj && tmpl.type === 'nj_root') {\r\n            root = tmpl;\r\n          } else {\r\n            root = _createAstRoot();\r\n\r\n            //Auto transform string template to array\r\n            if (utils.isString(tmpl)) {\r\n              //Merge all include blocks\r\n              var includeParser = nj.includeParser;\r\n              if (includeParser) {\r\n                tmpl = includeParser(tmpl, fileName);\r\n              }\r\n\r\n              tmpl = compileStringTmpl(tmpl);\r\n            }\r\n\r\n            //分析传入参数并转换为节点树对象\r\n            utils.checkElem(tmpl._njTmpl, root);\r\n          }\r\n\r\n          //保存模板AST编译结果到全局集合中\r\n          if (tmplKey) {\r\n            nj.asts[tmplKey] = root;\r\n          }\r\n        }\r\n\r\n        fns = buildRuntime(root.content, !outputH);\r\n      }\r\n\r\n      tmplFns = utils.template(fns);\r\n\r\n      //保存模板函数编译结果到全局集合中\r\n      if (tmplKey) {\r\n        nj.templates[tmplKey] = tmplFns;\r\n      }\r\n    }\r\n\r\n    if (tmpl._njParams) {\r\n      const tmplFn = function() {\r\n        return tmplFns.main.apply(this, utils.arrayPush([tmpl._njParams], arguments));\r\n      };\r\n      tmplFn._njTmpl = true;\r\n      return tmplFn;\r\n    } else {\r\n      return tmplFns.main;\r\n    }\r\n  };\r\n}\r\n\r\nconst compile = _createCompile(),\r\n  compileH = _createCompile(true);\r\n\r\n//Create template root object\r\nfunction _createAstRoot() {\r\n  var root = utils.obj();\r\n  root.type = 'nj_root';\r\n  root.content = [];\r\n\r\n  return root;\r\n}\r\n\r\n//Precompile template\r\nfunction precompile(tmpl, outputH) {\r\n  var root = _createAstRoot();\r\n\r\n  if (utils.isString(tmpl)) {\r\n    tmpl = compileStringTmpl(tmpl);\r\n  }\r\n  utils.checkElem(tmpl._njTmpl, root);\r\n\r\n  return buildRuntime(root.content, !outputH);\r\n}\r\n\r\nfunction _createRender(outputH) {\r\n  return function(tmpl, options) {\r\n    return (outputH ? compileH : compile)(tmpl, options ? {\r\n      tmplKey: options.tmplKey ? options.tmplKey : tmpl._njTmplKey,\r\n      fileName: options.fileName\r\n    } : tmpl._njTmplKey).apply(null, utils.arraySlice(arguments, 1));\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  compile,\r\n  compileH,\r\n  precompile,\r\n  render: _createRender(),\r\n  renderH: _createRender(true)\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/compiler/compile.js","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  errorTitle = nj.errorTitle,\r\n  exprConfig = utils.exprConfig,\r\n  filterConfig = utils.filterConfig,\r\n  replaceSpecialSymbol = require('../utils/replaceSpecialSymbol');\r\n\r\nfunction _buildFn(content, fns, no, newContext, level, useStringLocal) {\r\n  var fnStr = '',\r\n    useString = useStringLocal != null ? useStringLocal : fns.useString,\r\n    isTmplExpr = utils.isString(no), //如果no为字符串, 则本次将构建tmpl块模板函数\r\n    main = isTmplExpr || no === 0,\r\n    /* retType\r\n     1: 只有单个子节点\r\n     2: 有多个子节点\r\n     object: 非构建函数时\r\n    */\r\n    retType = content.length === 1 ? '1' : '2',\r\n    counter = {\r\n      _type: 0,\r\n      _typeRefer: 0,\r\n      _params: 0,\r\n      _paramsE: 0,\r\n      _compParam: 0,\r\n      _dataRefer: 0,\r\n      _expr: 0,\r\n      _value: 0,\r\n      _filter: 0,\r\n      newContext: newContext\r\n    };\r\n\r\n  if (!useString) {\r\n    counter._compParam = 0;\r\n  } else {\r\n    counter._children = 0;\r\n  }\r\n\r\n  if (!main && newContext) {\r\n    fnStr += 'p2 = p1.newContext(p2, p3);\\n';\r\n  }\r\n\r\n  if (retType === '2') {\r\n    if (!useString) {\r\n      fnStr += 'var ret = [];\\n';\r\n    } else {\r\n      fnStr += 'var ret = \\'\\';\\n';\r\n    }\r\n  }\r\n\r\n  fnStr += _buildContent(content, fns, counter, retType, level, useStringLocal);\r\n\r\n  if (retType === '2') {\r\n    fnStr += 'return ret;';\r\n  }\r\n\r\n  /* 构建块表达式函数\r\n   p1: 模板全局数据\r\n   p2: 节点上下文数据\r\n   p3: 块表达式内调用result及inverse方法传递的参数\r\n   p4: #props块变量\r\n  */\r\n  fns[main ? 'main' + (isTmplExpr ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', fnStr);\r\n  return no;\r\n}\r\n\r\nfunction _buildOptions(config, useStringLocal, node, fns, exprPropsStr, level, hashProps) {\r\n  var hashStr = '',\r\n    noConfig = !config;\r\n\r\n  if (noConfig || config.useString) {\r\n    hashStr += ', useString: ' + (useStringLocal == null ? 'p1.useString' : (useStringLocal ? 'true' : 'false'));\r\n  }\r\n  if (node) { //标签表达式\r\n    var newContext = config ? config.newContext : true;\r\n    if (noConfig || config.exprProps) {\r\n      hashStr += ', exprProps: ' + exprPropsStr;\r\n    }\r\n\r\n    hashStr += ', result: ' + (node.content ? 'p1.exprRet(p1, p2, p1.fn' + _buildFn(node.content, fns, ++fns._no, newContext, level, useStringLocal) + ', ' + exprPropsStr + ')' : 'p1.noop');\r\n\r\n    if (hashProps != null) {\r\n      hashStr += ', props: ' + hashProps;\r\n    }\r\n  }\r\n\r\n  return '{ _njOpts: true, ctx: p2' + hashStr + ' }';\r\n}\r\n\r\nfunction _buildPropData(obj, counter, fns, useStringLocal) {\r\n  let dataValueStr,\r\n    escape = obj.escape;\r\n  const { jsProp, isComputed } = obj.prop;\r\n\r\n  //先生成数据值\r\n  if (!obj.prop.isBasicType) {\r\n    const { name, parentNum } = obj.prop;\r\n    let data = '',\r\n      special = false,\r\n      specialP = false;\r\n\r\n    if (name === '@index') {\r\n      data = 'index';\r\n      special = true;\r\n    } else if (name === 'this') {\r\n      data = 'data[0]';\r\n      special = true;\r\n    }\r\n\r\n    if (parentNum) {\r\n      if (!data) {\r\n        data = 'data';\r\n      }\r\n      for (var i = 0; i < parentNum; i++) {\r\n        data = 'parent.' + data;\r\n      }\r\n\r\n      if (!special) {\r\n        specialP = true;\r\n      }\r\n    }\r\n\r\n    if (!special && !specialP) {\r\n      dataValueStr = (isComputed ? 'p1.getComputedData(' : '') + 'p2.getData(\\'' + name + '\\')' + (isComputed ? ', p2)' : '') + jsProp;\r\n    } else {\r\n      var dataStr = 'p2.' + data;\r\n      dataValueStr = (special ? dataStr : (isComputed ? 'p1.getComputedData(' : '') + 'p2.getData(\\'' + name + '\\', ' + dataStr + ')' + (isComputed ? ', p2)' : '')) + jsProp;\r\n    }\r\n  } else {\r\n    dataValueStr = obj.prop.name + jsProp;\r\n  }\r\n\r\n  //有过滤器时需要生成\"_value\"值\r\n  var filters = obj.prop.filters;\r\n  if (filters) {\r\n    var valueStr = '_value' + counter._value++,\r\n      filterStr = 'var ' + valueStr + ' = ' + dataValueStr + ';\\n';\r\n\r\n    utils.each(filters, function(o) {\r\n      var _filterC = counter._filter++,\r\n        configF = filterConfig[o.name],\r\n        filterVarStr = '_filter' + _filterC,\r\n        globalFilterStr = 'p1.filters[\\'' + o.name + '\\']';\r\n\r\n      if (configF) {\r\n        filterStr += '\\nvar ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\r\n      } else { //如果全局配置不存在,先从p2.data中获取\r\n        filterStr += '\\nvar ' + filterVarStr + ' = p2.getData(\\'' + o.name + '\\');\\n';\r\n        filterStr += 'if(!' + filterVarStr + ') ' + filterVarStr + ' = ' + globalFilterStr + ';\\n';\r\n      }\r\n      filterStr += 'if (!' + filterVarStr + ') {\\n';\r\n      filterStr += '  p1.warn(\\'' + o.name + '\\', \\'filter\\');\\n';\r\n      filterStr += '}\\n';\r\n      filterStr += 'else {\\n';\r\n      filterStr += '  ' + valueStr + ' = ' + filterVarStr + '.apply(p2, [' + valueStr +\r\n        (o.params ? o.params.reduce(function(p, c) {\r\n          return p + ', ' + _buildPropData({\r\n            prop: c,\r\n            escape\r\n          }, counter, fns, useStringLocal);\r\n        }, '') : '') +\r\n        ', ' + _buildOptions(configF, useStringLocal) +\r\n        ']);\\n';\r\n      filterStr += '}\\n';\r\n    }, false, true);\r\n\r\n    return {\r\n      valueStr: _buildEscape(valueStr, fns, isComputed ? false : escape),\r\n      filterStr: filterStr\r\n    };\r\n  } else {\r\n    return _buildEscape(dataValueStr, fns, isComputed ? false : escape);\r\n  }\r\n}\r\n\r\nfunction _buildEscape(valueStr, fns, escape) {\r\n  if (fns.useString) {\r\n    if (escape) {\r\n      return 'p1.escape(' + valueStr + ')';\r\n    } else {\r\n      return valueStr;\r\n    }\r\n  } else { //文本中的特殊字符需转义\r\n    return replaceSpecialSymbol(valueStr);\r\n  }\r\n}\r\n\r\nfunction _replaceQuot(str) {\r\n  return str.replace(/'/g, \"\\\\'\");\r\n}\r\n\r\nfunction _buildProps(obj, counter, fns, useStringLocal) {\r\n  var str0 = obj.strs[0],\r\n    valueStr = '',\r\n    filterStr = '';\r\n\r\n  if (utils.isString(str0)) { //常规属性\r\n    valueStr = !obj.isAll && str0 !== '' ? ('\\'' + _replaceQuot(str0) + '\\'') : '';\r\n    filterStr = '';\r\n\r\n    utils.each(obj.props, function(o, i) {\r\n      var propData = _buildPropData(o, counter, fns, useStringLocal),\r\n        dataValueStr;\r\n      if (utils.isString(propData)) {\r\n        dataValueStr = propData;\r\n      } else {\r\n        dataValueStr = propData.valueStr;\r\n        filterStr += propData.filterStr;\r\n      }\r\n\r\n      if (!obj.isAll) {\r\n        var strI = obj.strs[i + 1],\r\n          prefixStr = (str0 === '' && i == 0 ? '' : ' + ');\r\n\r\n        if (strI.trim() === '\\\\n') { //如果只包含换行符号则忽略\r\n          valueStr += prefixStr + dataValueStr;\r\n          return;\r\n        }\r\n\r\n        dataValueStr = prefixStr +\r\n          '(' + dataValueStr + ')' +\r\n          (strI !== '' ? ' + \\'' + _replaceQuot(strI) + '\\'' : '');\r\n      }\r\n\r\n      valueStr += dataValueStr;\r\n      if (obj.isAll) {\r\n        return false;\r\n      }\r\n    }, false, true);\r\n  } else if (utils.isObject(str0) && str0.length != null) { //tmpl块表达式\r\n    valueStr += '{\\n';\r\n    utils.each(str0, function(v, k, i, l) {\r\n      if (k !== 'length') {\r\n        valueStr += '  \"' + k + '\": p1.main' + _buildFn(v.content, fns, 'T' + ++fns._noT);\r\n      } else {\r\n        valueStr += '  length: ' + v;\r\n      }\r\n\r\n      valueStr += ',\\n';\r\n      if (i === l - 1) { //传递上下文参数\r\n        valueStr += '  _njData: p2.data,\\n  _njParent: p2.parent,\\n  _njIndex: p2.index\\n';\r\n      }\r\n    }, false, false);\r\n    valueStr += '}';\r\n  }\r\n\r\n  if (filterStr === '') {\r\n    return valueStr;\r\n  } else { //包含过滤器\r\n    return {\r\n      valueStr: valueStr,\r\n      filterStr: filterStr\r\n    };\r\n  }\r\n}\r\n\r\nfunction _buildParams(node, fns, counter, useString) {\r\n  //节点参数\r\n  var params = node.params,\r\n    paramsExpr = node.paramsExpr,\r\n    paramsStr = '',\r\n    _paramsC,\r\n    useStringF = fns.useString;\r\n\r\n  if (params || paramsExpr) {\r\n    _paramsC = counter._params++;\r\n    paramsStr = 'var _params' + _paramsC + ' = ';\r\n\r\n    //params块\r\n    if (paramsExpr) {\r\n      var _paramsEC = counter._paramsE++;\r\n      paramsStr += (useString ? '\\'\\'' : 'null') + ';\\n';\r\n      paramsStr += 'var _paramsE' + _paramsEC + ' = {};\\n';\r\n\r\n      //params块的子节点\r\n      paramsStr += _buildContent(paramsExpr.content, fns, counter, { _paramsE: '_paramsE' + _paramsEC }, null, useString);\r\n\r\n      //合并params块的值\r\n      if (!useString) {\r\n        paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + _paramsEC + ';\\n';\r\n        //paramsStr += '\\np1.assign(_params' + _paramsC + ', _paramsE' + _paramsEC + ');\\n';\r\n      } else {\r\n        var keys = '';\r\n        utils.each(params, function(v, k, i, l) {\r\n          if (i == 0) {\r\n            keys += '{ ';\r\n          }\r\n          keys += k + ': 1';\r\n\r\n          if (i < l - 1) {\r\n            keys += ', ';\r\n          } else {\r\n            keys += ' }';\r\n          }\r\n        }, false, false);\r\n        paramsStr += '_params' + _paramsC + ' += p1.assignStringProp(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\r\n      }\r\n    }\r\n\r\n    if (params) {\r\n      var paramKeys = Object.keys(params),\r\n        len = paramKeys.length,\r\n        filterStr = '';\r\n\r\n      if (!useString && !paramsExpr) {\r\n        paramsStr += '{\\n';\r\n      }\r\n\r\n      utils.each(paramKeys, function(k, i) {\r\n        var valueStr = _buildProps(params[k], counter, fns, useString);\r\n        if (utils.isObject(valueStr)) {\r\n          filterStr += valueStr.filterStr;\r\n          valueStr = valueStr.valueStr;\r\n        }\r\n\r\n        if (!useStringF && k === 'style') { //将style字符串转换为对象\r\n          valueStr = 'p1.styleProps(' + valueStr + ')';\r\n        }\r\n\r\n        var key = k,\r\n          onlyKey = ('\\'' + key + '\\'') === valueStr;\r\n        if (!useStringF) {\r\n          key = utils.fixPropName(k);\r\n        }\r\n        if (!paramsExpr) {\r\n          if (!useString) {\r\n            paramsStr += '  \\'' + key + '\\': ' + (!onlyKey ? valueStr : 'true') + (i < len - 1 ? ',\\n' : '');\r\n          } else {\r\n            paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + (i == len - 1 ? ';' : '') + '\\n';\r\n          }\r\n        } else {\r\n          if (!useString) {\r\n            paramsStr += '_params' + _paramsC + '[\\'' + key + '\\'] = ' + (!onlyKey ? valueStr : 'true') + ';\\n';\r\n          } else {\r\n            paramsStr += '_params' + _paramsC + ' += \\' ' + key + (!onlyKey ? '=\"\\' + ' + valueStr + ' + \\'\"\\'' : ' \\'') + ';\\n';\r\n          }\r\n        }\r\n      }, false, false);\r\n\r\n      if (!useString && !paramsExpr) {\r\n        paramsStr += '\\n};\\n';\r\n      }\r\n\r\n      if (filterStr !== '') {\r\n        paramsStr = filterStr + paramsStr;\r\n      }\r\n    }\r\n  }\r\n\r\n  return [paramsStr, _paramsC];\r\n}\r\n\r\nfunction _buildNode(node, fns, counter, retType, level, useStringLocal) {\r\n  var fnStr = '',\r\n    useStringF = fns.useString;\r\n\r\n  if (node.type === 'nj_plaintext') { //文本节点\r\n    var valueStr = _buildProps(node.content[0], counter, fns, useStringLocal),\r\n      filterStr;\r\n    if (utils.isObject(valueStr)) {\r\n      filterStr = valueStr.filterStr;\r\n      valueStr = valueStr.valueStr;\r\n    }\r\n\r\n    var textStr = _buildRender(1, retType, { text: valueStr }, fns, level, useStringLocal);\r\n    if (filterStr) {\r\n      textStr = filterStr + textStr;\r\n    }\r\n\r\n    if (useStringF) {\r\n      fnStr += textStr;\r\n    } else { //文本中的特殊字符需转义\r\n      fnStr += replaceSpecialSymbol(textStr);\r\n    }\r\n  } else if (node.type === 'nj_expr') { //块表达式节点\r\n    var _exprC = counter._expr++,\r\n      _dataReferC = counter._dataRefer++,\r\n      dataReferStr = '',\r\n      filterStr = '',\r\n      configE = exprConfig[node.expr],\r\n      exprVarStr = '_expr' + _exprC,\r\n      globalExprStr = 'p1.exprs[\\'' + node.expr + '\\']';\r\n\r\n    if (configE) {\r\n      fnStr += '\\nvar ' + exprVarStr + ' = ' + globalExprStr + ';\\n';\r\n    } else { //如果全局配置不存在,先从p2.data中获取\r\n      fnStr += '\\nvar ' + exprVarStr + ' = p2.getData(\\'' + node.expr + '\\');\\n';\r\n      fnStr += 'if(!' + exprVarStr + ') ' + exprVarStr + ' = ' + globalExprStr + ';\\n';\r\n    }\r\n\r\n    dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\r\n\r\n    if (node.args) { //构建匿名参数\r\n      utils.each(node.args, function(arg, i) {\r\n        let valueStr = _buildProps(arg, counter, fns, useStringLocal);\r\n        if (utils.isObject(valueStr)) {\r\n          filterStr += valueStr.filterStr;\r\n          valueStr = valueStr.valueStr;\r\n        }\r\n\r\n        dataReferStr += '  ' + valueStr + ',';\r\n      }, false, true);\r\n    }\r\n\r\n    //props块\r\n    var exprPropsStr = 'p4';\r\n    if (retType && retType._paramsE) {\r\n      exprPropsStr = retType._paramsE;\r\n    }\r\n\r\n    //hash参数\r\n    var retP = _buildParams(node, fns, counter, false),\r\n      paramsStr = retP[0],\r\n      _paramsC = retP[1];\r\n\r\n    dataReferStr += _buildOptions(configE, useStringLocal, node, fns, exprPropsStr, level, paramsStr !== '' ? '_params' + _paramsC : null);\r\n    dataReferStr += '\\n];\\n';\r\n\r\n    if (filterStr !== '') {\r\n      dataReferStr = filterStr + dataReferStr;\r\n    }\r\n\r\n    fnStr += paramsStr + dataReferStr;\r\n\r\n    //如果块表达式不存在则打印警告信息\r\n    fnStr += 'p1.throwIf(_expr' + _exprC + ', \\'' + node.expr + '\\', \\'expr\\');\\n';\r\n\r\n    //渲染\r\n    fnStr += _buildRender(2, retType, {\r\n      _expr: _exprC,\r\n      _dataRefer: _dataReferC\r\n    }, fns, level, useStringLocal);\r\n  } else { //元素节点\r\n    //节点类型和typeRefer\r\n    var _typeC = counter._type++,\r\n      _type;\r\n    if (node.typeRefer) {\r\n      _type = node.typeRefer.props[0].prop.name;\r\n    } else {\r\n      _type = node.type;\r\n    }\r\n\r\n    var typeStr;\r\n    if (!useStringF) {\r\n      typeStr = 'p1.components[\\'' + _type.toLowerCase() + '\\'] ? p1.components[\\'' + _type.toLowerCase() + '\\'] : \\'' + _type + '\\'';\r\n    } else {\r\n      typeStr = '\\'' + _type + '\\'';\r\n    }\r\n\r\n    if (node.typeRefer) {\r\n      var _typeReferC = counter._typeRefer++,\r\n        valueStrT = _buildProps(node.typeRefer, counter, fns);\r\n      if (utils.isObject(valueStrT)) {\r\n        fnStr += valueStrT.filterStr;\r\n        valueStrT = valueStrT.valueStr;\r\n      }\r\n\r\n      fnStr += '\\nvar _typeRefer' + _typeReferC + ' = ' + valueStrT + ';\\n';\r\n      fnStr += 'var _type' + _typeC + ' = _typeRefer' + _typeReferC + ' ? _typeRefer' + _typeReferC + ' : (' + typeStr + ');\\n';\r\n    } else {\r\n      fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\r\n    }\r\n\r\n    //节点参数\r\n    var retP = _buildParams(node, fns, counter, useStringF),\r\n      paramsStr = retP[0],\r\n      _paramsC = retP[1];\r\n    fnStr += paramsStr;\r\n\r\n    var _compParamC, _childrenC;\r\n    if (!useStringF) { //组件参数\r\n      _compParamC = counter._compParam++;\r\n      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (paramsStr !== '' ? '_params' + _paramsC : 'null') + '];\\n';\r\n    } else { //子节点字符串\r\n      _childrenC = counter._children++;\r\n      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\r\n    }\r\n\r\n    //子节点\r\n    fnStr += _buildContent(node.content, fns, counter, !useStringF ? { _compParam: '_compParam' + _compParamC } : { _children: '_children' + _childrenC }, level != null ? level + 1 : level, useStringLocal);\r\n\r\n    //渲染\r\n    fnStr += _buildRender(3, retType, !useStringF ? { _compParam: _compParamC } : { _type: _typeC, _params: paramsStr !== '' ? _paramsC : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns, level, useStringLocal);\r\n  }\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildContent(content, fns, counter, retType, level, useStringLocal) {\r\n  var fnStr = '';\r\n  if (!content) {\r\n    return fnStr;\r\n  }\r\n\r\n  utils.each(content, function(node) {\r\n    fnStr += _buildNode(node, fns, counter, retType, level, node.useString ? true : useStringLocal);\r\n  }, false, true);\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildRender(nodeType, retType, params, fns, level, useStringLocal) {\r\n  var retStr,\r\n    useStringF = fns.useString,\r\n    useString = useStringLocal != null ? useStringLocal : useStringF;\r\n\r\n  switch (nodeType) {\r\n    case 1: //文本节点\r\n      retStr = _buildLevelSpace(level, fns) + params.text + (!useStringF || level == null ? '' : ' + \\'\\\\n\\'');\r\n      break;\r\n    case 2: //块表达式\r\n      retStr = '_expr' + params._expr + '.apply(p2, _dataRefer' + params._dataRefer + ')';\r\n      break;\r\n    case 3: //元素节点\r\n      if (!useStringF) {\r\n        retStr = 'p1.h.apply(null, _compParam' + params._compParam + ')';\r\n      } else {\r\n        var levelSpace = _buildLevelSpace(level, fns);\r\n        retStr = levelSpace + '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\r\n        if (!params._selfClose) {\r\n          retStr += '\\'>\\\\n\\'';\r\n          retStr += ' + _children' + params._children + ' + ';\r\n          retStr += levelSpace + '\\'</\\' + _type' + params._type + ' + \\'>\\\\n\\'';\r\n        } else {\r\n          retStr += '\\' />\\\\n\\'';\r\n        }\r\n      }\r\n      break;\r\n  }\r\n\r\n  //保存方式\r\n  if (retType === '1') {\r\n    return '\\nreturn ' + retStr + ';';\r\n  } else if (retType === '2') {\r\n    if (!useString) {\r\n      return '\\nret.push(' + retStr + ');\\n';\r\n    } else {\r\n      return '\\nret += ' + retStr + ';\\n';\r\n    }\r\n  } else if (retType._paramsE) {\r\n    return '\\n' + retStr + ';\\n';\r\n  } else {\r\n    if (!useStringF) {\r\n      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\r\n    } else {\r\n      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\r\n    }\r\n  }\r\n}\r\n\r\nfunction _buildLevelSpace(level, fns) {\r\n  var ret = '';\r\n  if (fns.useString && level != null && level > 0) {\r\n    ret += '\\'';\r\n    for (var i = 0; i < level; i++) {\r\n      ret += '  ';\r\n    }\r\n    ret += '\\' + ';\r\n  }\r\n  return ret;\r\n}\r\n\r\nmodule.exports = function(ast, useString) {\r\n  var fns = {\r\n    useString,\r\n    _no: 0, //块表达式函数计数\r\n    _noT: 0 //tmpl块模板函数计数\r\n  };\r\n\r\n  _buildFn(ast, fns, fns._no, null, 0);\r\n  return fns;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/compiler/buildRuntime.js","'use strict';\r\n\r\nvar SPACIAL_SYMBOLS = {\r\n  nbsp: '\\u00A0',\r\n  ensp: '\\u2002',\r\n  emsp: '\\u2003',\r\n  thinsp: '\\u2009',\r\n  zwnj: '\\u200C',\r\n  zwj: '\\u200D',\r\n  lt: '<',\r\n  gt: '>',\r\n  amp: '&'\r\n};\r\n\r\nvar REGEX_SYMBOLS = new RegExp('&(' + Object.keys(SPACIAL_SYMBOLS).join('|') + ');', 'g');\r\nfunction replace(str) {\r\n  return str.replace(REGEX_SYMBOLS, function (all, match) {\r\n    return SPACIAL_SYMBOLS[match];\r\n  });\r\n}\r\n\r\nmodule.exports = replace;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/replaceSpecialSymbol.js","'use strict';\r\n\r\nconst nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  tmplRule = nj.tmplRule,\r\n  tmplStrs = nj.tmplStrs,\r\n  SPLIT_FLAG = '_nj_split';\r\n\r\n//Compile string template\r\nfunction compileStringTmpl(tmpl) {\r\n  var tmplKey = tmpl.toString(), //Get unique key\r\n    ret = tmplStrs[tmplKey],\r\n    outputH = this ? this.outputH : false;\r\n\r\n  if (!ret) { //If the cache already has template data, direct return the template.\r\n    var isStr = tools.isString(tmpl),\r\n      xmls = isStr ? [tmpl] : tmpl,\r\n      l = xmls.length,\r\n      computedNos = [],\r\n      fullXml = '';\r\n\r\n    //Connection xml string\r\n    tools.each(xmls, function(xml, i) {\r\n      var split = '';\r\n      if (i < l - 1) {\r\n        var last = xml.length - 1,\r\n          lastChar = xml[last],\r\n          isComputed = lastChar === '#',\r\n          isNoEscape = lastChar === '@';\r\n\r\n        if (isComputed || isNoEscape) {\r\n          isComputed && computedNos.push(i);\r\n          xml = xml.substr(0, last);\r\n        }\r\n\r\n        split = (isNoEscape ? tmplRule.firstChar : '') + tmplRule.startRule +\r\n          (isComputed ? '#' : '') + SPLIT_FLAG + i +\r\n          tmplRule.endRule + (isNoEscape ? tmplRule.lastChar : '');\r\n      }\r\n\r\n      fullXml += xml + split;\r\n    }, false, true);\r\n\r\n    fullXml = _clearNotesAndBlank(fullXml);\r\n\r\n    //Resolve string to element\r\n    ret = _checkStringElem(fullXml);\r\n    ret._njParamCount = l - 1;\r\n    ret._njComputedNos = computedNos;\r\n\r\n    //Save to the cache\r\n    tmplStrs[tmplKey] = ret;\r\n  }\r\n\r\n  var params,\r\n    args = arguments,\r\n    paramCount = ret._njParamCount;\r\n  if (paramCount > 0) {\r\n    params = {};\r\n\r\n    for (var i = 0; i < paramCount; i++) {\r\n      params[SPLIT_FLAG + i] = args[i + 1];\r\n    }\r\n  }\r\n\r\n  var tmplFn = function() {\r\n    return nj['compile' + (outputH ? 'H' : '')](tmplFn, tmplKey).apply(this, params ? tools.arrayPush([params], arguments) : arguments);\r\n  };\r\n  tmplFn._njTmpl = ret;\r\n  tmplFn._njTmplKey = tmplKey;\r\n  tmplFn._njParams = params;\r\n\r\n  return tmplFn;\r\n}\r\n\r\n//Resolve string to element\r\nfunction _checkStringElem(xml) {\r\n  var root = [],\r\n    current = {\r\n      elem: root,\r\n      elemName: 'root',\r\n      parent: null\r\n    },\r\n    parent = null,\r\n    pattern = tmplRule.checkElem,\r\n    matchArr;\r\n\r\n  while (matchArr = pattern.exec(xml)) {\r\n    var textBefore = matchArr[1],\r\n      elem = matchArr[2],\r\n      elemName = matchArr[3],\r\n      elemParams = matchArr[4],\r\n      textAfter = matchArr[5];\r\n\r\n    //Text before tag\r\n    if (textBefore && textBefore !== '\\n') {\r\n      textBefore = _formatNewline(textBefore);\r\n      _setText(textBefore, current.elem);\r\n    }\r\n\r\n    //Element tag\r\n    if (elem) {\r\n      if (elem.indexOf('<!') === 0) {  //doctype等标签当做文本处理\r\n        _setText(_formatNewline(elem), current.elem);\r\n      } else {\r\n        if (elemName[0] === '/') { //Close tag\r\n          if (elemName === '/' + current.elemName) {\r\n            current = current.parent;\r\n          }\r\n        } else if (elem[elem.length - 2] === '/') { //Self close tag\r\n          _setSelfCloseElem(elem, elemName, elemParams, current.elem);\r\n        } else { //Open tag\r\n          parent = current;\r\n          current = {\r\n            elem: [],\r\n            elemName: elemName,\r\n            parent: parent\r\n          };\r\n\r\n          parent.elem.push(current.elem);\r\n          _setElem(elem, elemName, elemParams, current.elem);\r\n        }\r\n      }\r\n    }\r\n\r\n    //Text after tag\r\n    if (textAfter && textAfter !== '\\n') {\r\n      textAfter = _formatNewline(textAfter);\r\n      _setText(textAfter, current.elem);\r\n    }\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nconst SPECIAL_LOOKUP = {\r\n  '>(': 'gt(',\r\n  '<(': 'lt(',\r\n  '>=(': 'gte(',\r\n  '<=(': 'lte('\r\n};\r\n\r\nfunction _clearNotesAndBlank(str) {\r\n  const commentRule = tmplRule.commentRule;\r\n  return str.replace(new RegExp('<!--' + commentRule + '[\\\\s\\\\S]*?' + commentRule + '-->', 'g'), '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim()\r\n    .replace(/(>|<|>=|<=)\\(/g, (match) => SPECIAL_LOOKUP[match]);\r\n}\r\n\r\nfunction _formatNewline(str) {\r\n  return str.trim().replace(/\\n/g, '\\\\n').replace(/\\r/g, '');\r\n}\r\n\r\n//Set element node\r\nfunction _setElem(elem, elemName, elemParams, elemArr, bySelfClose) {\r\n  var ret, paramsExpr;\r\n  if (elemName[0] === tmplRule.exprRule) {\r\n    ret = elem.substring(1, elem.length - 1);\r\n  } else if (elemName.indexOf(tmplRule.propRule) === 0) {\r\n    ret = tmplRule.exprRule + 'prop ' + tmplRule.startRule + '\\'' + elemName.substr(tmplRule.propRule.length) + '\\'' + tmplRule.endRule + elemParams;\r\n  } else {\r\n    var retS = _getSplitParams(elem);\r\n    ret = retS.elem;\r\n    paramsExpr = retS.params;\r\n  }\r\n\r\n  if (bySelfClose) {\r\n    var retC = [ret];\r\n    if (paramsExpr) {\r\n      retC.push(paramsExpr);\r\n    }\r\n\r\n    elemArr.push(retC);\r\n  } else {\r\n    elemArr.push(ret);\r\n    if (paramsExpr) {\r\n      elemArr.push(paramsExpr);\r\n    }\r\n  }\r\n}\r\n\r\n//Extract split parameters\r\nfunction _getSplitParams(elem) {\r\n  var exprRule = tmplRule.exprRule,\r\n    startRule = tmplRule.startRule,\r\n    endRule = tmplRule.endRule,\r\n    paramsExpr;\r\n\r\n  //Replace the parameter like \"{...props}\".\r\n  elem = elem.replace(tmplRule.spreadProp, function(all, begin, prop) {\r\n    prop = prop.trim();\r\n\r\n    if (!paramsExpr) {\r\n      paramsExpr = [exprRule + 'props'];\r\n    }\r\n\r\n    paramsExpr.push([exprRule + 'spread ' + startRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n    return ' ';\r\n  });\r\n\r\n  return {\r\n    elem: elem,\r\n    params: paramsExpr\r\n  };\r\n}\r\n\r\n//Set self close element node\r\nfunction _setSelfCloseElem(elem, elemName, elemParams, elemArr) {\r\n  _setElem(elem, elemName, elemParams, elemArr, true);\r\n}\r\n\r\n//Set text node\r\nfunction _setText(text, elemArr) {\r\n  elemArr.push(text);\r\n}\r\n\r\nmodule.exports = compileStringTmpl;\n\n\n// WEBPACK FOOTER //\n// ./src/parser/checkStringElem.js","'use strict';\r\n\r\nvar compileStringTmpl = require('../parser/checkStringElem');\r\n\r\nmodule.exports = {\r\n  tmplTag: function() {\r\n    return compileStringTmpl.apply({ outputH: false }, arguments);\r\n  },\r\n  tmplTagH: function() {\r\n    return compileStringTmpl.apply({ outputH: true }, arguments);\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/tmplTag.js","'use strict';\r\n\r\nvar nj = require('./core'),\r\n  setTmplRule = require('./utils/setTmplRule');\r\n\r\nmodule.exports = function (configs) {\r\n  var delimiters = configs.delimiters,\r\n    includeParser = configs.includeParser,\r\n    createElement = configs.createElement,\r\n    outputH = configs.outputH;\r\n\r\n  if(delimiters) {\r\n    setTmplRule(delimiters);\r\n  }\r\n\r\n  if(includeParser) {\r\n    nj.includeParser = includeParser;\r\n  }\r\n\r\n  if(createElement) {\r\n    nj.createElement = createElement;\r\n  }\r\n\r\n  if(outputH != null) {\r\n    nj.outputH = outputH;\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config.js"],"sourceRoot":""}