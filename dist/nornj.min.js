!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.NornJ=r():e.NornJ=r()}(this,function(){return function(e){function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=20)}([function(e,r,n){"use strict";function t(){return t["tmplTag"+(t.outputH?"H":"")].apply(null,arguments)}t.createElement=null,t.components={},t.asts={},t.templates={},t.tmplStrs={},t.errorTitle="[NornJ]",t.tmplRule={},t.outputH=!1,e.exports=t},function(e,r,n){"use strict";function t(e,r){return y.apply(e,r),e}function a(e,r){return _.call(e,r)}function i(e){return Array.isArray(e)}function o(e){var r=void 0===e?"undefined":x(e);return!i(e)&&("function"===r||"object"===r&&!!e)}function u(e){return"[object String]"===Object.prototype.toString.call(e)}function s(e){return function(r){return null==r?void 0:r[e]}}function p(e){var r=P(e);return"number"==typeof r&&r>=0}function l(e,r,n,t){if(e)if(null==t&&(t=p(e)),n=n?n:e,t)for(var a=0,i=e.length;i>a;a++){var o=r.call(n,e[a],a,i);if(o===!1)break}else for(var u=Object.keys(e),i=u.length,a=0;i>a;a++){var s=u[a],o=r.call(n,e[s],s,a,i);if(o===!1)break}}function c(){}function f(e,r,n){if(!e)switch(n){case"expr":throw Error(j+'Expression "'+r+'" is undefined, please check it has been registered.');default:throw Error(j+(r||e))}}function m(e,r){var n=j;switch(r){case"filter":n+='A filter called "'+e+'" is undefined.';break;default:n+=e}console.warn(n)}function v(){return Object.create(null)}function d(e,r){if(null!=e){var n;if(null==r){var t=e[0];"'"===t?n=R:'"'===t&&(n=S)}else n=r?S:R;return n&&(e=e.replace(n,"")),e}}function g(e){return e.indexOf("-")>-1&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(0),y=Array.prototype.push,_=Array.prototype.slice,b=Object.prototype.hasOwnProperty,j=h.errorTitle,P=s("length"),S=/["]+/g,R=/[']+/g,C=Object.assign||function(e){for(var r=1,n=arguments;n.length>r;r++){var t=n[r];for(var a in t)b.call(t,a)&&(e[a]=t[a])}return e},w={isArray:i,isArrayLike:p,isObject:o,isString:u,each:l,throwIf:f,assign:C,obj:v,arrayPush:t,arraySlice:a,clearQuot:d,toCamelCase:g,warn:m,noop:c};e.exports=w},function(e,r,n){"use strict";function t(e){var r=""+e,n=v[r],t=!!this&&this.outputH;n||!function(){var t=f.isString(e),o=t?[e]:e,u=o.length,s=[],p="";f.each(o,function(e,r){var n="";if(u-1>r){var t=e.length-1,a=e[t],i="#"===a;i&&(i&&s.push(r),e=e.substr(0,t)),n=m.startRule+(i?"#":"")+d+r+m.endRule}p+=e+n},!1,!0),p=i(p),n=a(p),n._njParamCount=u-1,n._njComputedNos=s,v[r]=n}();var o=void 0,u=arguments,s=n._njParamCount;if(s>0){o={};for(var p=0;s>p;p++)o[d+p]=u[p+1]}var l=function e(){return c["compile"+(t?"H":"")](e,r).apply(this,o?f.arrayPush([o],arguments):arguments)};return l._njTmpl=n,l._njTmplKey=r,l._njParams=o,l}function a(e){for(var r=[],n={elem:r,elemName:"root",parent:null},t=null,a=m.checkElem,i=void 0;i=a.exec(e);){var s=i[1],c=i[2],f=i[3],v=i[4],d=i[5];s&&"\n"!==s&&(s=o(s),l(s,n.elem)),c&&(0===c.indexOf("<!")?l(o(c),n.elem):"/"===f[0]?f==="/"+n.elemName&&(n=n.parent):"/"===c[c.length-2]?p(c,f,v,n.elem):(t=n,n={elem:[],elemName:f,parent:t},t.elem.push(n.elem),u(c,f,v,n.elem))),d&&"\n"!==d&&(d=o(d),l(d,n.elem))}return r}function i(e){var r=m.commentRule;return e.replace(RegExp("<!--"+r+"[\\s\\S]*?"+r+"-->","g"),"").replace(/>\s+([^\s<]*)\s+</g,">$1<").trim().replace(/(>|<|>=|<=)\(/g,function(e){return g[e]})}function o(e){return e.trim().replace(/\n/g,"\\n").replace(/\r/g,"")}function u(e,r,n,t,a){var i=void 0,o=void 0;if(r[0]===m.exprRule)i=e.substring(1,e.length-1);else if(0===r.indexOf(m.propRule))i=m.exprRule+"prop "+m.startRule+"'"+r.substr(m.propRule.length)+"'"+m.endRule+n;else{var u=s(e);i=u.elem,o=u.params}if(a){var p=[i];o&&p.push(o),t.push(p)}else t.push(i),o&&t.push(o)}function s(e){var r=m.exprRule,n=m.startRule,t=m.endRule,a=void 0;return e=e.replace(m.spreadProp,function(e,i,o){return o=o.trim(),a||(a=[r+"props"]),a.push([r+"spread "+n+o.replace(/\.\.\./g,"")+t+"/"])," "}),{elem:e,params:a}}function p(e,r,n,t){u(e,r,n,t,!0)}function l(e,r){r.push(e)}var c=n(0),f=n(1),m=(n(4),c.tmplRule),v=c.tmplStrs,d="_nj_split",g={">(":"gt(","<(":"lt(",">=(":"gte(","<=(":"lte("};e.exports=t},function(e,r,n){"use strict";var t=n(1),a=n(4),i=n(5),o=n(7),u=n(16),s=n(15),p=n(17),l=n(14),c=n(6),f=n(8);f(),e.exports=t.assign({escape:u,setTmplRule:f},s,p,l,c,t,a,i,o)},function(e,r,n){"use strict";function t(e){return y.xmlOpenTag.exec(e)}function a(e){return _.test(e)}function i(e){return b[e.toLowerCase()]}function o(e){for(var r,n,t=y.openTagParams;r=t.exec(e);){var a=r[1];if("/"!==a){n||(n=[]);var i=r[7],o=r[4];i=null!=i?g.clearQuot(i):a,/\/>$/.test(i)?i=i.substr(0,i.length-2):(/>$/.test(i)||/\/$/.test(i))&&(i=i.substr(0,i.length-1)),n.push({key:a,value:i,onlyBrace:o})}}return n}function u(e,r){return g.isString(e)&&e.toLowerCase()==="</"+r+">"}function s(e){return y.insideBraceParam.exec(e)}function p(e){var r,n=y.expr.exec(e);if(n){r=[n[1]];var t=o(e);t&&r.push(t)}return r}function l(e){return"tmpl"===e}function c(e,r,n){var t=r.params;t||(t=r.params=g.obj());var a=t.tmpls;if(a){var i=a.strs[0],o=i.length;null!=n?i[n]=e:(i[o]=e,i.length=++o)}else{var i={length:0};null!=n?i[n]=e:(i[0]=e,i.length=1),t.tmpls=x.compiledParam(i)}}function f(e){return"params"===e||"props"===e}function m(e,r,n){if(r.paramsExpr)g.arrayPush(r.paramsExpr.content,n?[e]:e.content);else{var t=void 0;t=n?{type:"nj_expr",expr:"props",content:[e]}:e,r.paramsExpr=t}}function v(e){var r=h[e];return{isExprProp:!!r&&r.exprProps,isProp:j.indexOf(e)>-1}}var d=n(0),g=n(1),x=n(5),h=n(6).exprConfig,y=d.tmplRule,_=/^<[^>]+\/>$/i,b={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},j=["prop","spread"];e.exports={getXmlOpenTag:t,isXmlSelfCloseTag:a,verifySelfCloseTag:i,getOpenTagParams:o,isXmlCloseTag:u,getInsideBraceParam:s,isExpr:p,isTmpl:l,addTmpl:c,isParamsExpr:f,addParamsExpr:m,isExprProp:v}},function(e,r,n){"use strict";function t(e){var r=p.obj();return p.each(e,function(e,n){r[n]=u(e)},!1,!1),r}function a(e){var r=p.obj();if(e.indexOf("|")>=0){var n,t=[];n=e.split("|"),e=n[0].trim(),n=n.slice(1),p.each(n,function(e){var r=i(e.trim()),n=p.obj(),o=r[1];if(o){var u=r[3];if(u){var s=[];p.each(u.split(","),function(e){s[s.length]=a(e.trim())},!1,!0),n.params=s}n.name=o,t.push(n)}},!1,!0),r.filters=t}if(0===e.indexOf("../")){var o=0;e=e.replace(/\.\.\//g,function(){return o++,""}),r.parentNum=o}e=c.exec(e);var u=e[7];return r.name=u?e[8]:e[1],r.jsProp=e[9],e[8]||(r.isBasicType=!0),u&&(r.isComputed=!0),r}function i(e){return f.exec(e)}function o(e,r){for(var n,t,a=l.replaceParam,i=0;n=a.exec(e);){t||(t=[]);var o=n[3],u=[n[0],n[1],null,!0];i>0&&(u[3]=!1),o=o.trim(),u[2]=o,t.push(u),i++}return t}function u(e){var r=p.obj(),n=p.isString(e)?e.split(l.replaceSplit):[e],t=null,i=!1;if(n.length>1){var u=o(e,n);t=[],p.each(u,function(r){var n=p.obj();i=!!r[3]&&r[0]===e,n.prop=a(r[2]),n.escape=r[1]!==l.firstChar+l.startRule,t.push(n)},!1,!0)}return r.props=t,r.strs=n,r.isAll=i,r}var s=n(0),p=n(1),l=s.tmplRule,c=/(('[^']*')|("[^"]*")|(-?([0-9][0-9]*)(\.\d+)?)|true|false|null|undefined|([#]*)([^.[\]()]+))([^\s()]*)/,f=/([^\s()]+)(\(([^()]+)\))*/;e.exports={compiledParam:u,compiledParams:t,compiledProp:a}},function(e,r,n){"use strict";function t(e){var r={useString:!0,exprProps:!1,newContext:!0};return e&&(r=i.assign(r,e)),r}function a(e,r,n){var a=e;i.isObject(e)||(a={},a[e]={expr:r,options:n}),i.each(a,function(e,r){if(e){var n=e.expr,a=e.options;n||a?(n&&(u[r]=n),a&&(s[r]=t(a))):u[r]=e}},!1,!1)}var i=n(1),o=n(7),u={if:function(e,r){"false"===e&&(e=!1);var n=void 0,t=void 0;if(n=r.useUnless?!e:!!e)t=r.result();else{var a=r.props;a&&!function(){var e=a.else;a.elseifs?!function(){var r=a.elseifs.length;i.each(a.elseifs,function(n,a){return n.value?(t=n.fn(),!1):void(a===r-1&&e&&(t=e()))},!1,!0)}():e&&(t=e())}()}return r.useString&&null==t?"":t},else:function(e){return e.exprProps.else=e.result},elseif:function(e,r){var n=r.exprProps;n.elseifs||(n.elseifs=[]),n.elseifs.push({value:e,fn:r.result})},switch:function(e,r){var n=void 0,t=r.props,a=t.elseifs.length;return i.each(t.elseifs,function(r,i){return e===r.value?(n=r.fn(),!1):void(i===a-1&&t.else&&(n=t.else()))},!1,!0),n},unless:function(e,r){return r.useUnless=!0,u.if(e,r)},each:function(e,r){var n=r.useString,t=void 0;if(e)!function(){t=n?"":[];var a=r.props;i.each(e,function(e,i,o){var u={data:e,index:i,fallback:!0};a&&a.moreValues&&(u.extra={"@first":0===i,"@last":i===o-1,"@length":o});var s=r.result(u);n?t+=s:t.push(s)},!1,i.isArrayLike(e)),n||t.length||(t=null)}();else{var a=r.props;a&&a.else&&(t=a.else()),n&&null==t&&(t="")}return t},prop:function(e,r){var n=r.result(),t=void 0;t=void 0!==n?n:!r.useString||e,r.exprProps[r.outputH?o.fixPropName(e):e]=t},spread:function(e,r){i.each(e,function(e,n){r.exprProps[n]=e},!1,!1)},for:function(e,r,n){r._njOpts&&(n=r,r=e,e=0);var t=void 0,a=n.useString;for(t=a?"":[];r>=e;e++){var i=n.result({index:e});a?t+=i:t.push(i)}return t},obj:function(e){return e.props},block:function(e){return e.result()}},s={if:t({newContext:!1}),else:t({newContext:!1,useString:!1,exprProps:!0}),switch:t({newContext:!1}),unless:t({newContext:!1}),each:t(),prop:t({newContext:!1,exprProps:!0}),spread:t({newContext:!1,useString:!1,exprProps:!0}),for:t(),obj:t({newContext:!1,useString:!1})};s.elseif=t(s.else),s.block=t(s.obj),u.case=u.elseif,s.case=s.elseif,u.default=u.else,s.default=s.else,e.exports={exprs:u,exprConfig:s,registerExpr:a}},function(e,r,n){"use strict";function t(e){if(m.isObject(e))return e;for(var r=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g,n=void 0,t=void 0;n=r.exec(e);){var a=n[1],i=n[2];t||(t={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),a=m.toCamelCase(a),t[a]=i}return t}function a(e,r){var n,t;void 0===r&&(r=this.data);for(var a=0,i=r.length;i>a;a++)if(t=r[a],t&&(n=t[e],void 0!==n))return n}function i(e,r){return null==e?e:e._njTmpl?e.call({_njData:r.data,_njParent:r.parent,_njIndex:r.index}):e(r)}function o(e,r){var n=[];return r&&"data"in r&&n.push(r.data),r&&"extra"in r&&n.push(r.extra),{data:n.length?m.arrayPush(n,e.data):e.data,parent:r&&r.fallback?e:e.parent,index:r&&"index"in r?r.index:e.index,getData:a}}function u(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function s(e,r){var n="";for(var t in e)if(!r||!r[t]){var a=e[t];n+=" "+t+(t!==a?'="'+a+'"':" ")}return n}function p(e,r,n,t){return function(a){return n(e,r,a,t)}}function l(e,r){return function(){var n=this,t=m.arraySlice(arguments);return r(e,{data:n&&n._njData?m.arrayPush(t,n._njData):t,parent:n&&n._njParent?n._njParent:null,index:n&&n._njIndex?n._njIndex:null,getData:a})}}function c(e){var r={useString:e.useString,exprs:f.exprs,filters:f.filters,noop:m.noop,obj:m.obj,throwIf:m.throwIf,warn:m.warn,newContext:o,getComputedData:i,styleProps:t,exprRet:p};return r.useString?(r.assignStringProp=s,r.escape=f.escape):(r.h=f.createElement,r.components=f.components),m.each(e,function(e,n){0===n.indexOf("main")?(r[n]=l(r,e),r[n]._njTmpl=!0,r["_"+n]=e):0===n.indexOf("fn")&&(r[n]=e)},!1,!1),r}var f=n(0),m=n(1);e.exports={newContext:o,getData:a,getComputedData:i,fixPropName:u,styleProps:t,assignStringProp:s,exprRet:p,tmplWrap:l,template:c}},function(e,r,n){"use strict";function t(e,r){return RegExp(e,r)}function a(e){for(var r,n="",t=0,a=e.length;a>t;t++)r=e[t],n.indexOf(r)<0&&(n+=r);return n}var i=n(0),o=n(1);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.tmplRule,n=r.startRule,u=void 0===n?"{{":n,s=r.endRule,p=void 0===s?"}}":s,l=r.exprRule,c=void 0===l?"#":l,f=r.propRule,m=void 0===f?"@":f,v=r.templateRule,d=void 0===v?"template":v,g=r.tagSpRule,x=void 0===g?"#$@":g,h=r.commentRule,y=void 0===h?"#":h,_=e.start,b=e.end,j=e.expr,P=e.prop,S=e.template,R=e.tagSp,C=e.comment;_&&(u=_),b&&(p=b),j&&(c=j),P&&(m=P),S&&(d=S),R&&(x=R),null!=C&&(y=C);var w=a(u+p),O=u[0],T=p[p.length-1],E=a(c+m+x),k=c.replace(/\$/g,"\\$");o.assign(i.tmplRule,{startRule:u,endRule:p,exprRule:c,propRule:m,templateRule:d,tagSpRule:x,commentRule:y,firstChar:O,lastChar:T,xmlOpenTag:t("^<([a-z"+O+E+"][^\\s>]*)[^>]*>$","i"),openTagParams:t("[\\s]+(((["+O+"]?"+u+")([^"+w+"]+)("+p+"["+T+"]?))|[^\\s=>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?","g"),insideBraceParam:t("(["+O+"]?"+u+")([^"+w+"]+)("+p+"["+T+"]?)","i"),spreadProp:t("[\\s]+(["+O+"]?"+u+")[\\s]*(\\.\\.\\.[^"+w+"]+)("+p+"["+T+"]?)","g"),replaceSplit:t("(?:["+O+"]?"+u+")[^"+w+"]+(?:"+p+"["+T+"]?)"),replaceParam:t("((["+O+"]?"+u+"))([^"+w+"]+)("+p+"["+T+"]?)","g"),checkElem:t("([^>]*)(<([a-z/!"+O+E+"][^\\s>]*)([^>]*)>)([^<]*)","ig"),expr:t("^"+k+"([^\\s]+)","i"),include:t("<"+k+"include([^>]*)>","ig"),newlineSplit:t("\\\\n(?![^"+O+T+"]*"+T+")","g")})}},function(e,r,n){"use strict";function t(e){return function(r,n,t){if(r){if(s.isObject(n)){var i=n;n=i.tmplKey,t=i.fileName}var o=void 0;if(n&&(o=u.templates[n]),!o){var c=s.isObject(r),f=void 0;if(c&&r.main)f=r;else{var m=void 0;if(n&&(m=u.asts[n]),!m){if(c&&"nj_root"===r.type)m=r;else{if(m=a(),s.isString(r)){var v=u.includeParser;v&&(r=v(r,t)),r=l(r)}s.checkElem(r._njTmpl,m)}n&&(u.asts[n]=m)}f=p(m.content,!e)}o=s.template(f),n&&(u.templates[n]=o)}if(r._njParams){var d=function(){return o.main.apply(this,s.arrayPush([r._njParams],arguments))};return d._njTmpl=!0,d}return o.main}}}function a(){var e=s.obj();return e.type="nj_root",e.content=[],e}function i(e,r){var n=a();return s.isString(e)&&(e=l(e)),s.checkElem(e._njTmpl,n),p(n.content,!r)}function o(e){return function(r,n){return(e?f:c)(r,n?{tmplKey:n.tmplKey?n.tmplKey:r._njTmplKey,fileName:n.fileName}:r._njTmplKey).apply(null,s.arraySlice(arguments,1))}}var u=n(0),s=n(3),p=n(13),l=n(2),c=t(),f=t(!0);e.exports={compile:c,compileH:f,precompile:i,render:o(),renderH:o(!0)}},function(e,r,n){"use strict";var t=n(0),a=n(8);e.exports=function(e){var r=e.delimiters,n=e.includeParser,i=e.createElement,o=e.outputH;r&&a(r),n&&(t.includeParser=n),i&&(t.createElement=i),null!=o&&(t.outputH=o)}},function(e,r,n){"use strict";var t=n(2);e.exports={tmplTag:function(){return t.apply({outputH:!1},arguments)},tmplTagH:function(){return t.apply({outputH:!0},arguments)}}},function(e,r){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,r,n){"use strict";(function(e){function t(e,r,n,t,a,i){var o="",u=null!=i?i:r.useString,s=g.a.isString(n),p=s||0===n,l=1===e.length?"1":"2",f={_type:0,_typeRefer:0,_params:0,_paramsE:0,_compParam:0,_dataRefer:0,_expr:0,_value:0,_filter:0,newContext:t};return u?f._children=0:f._compParam=0,!p&&t&&(o+="p2 = p1.newContext(p2, p3);\n"),"2"===l&&(o+=u?"var ret = '';\n":"var ret = [];\n"),o+=c(e,r,f,l,a,i),"2"===l&&(o+="return ret;"),r[p?"main"+(s?n:""):"fn"+n]=Function("p1","p2","p3","p4",o),n}function a(e,r,n,a,i,o,u){var s="",p=!e;if((p||e.useString)&&(s+=", useString: "+(null==r?"p1.useString":r?"true":"false")),n){var l=!e||e.newContext;(p||e.exprProps)&&(s+=", exprProps: "+i),s+=", result: "+(n.content?"p1.exprRet(p1, p2, p1.fn"+t(n.content,a,++a._no,l,o,r)+", "+i+")":"p1.noop"),null!=u&&(s+=", props: "+u)}return"{ _njOpts: true, ctx: p2, outputH: "+!a.useString+s+" }"}function i(e,r,n,t){var u=void 0,s=e.escape,p=e.prop,l=p.jsProp,c=p.isComputed;if(e.prop.isBasicType)u=e.prop.name+l;else{var f=e.prop,m=f.name,v=f.parentNum,d="",x=!1,h=!1;if("@index"===m?(d="index",x=!0):"this"===m&&(d="data[0]",x=!0),v){d||(d="data");for(var _=0;v>_;_++)d="parent."+d;x||(h=!0)}if(x||h){var j="p2."+d;u=(x?j:(c?"p1.getComputedData(":"")+"p2.getData('"+m+"', "+j+")"+(c?", p2)":""))+l}else u=(c?"p1.getComputedData(":"")+"p2.getData('"+m+"')"+(c?", p2)":"")+l}var P=e.prop.filters;if(!P)return o(u,n,!c&&s);var S=function(){var e="_value"+r._value++,p="var "+e+" = "+u+";\n";return g.a.each(P,function(o){var u=r._filter++,l=b[o.name],c="_filter"+u,f="p1.filters['"+o.name+"']";l?p+="\nvar "+c+" = "+f+";\n":(p+="\nvar "+c+" = p2.getData('"+o.name+"');\n",p+="if(!"+c+") "+c+" = "+f+";\n"),p+="if (!"+c+") {\n",p+="  p1.warn('"+o.name+"', 'filter');\n",p+="}\n",p+="else {\n",p+="  "+e+" = "+c+".apply(p2, ["+e+(o.params?o.params.reduce(function(e,a){return e+", "+i({prop:a,escape:s},r,n,t)},""):"")+", "+a(l,t,null,n)+"]);\n",p+="}\n"},!1,!0),{v:{valueStr:o(e,n,!c&&s),filterStr:p}}}();return"object"===(void 0===S?"undefined":y(S))?S.v:void 0}function o(e,r,n){return r.useString?n?"p1.escape("+e+")":e:h()(e)}function u(e){return e.replace(/'/g,"\\'")}function s(e,r,n,a){var o=e.strs[0],s="",p="";return g.a.isString(o)?(s=e.isAll||""===o?"":"'"+u(o)+"'",p="",g.a.each(e.props,function(t,l){var c=i(t,r,n,a),f=void 0;if(g.a.isString(c)?f=c:(f=c.valueStr,p+=c.filterStr),!e.isAll){var m=e.strs[l+1],v=""===o&&0==l?"":" + ";if("\\n"===m.trim())return void(s+=v+f);f=v+"("+f+")"+(""!==m?" + '"+u(m)+"'":"")}if(s+=f,e.isAll)return!1},!1,!0)):g.a.isObject(o)&&null!=o.length&&(s+="{\n",g.a.each(o,function(e,r,a,i){s+="length"!==r?'  "'+r+'": p1.main'+t(e.content,n,"T"+ ++n._noT):"  length: "+e,s+=",\n",a===i-1&&(s+="  _njData: p2.data,\n  _njParent: p2.parent,\n  _njIndex: p2.index\n")},!1,!1),s+="}"),""===p?s:{valueStr:s,filterStr:p}}function p(e,r,n,t){var a=e.params,i=e.paramsExpr,o="",u=void 0,p=r.useString;if(a||i){if(u=n._params++,o="var _params"+u+" = ",i){var l=n._paramsE++;if(o+=(t?"''":"null")+";\n",o+="var _paramsE"+l+" = {};\n",o+=c(i.content,r,n,{_paramsE:"_paramsE"+l},null,t),t){var f="";g.a.each(a,function(e,r,n,t){0==n&&(f+="{ "),f+=r+": 1",f+=t-1>n?", ":" }"},!1,!1),o+="_params"+u+" += p1.assignStringProp(_paramsE"+l+", "+(""===f?"null":f)+");\n"}else o+="\n_params"+u+" = _paramsE"+l+";\n"}a&&!function(){var e=Object.keys(a),l=e.length,c="";t||i||(o+="{\n"),g.a.each(e,function(e,f){var m=s(a[e],n,r,t);g.a.isObject(m)&&(c+=m.filterStr,m=m.valueStr),p||"style"!==e||(m="p1.styleProps("+m+")");var v=e,d="'"+v+"'"===m;p||(v=g.a.fixPropName(e)),o+=i?t?"_params"+u+" += ' "+v+(d?" '":"=\"' + "+m+" + '\"'")+";\n":"_params"+u+"['"+v+"'] = "+(d?"true":m)+";\n":t?(f>0?"  + ":"")+"' "+v+(d?" '":"=\"' + "+m+" + '\"'")+(f==l-1?";":"")+"\n":"  '"+v+"': "+(d?"true":m)+(l-1>f?",\n":"")},!1,!1),t||i||(o+="\n};\n"),""!==c&&(o=c+o)}()}return[o,u]}function l(e,r,n,t,i,o){var u="",l=r.useString;if("nj_plaintext"===e.type){var m=s(e.content[0],n,r,o),v=void 0;g.a.isObject(m)&&(v=m.filterStr,m=m.valueStr);var d=f(1,t,{text:m},r,i,o);v&&(d=v+d),u+=l?d:h()(d)}else if("nj_expr"===e.type){var x=n._expr++,y=n._dataRefer++,b="",j="",P=_[e.expr],S="_expr"+x,R="p1.exprs['"+e.expr+"']";P?u+="\nvar "+S+" = "+R+";\n":(u+="\nvar "+S+" = p2.getData('"+e.expr+"');\n",u+="if(!"+S+") "+S+" = "+R+";\n"),b+="var _dataRefer"+y+" = [\n",e.args&&g.a.each(e.args,function(e,t){var a=s(e,n,r,o);g.a.isObject(a)&&(j+=a.filterStr,a=a.valueStr),b+="  "+a+","},!1,!0);var C="p4";t&&t._paramsE&&(C=t._paramsE);var w=p(e,r,n,!1),O=w[0],T=w[1];b+=a(P,o,e,r,C,i,""!==O?"_params"+T:null),b+="\n];\n",""!==j&&(b=j+b),u+=O+b,u+="p1.throwIf(_expr"+x+", '"+e.expr+"', 'expr');\n",u+=f(2,t,{_expr:x,_dataRefer:y},r,i,o)}else{var E=n._type++,k=void 0;k=e.typeRefer?e.typeRefer.props[0].prop.name:e.type;var N=void 0;if(N=l?"'"+k+"'":"p1.components['"+k.toLowerCase()+"'] ? p1.components['"+k.toLowerCase()+"'] : '"+k+"'",e.typeRefer){var A=n._typeRefer++,D=s(e.typeRefer,n,r);g.a.isObject(D)&&(u+=D.filterStr,D=D.valueStr),u+="\nvar _typeRefer"+A+" = "+D+";\n",u+="var _type"+E+" = _typeRefer"+A+" ? _typeRefer"+A+" : ("+N+");\n"}else u+="\nvar _type"+E+" = "+N+";\n";var H=p(e,r,n,l),I=H[0],B=H[1];u+=I;var $=void 0,L=void 0;l?(L=n._children++,u+="var _children"+L+" = '';\n"):($=n._compParam++,u+="var _compParam"+$+" = [_type"+E+", "+(""!==I?"_params"+B:"null")+"];\n"),u+=c(e.content,r,n,l?{_children:"_children"+L}:{_compParam:"_compParam"+$},null!=i?i+1:i,o),u+=f(3,t,l?{_type:E,_params:""!==I?B:null,_children:L,_selfClose:e.selfCloseTag}:{_compParam:$},r,i,o)}return u}function c(e,r,n,t,a,i){var o="";return e?(g.a.each(e,function(e){o+=l(e,r,n,t,a,!!e.useString||i)},!1,!0),o):o}function f(e,r,n,t,a,i){var o=void 0,u=t.useString,s=null!=i?i:u;switch(e){case 1:o=m(a,t)+n.text+(u&&null!=a?" + '\\n'":"");break;case 2:o="_expr"+n._expr+".apply(p2, _dataRefer"+n._dataRefer+")";break;case 3:if(u){var p=m(a,t);o=p+"'<' + _type"+n._type+" + "+(null!=n._params?"_params"+n._params+" + ":""),n._selfClose?o+="' />\\n'":(o+="'>\\n'",o+=" + _children"+n._children+" + ",o+=p+"'</' + _type"+n._type+" + '>\\n'")}else o="p1.h.apply(null, _compParam"+n._compParam+")"}return"1"===r?"\nreturn "+o+";":"2"===r?s?"\nret += "+o+";\n":"\nret.push("+o+");\n":r._paramsE?"\n"+o+";\n":u?"\n"+r._children+" += "+o+";\n":"\n"+r._compParam+".push("+o+");\n"}function m(e,r){var n="";if(r.useString&&null!=e&&e>0){n+="'";for(var t=0;e>t;t++)n+="  ";n+="' + "}return n}Object.defineProperty(r,"__esModule",{value:!0});var v=n(0),d=(n.n(v),n(3)),g=n.n(d),x=n(18),h=n.n(x),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=g.a.exprConfig,b=g.a.filterConfig;e.exports=function(e,r){var n={useString:r,_no:0,_noT:0};return t(e,n,n._no,null,0),n}}).call(r,n(19)(e))},function(e,r,n){"use strict";function t(e){var r={useString:!1};return e&&(r=i.assign(r,e)),r}function a(e,r,n){var a=e;i.isObject(e)||(a={},a[e]={filter:r,options:n}),i.each(a,function(e,r){if(e){var n=e.filter,a=e.options;n||a?(n&&(o[r]=n),a&&(u[r]=t(a))):o[r]=e}},!1,!1)}var i=n(1),o={prop:function(e,r){return e[r]},"==":function(e,r){return e==r},"===":function(e,r){return e===r},lt:function(e,r){return r>e},lte:function(e,r){return r>=e},gt:function(e,r){return e>r},gte:function(e,r){return e>=r},"+":function(e,r){return e+r},"-":function(e,r){return e-r},"?":function(e,r,n){return e?r:n},int:function(e){return parseInt(e,10)},float:function(e){return parseFloat(e)},bool:function(e){return"false"!==e&&!!e}},u={prop:t(),"==":t(),"===":t(),lt:t(),lte:t(),gt:t(),gte:t(),"+":t(),"-":t(),int:t(),float:t(),bool:t()};e.exports={filters:o,filterConfig:u,registerFilter:a}},function(e,r,n){"use strict";function t(e,r,n){var t={};t.type="nj_plaintext",t.content=[s.compiledParam(e)],r[n].push(t)}function a(e,r,n){var a="content";if(u.isArray(e)){var o={},f=e[0];if(u.isString(f)){var m=e.length,v=e[m-1],d=!1,g=void 0,x=void 0,h=void 0,y=!1,_=void 0,b=void 0,j=void 0,P=void 0,S=void 0;if(g=p.isExpr(f)){var R=g[0];if(x=g[1],_=p.isTmpl(R),b=p.isParamsExpr(R),!b){var C=p.isExprProp(R);j=C.isProp,P=C.isExprProp,S=j?!n:P}o.type="nj_expr",o.expr=R,null==x||_||b||(o.args||(o.args=[]),u.each(x,function(e){if("useString"===e.value)return void(o.useString=!0);var r=s.compiledParam(e.value);e.onlyBrace?o.args.push(r):(o.params||(o.params=u.obj()),o.params[e.key]=r)},!1,!0)),d=!0}else{var w=p.getXmlOpenTag(f);w&&(h=w[1],p.isXmlSelfCloseTag(f)?o.selfCloseTag=!0:y=p.isXmlCloseTag(v,h),d=!0)}if(d){var O=!0;if(g)_?(O=!1,p.addTmpl(o,r,x?x[0].value:null)):b?O=!1:S&&(O=!1);else{o.type=h;var T=p.getInsideBraceParam(h);T&&(o.typeRefer=s.compiledParam(T[0]));var E=p.getOpenTagParams(f);E&&(o.params||(o.params=u.obj()),u.each(E,function(e){o.params[e.onlyBrace?e.onlyBrace.replace(/\.\.\//g,""):e.key]=s.compiledParam(e.value)},!1,!0)),o.selfCloseTag||(o.selfCloseTag=p.verifySelfCloseTag(h))}O&&r[a].push(o);var k=m-(y?1:0),N=e.slice(1,k);N&&N.length&&i(N,o,b||n&&!j),(b||S)&&p.addParamsExpr(o,r,P)}else i(e,r,n)}else u.isArray(f)&&i(e,r,n)}else if(u.isString(e)&&(r.expr||c.indexOf(r.type.toLowerCase())<0)){var A=e.split(l.newlineSplit);A.forEach(function(e,n){e=e.trim(),""!==e&&t(e,r,a)})}else t(e,r,a)}function i(e,r,n){r.content||(r.content=[]),u.each(e,function(e){a(e,r,n)},!1,!0)}var o=n(0),u=n(1),s=n(5),p=n(4),l=o.tmplRule,c=["style","script","textarea","pre","xmp","template"];e.exports={checkElem:a}},function(e,r,n){"use strict";function t(e){return null==e?"":e.replace?e.replace(/[&><"']/g,function(e){return a[e]}):e}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};e.exports=t},function(e,r,n){"use strict";function t(e,r){var n=e;return i.isObject(e)||(n={},n[e]=r),i.each(n,function(e,r){a.components[r.toLowerCase()]=e},!1,!1),r}var a=n(0),i=n(1);e.exports={registerComponent:t}},function(e,r,n){"use strict";function t(e){return e.replace(i,function(e,r){return a[r]})}var a={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&"},i=RegExp("&("+Object.keys(a).join("|")+");","g");e.exports=t},function(e,r){e.exports=function(e){if(!e.webpackPolyfill){var r=Object.create(e);r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),Object.defineProperty(r,"exports",{enumerable:!0}),r.webpackPolyfill=1}return r}},function(e,r,n){"use strict";(function(r){var t=n(0),a=n(3),i=n(9),o=n(2),u=n(11),s=n(10);t.compileStringTmpl=o,t.config=s,a.assign(t,i,u,a);var p="undefined"!=typeof self?self:r;e.exports=p.NornJ=p.nj=t}).call(r,n(12))}])});
//# sourceMappingURL=nornj.min.js.map