!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.NornJ=r():e.NornJ=r()}(this,function(){return function(e){function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=18)}([function(e,r){function n(){return n["tmplTag"+(n.outputH?"H":"")].apply(null,arguments)}n.createElement=null,n.components={},n.asts={},n.templates={},n.tmplStrs={},n.errorTitle="[NornJ]",n.tmplRule={},n.outputH=!1,e.exports=n},function(e,r,n){"use strict";function t(e,r){return x.apply(e,r),e}function a(e,r){return b.call(e,r)}function i(e){return Array.isArray(e)}function u(e){var r=void 0===e?"undefined":y(e);return!i(e)&&("function"===r||"object"===r&&!!e)}function o(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return function(r){return null==r?void 0:r[e]}}function s(e){var r=P(e);return"number"==typeof r&&r>=0}function p(e,r,n,t){if(e)if(null==t&&(t=s(e)),n=n?n:e,t)for(var a=0,i=e.length;i>a;a++){var u=r.call(n,e[a],a,i);if(u===!1)break}else for(var o=Object.keys(e),i=o.length,a=0;i>a;a++){var l=o[a],u=r.call(n,e[l],l,a,i);if(u===!1)break}}function c(){}function f(e,r,n){if(!e)switch(n){case"expr":throw Error(S+'Expression "'+r+'" is undefined, please check it has been registered.');default:throw Error(S+(r||e))}}function v(e,r){var n=S;switch(r){case"filter":n+='A filter called "'+e+'" is undefined.';break;default:n+=e}console.warn(n)}function m(){return Object.create(null)}function d(e,r){if(null!=e){var n;if(null==r){var t=e[0];"'"===t?n=w:'"'===t&&(n=R)}else n=r?R:w;return n&&(e=e.replace(n,"")),e}}function g(e){return e.indexOf("-")>-1&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}Object.defineProperty(r,"__esModule",{value:!0});var _=n(0),h=n.n(_);r.arrayPush=t,r.arraySlice=a,r.isArray=i,r.isObject=u,r.isString=o,r._getProperty=l,r.isArrayLike=s,r.each=p,r.noop=c,r.throwIf=f,r.warn=v,r.obj=m,r.clearQuot=d,r.toCamelCase=g,n.d(r,"assign",function(){return C});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=Array.prototype.push,b=Array.prototype.slice,j=Object.prototype.hasOwnProperty,S=h.a.errorTitle,P=l("length"),R=/["]+/g,w=/[']+/g,C=Object.assign||function(e){for(var r=1,n=arguments;n.length>r;r++){var t=n[r];for(var a in t)j.call(t,a)&&(e[a]=t[a])}return e}},function(e,r,n){"use strict";function t(e){var r={useString:!0,exprProps:!1,newContext:!0};return e&&(r=i.assign(r,e)),r}function a(e,r,n){var a=e;i.isObject(e)||(a={},a[e]={expr:r,options:n}),i.each(a,function(e,r){if(e){var n=e.expr,a=e.options;n||a?(n&&(o[r]=n),a&&(l[r]=t(a))):o[r]=e}},!1,!1)}Object.defineProperty(r,"__esModule",{value:!0});var i=n(1),u=n(3);n.d(r,"exprs",function(){return o}),n.d(r,"exprConfig",function(){return l}),r.registerExpr=a;var o={if:function(e,r){"false"===e&&(e=!1);var n=void 0,t=void 0;if(n=r.useUnless?!e:!!e)t=r.result();else{var a=r.props;a&&!function(){var e=a.else;a.elseifs?!function(){var r=a.elseifs.length;i.each(a.elseifs,function(n,a){return n.value?(t=n.fn(),!1):void(a===r-1&&e&&(t=e()))},!1,!0)}():e&&(t=e())}()}return r.useString&&null==t?"":t},else:function(e){return e.exprProps.else=e.result},elseif:function(e,r){var n=r.exprProps;n.elseifs||(n.elseifs=[]),n.elseifs.push({value:e,fn:r.result})},switch:function(e,r){var n=void 0,t=r.props,a=t.elseifs.length;return i.each(t.elseifs,function(r,i){return e===r.value?(n=r.fn(),!1):void(i===a-1&&t.else&&(n=t.else()))},!1,!0),n},unless:function(e,r){return r.useUnless=!0,o.if(e,r)},each:function(e,r){var n=r.useString,t=void 0;if(e)!function(){t=n?"":[];var a=r.props;i.each(e,function(e,i,u){var o={data:e,index:i,fallback:!0};a&&a.moreValues&&(o.extra={"@first":0===i,"@last":i===u-1,"@length":u});var l=r.result(o);n?t+=l:t.push(l)},!1,i.isArrayLike(e)),n||t.length||(t=null)}();else{var a=r.props;a&&a.else&&(t=a.else()),n&&null==t&&(t="")}return t},prop:function(e,r){var n=r.result(),t=void 0;t=void 0!==n?n:!r.useString||e,r.exprProps[r.outputH?u.b(e):e]=t},spread:function(e,r){i.each(e,function(e,n){r.exprProps[n]=e},!1,!1)},for:function(e,r,n){r._njOpts&&(n=r,r=e,e=0);var t=void 0,a=n.useString;for(t=a?"":[];r>=e;e++){var i=n.result({index:e});a?t+=i:t.push(i)}return t},obj:function(e){return e.props},block:function(e){return e.result()}},l={if:t({newContext:!1}),else:t({newContext:!1,useString:!1,exprProps:!0}),switch:t({newContext:!1}),unless:t({newContext:!1}),each:t(),prop:t({newContext:!1,exprProps:!0}),spread:t({newContext:!1,useString:!1,exprProps:!0}),for:t(),obj:t({newContext:!1,useString:!1})};l.elseif=t(l.else),l.block=t(l.obj),o.case=o.elseif,l.case=l.elseif,o.default=o.else,l.default=l.else},function(e,r,n){"use strict";function t(e){if(m.isObject(e))return e;for(var r=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g,n=void 0,t=void 0;n=r.exec(e);){var a=n[1],i=n[2];t||(t={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),a=m.toCamelCase(a),t[a]=i}return t}function a(e,r){var n,t;void 0===r&&(r=this.data);for(var a=0,i=r.length;i>a;a++)if(t=r[a],t&&(n=t[e],void 0!==n))return n}function i(e,r){return null==e?e:e._njTmpl?e.call({_njData:r.data,_njParent:r.parent,_njIndex:r.index}):e(r)}function u(e,r){var n=[];return r&&"data"in r&&n.push(r.data),r&&"extra"in r&&n.push(r.extra),{data:n.length?m.arrayPush(n,e.data):e.data,parent:r&&r.fallback?e:e.parent,index:r&&"index"in r?r.index:e.index,getData:a}}function o(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function l(e,r){var n="";for(var t in e)if(!r||!r[t]){var a=e[t];n+=" "+t+(t!==a?'="'+a+'"':" ")}return n}function s(e,r,n,t){return function(a){return n(e,r,a,t)}}function p(e,r){return function(){var n=this,t=m.arraySlice(arguments);return r(e,{data:n&&n._njData?m.arrayPush(t,n._njData):t,parent:n&&n._njParent?n._njParent:null,index:n&&n._njIndex?n._njIndex:null,getData:a})}}function c(e){var r={useString:e.useString,exprs:v.a.exprs,filters:v.a.filters,noop:m.noop,obj:m.obj,throwIf:m.throwIf,warn:m.warn,newContext:u,getComputedData:i,styleProps:t,exprRet:s};return r.useString?(r.assignStringProp=l,r.escape=v.a.escape):(r.h=v.a.createElement,r.components=v.a.components),m.each(e,function(e,n){0===n.indexOf("main")?(r[n]=p(r,e),r[n]._njTmpl=!0,r["_"+n]=e):0===n.indexOf("fn")&&(r[n]=e)},!1,!1),r}var f=n(0),v=n.n(f),m=n(1);r.b=o,r.a=c},function(e,r,n){"use strict";function t(e){var r={useString:!1};return e&&(r=i.assign(r,e)),r}function a(e,r,n){var a=e;i.isObject(e)||(a={},a[e]={filter:r,options:n}),i.each(a,function(e,r){if(e){var n=e.filter,a=e.options;n||a?(n&&(u[r]=n),a&&(o[r]=t(a))):u[r]=e}},!1,!1)}Object.defineProperty(r,"__esModule",{value:!0});var i=n(1);n.d(r,"filters",function(){return u}),n.d(r,"filterConfig",function(){return o}),r.registerFilter=a;var u={prop:function(e,r){return e[r]},"==":function(e,r){return e==r},"===":function(e,r){return e===r},lt:function(e,r){return r>e},lte:function(e,r){return r>=e},gt:function(e,r){return e>r},gte:function(e,r){return e>=r},"+":function(e,r){return e+r},"-":function(e,r){return e-r},"?":function(e,r,n){return e?r:n},int:function(e){return parseInt(e,10)},float:function(e){return parseFloat(e)},bool:function(e){return"false"!==e&&!!e}},o={prop:t(),"==":t(),"===":t(),lt:t(),lte:t(),gt:t(),gte:t(),"+":t(),"-":t(),int:t(),float:t(),bool:t()}},function(e,r,n){"use strict";function t(e){return e.replace(i,function(e,r){return a[r]})}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var a={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&"},i=RegExp("&("+Object.keys(a).join("|")+");","g")},function(e,r,n){"use strict";function t(e,r){return RegExp(e,r)}function a(e){for(var r,n="",t=0,a=e.length;a>t;t++)r=e[t],n.indexOf(r)<0&&(n+=r);return n}Object.defineProperty(r,"__esModule",{value:!0});var i=n(0),u=n.n(i),o=n(1);r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=u.a.tmplRule,n=r.startRule,i=void 0===n?"{{":n,l=r.endRule,s=void 0===l?"}}":l,p=r.exprRule,c=void 0===p?"#":p,f=r.propRule,v=void 0===f?"@":f,m=r.templateRule,d=void 0===m?"template":m,g=r.tagSpRule,_=void 0===g?"#$@":g,h=r.commentRule,y=void 0===h?"#":h,x=e.start,b=e.end,j=e.expr,S=e.prop,P=e.template,R=e.tagSp,w=e.comment;x&&(i=x),b&&(s=b),j&&(c=j),S&&(v=S),P&&(d=P),R&&(_=R),null!=w&&(y=w);var C=a(i+s),O=i[0],E=s[s.length-1],T=a(c+v+_),k=c.replace(/\$/g,"\\$");o.assign(u.a.tmplRule,{startRule:i,endRule:s,exprRule:c,propRule:v,templateRule:d,tagSpRule:_,commentRule:y,firstChar:O,lastChar:E,xmlOpenTag:t("^<([a-z"+O+T+"][^\\s>]*)[^>]*>$","i"),openTagParams:t("[\\s]+(((["+O+"]?"+i+")([^"+C+"]+)("+s+"["+E+"]?))|[^\\s=>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?","g"),insideBraceParam:t("(["+O+"]?"+i+")([^"+C+"]+)("+s+"["+E+"]?)","i"),spreadProp:t("[\\s]+(["+O+"]?"+i+")[\\s]*(\\.\\.\\.[^"+C+"]+)("+s+"["+E+"]?)","g"),replaceSplit:t("(?:["+O+"]?"+i+")[^"+C+"]+(?:"+s+"["+E+"]?)"),replaceParam:t("((["+O+"]?"+i+"))([^"+C+"]+)("+s+"["+E+"]?)","g"),checkElem:t("([^>]*)(<([a-z/!"+O+T+"][^\\s>]*)([^>]*)>)([^<]*)","ig"),expr:t("^"+k+"([^\\s]+)","i"),include:t("<"+k+"include([^>]*)>","ig"),newlineSplit:t("\\\\n(?![^"+O+E+"]*"+E+")","g")})}},function(e,r,n){"use strict";function t(e){var r=""+e,n=d[r],t=!!this&&this.outputH;n||!function(){var t=v.isString(e),u=t?[e]:e,o=u.length,l=[],s="";v.each(u,function(e,r){var n="";if(o-1>r){var t=e.length-1,a=e[t],i="#"===a;i&&(i&&l.push(r),e=e.substr(0,t)),n=m.startRule+(i?"#":"")+g+r+m.endRule}s+=e+n},!1,!0),s=i(s),n=a(s),n._njParamCount=o-1,n._njComputedNos=l,d[r]=n}();var u=void 0,o=arguments,l=n._njParamCount;if(l>0){u={};for(var s=0;l>s;s++)u[g+s]=o[s+1]}var p=function e(){return f.a["compile"+(t?"H":"")](e,r).apply(this,u?v.arrayPush([u],arguments):arguments)};return p._njTmpl=n,p._njTmplKey=r,p._njParams=u,p}function a(e){for(var r=[],n={elem:r,elemName:"root",parent:null},t=null,a=m.checkElem,i=void 0;i=a.exec(e);){var l=i[1],c=i[2],f=i[3],v=i[4],d=i[5];l&&"\n"!==l&&(l=u(l),p(l,n.elem)),c&&(0===c.indexOf("<!")?p(u(c),n.elem):"/"===f[0]?f==="/"+n.elemName&&(n=n.parent):"/"===c[c.length-2]?s(c,f,v,n.elem):(t=n,n={elem:[],elemName:f,parent:t},t.elem.push(n.elem),o(c,f,v,n.elem))),d&&"\n"!==d&&(d=u(d),p(d,n.elem))}return r}function i(e){var r=m.commentRule;return e.replace(RegExp("<!--"+r+"[\\s\\S]*?"+r+"-->","g"),"").replace(/>\s+([^\s<]*)\s+</g,">$1<").trim().replace(/(>|<|>=|<=)\(/g,function(e){return _[e]})}function u(e){return e.trim().replace(/\n/g,"\\n").replace(/\r/g,"")}function o(e,r,n,t,a){var i=void 0,u=void 0;if(r[0]===m.exprRule)i=e.substring(1,e.length-1);else if(0===r.indexOf(m.propRule))i=m.exprRule+"prop "+m.startRule+"'"+r.substr(m.propRule.length)+"'"+m.endRule+n;else{var o=l(e);i=o.elem,u=o.params}if(a){var s=[i];u&&s.push(u),t.push(s)}else t.push(i),u&&t.push(u)}function l(e){var r=m.exprRule,n=m.startRule,t=m.endRule,a=void 0;return e=e.replace(m.spreadProp,function(e,i,u){return u=u.trim(),a||(a=[r+"props"]),a.push([r+"spread "+n+u.replace(/\.\.\./g,"")+t+"/"])," "}),{elem:e,params:a}}function s(e,r,n,t){o(e,r,n,t,!0)}function p(e,r){r.push(e)}var c=n(0),f=n.n(c),v=n(1);n(8);r.a=t;var m=f.a.tmplRule,d=f.a.tmplStrs,g="_nj_split",_={">(":"gt(","<(":"lt(",">=(":"gte(","<=(":"lte("}},function(e,r,n){"use strict";function t(e){return x.xmlOpenTag.exec(e)}function a(e){return b.test(e)}function i(e){return j[e.toLowerCase()]}function u(e){for(var r,n,t=x.openTagParams;r=t.exec(e);){var a=r[1];if("/"!==a){n||(n=[]);var i=r[7],u=r[4];i=null!=i?_.clearQuot(i):a,/\/>$/.test(i)?i=i.substr(0,i.length-2):(/>$/.test(i)||/\/$/.test(i))&&(i=i.substr(0,i.length-1)),n.push({key:a,value:i,onlyBrace:u})}}return n}function o(e,r){return _.isString(e)&&e.toLowerCase()==="</"+r+">"}function l(e){return x.insideBraceParam.exec(e)}function s(e){var r,n=x.expr.exec(e);if(n){r=[n[1]];var t=u(e);t&&r.push(t)}return r}function p(e){return"tmpl"===e}function c(e,r,n){var t=r.params;t||(t=r.params=_.obj());var a=t.tmpls;if(a){var i=a.strs[0],u=i.length;null!=n?i[n]=e:(i[u]=e,i.length=++u)}else{var i={length:0};null!=n?i[n]=e:(i[0]=e,i.length=1),t.tmpls=h.a(i)}}function f(e){return"params"===e||"props"===e}function v(e,r,n){if(r.paramsExpr)_.arrayPush(r.paramsExpr.content,n?[e]:e.content);else{var t=void 0;t=n?{type:"nj_expr",expr:"props",content:[e]}:e,r.paramsExpr=t}}function m(e){var r=y.exprConfig[e];return{isExprProp:!!r&&r.exprProps,isProp:S.indexOf(e)>-1}}var d=n(0),g=n.n(d),_=n(1),h=n(9),y=n(2);r.b=t,r.c=a,r.j=i,r.i=u,r.d=o,r.h=l,r.a=s,r.e=p,r.k=c,r.f=f,r.l=v,r.g=m;var x=g.a.tmplRule,b=/^<[^>]+\/>$/i,j={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=["prop","spread"]},function(e,r,n){"use strict";function t(e){var r=s.obj();if(e.indexOf("|")>=0){var n,i=[];n=e.split("|"),e=n[0].trim(),n=n.slice(1),s.each(n,function(e){var r=a(e.trim()),n=s.obj(),u=r[1];if(u){var o=r[3];if(o){var l=[];s.each(o.split(","),function(e){l[l.length]=t(e.trim())},!1,!0),n.params=l}n.name=u,i.push(n)}},!1,!0),r.filters=i}if(0===e.indexOf("../")){var u=0;e=e.replace(/\.\.\//g,function(){return u++,""}),r.parentNum=u}e=c.exec(e);var o=e[7];return r.name=o?e[8]:e[1],r.jsProp=e[9],e[8]||(r.isBasicType=!0),o&&(r.isComputed=!0),r}function a(e){return f.exec(e)}function i(e,r){for(var n,t,a=p.replaceParam,i=0;n=a.exec(e);){t||(t=[]);var u=n[3],o=[n[0],n[1],null,!0];i>0&&(o[3]=!1),u=u.trim(),o[2]=u,t.push(o),i++}return t}function u(e){var r=s.obj(),n=s.isString(e)?e.split(p.replaceSplit):[e],a=null,u=!1;if(n.length>1){var o=i(e,n);a=[],s.each(o,function(r){var n=s.obj();u=!!r[3]&&r[0]===e,n.prop=t(r[2]),n.escape=r[1]!==p.firstChar+p.startRule,a.push(n)},!1,!0)}return r.props=a,r.strs=n,r.isAll=u,r}var o=n(0),l=n.n(o),s=n(1);r.a=u;var p=l.a.tmplRule,c=/(('[^']*')|("[^"]*")|(-?([0-9][0-9]*)(\.\d+)?)|true|false|null|undefined|([#]*)([^.[\]()]+))([^\s()]*)/,f=/([^\s()]+)(\(([^()]+)\))*/},function(e,r,n){"use strict";function t(e){return function(r,t,i){if(r){if(s.isObject(t)){var u=t;t=u.tmplKey,i=u.fileName}var o=void 0;if(t&&(o=l.a.templates[t]),!o){var m=s.isObject(r),d=void 0;if(m&&r.main)d=r;else{var g=void 0;if(t&&(g=l.a.asts[t]),!g){if(m&&"nj_root"===r.type)g=r;else{if(g=a(),s.isString(r)){var _=l.a.includeParser;_&&(r=_(r,i)),r=n.i(v.a)(r)}n.i(p.a)(r._njTmpl,g)}t&&(l.a.asts[t]=g)}d=n.i(f.a)(g.content,!e)}o=c.a(d),t&&(l.a.templates[t]=o)}if(r._njParams){var h=function(){return o.main.apply(this,s.arrayPush([r._njParams],arguments))};return h._njTmpl=!0,h}return o.main}}}function a(){var e=s.obj();return e.type="nj_root",e.content=[],e}function i(e,r){var t=a();return s.isString(e)&&(e=n.i(v.a)(e)),n.i(p.a)(e._njTmpl,t),n.i(f.a)(t.content,!r)}function u(e){return function(r,n){return(e?d:m)(r,n?{tmplKey:n.tmplKey?n.tmplKey:r._njTmplKey,fileName:n.fileName}:r._njTmplKey).apply(null,s.arraySlice(arguments,1))}}Object.defineProperty(r,"__esModule",{value:!0});var o=n(0),l=n.n(o),s=n(1),p=n(17),c=n(3),f=n(16),v=n(7);n.d(r,"compile",function(){return m}),n.d(r,"compileH",function(){return d}),r.precompile=i,n.d(r,"render",function(){return g}),n.d(r,"renderH",function(){return _});var m=t(),d=t(!0),g=u(),_=u(!0)},function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(0),a=n.n(t),i=n(6);r.default=function(e){var r=e.delimiters,t=e.includeParser,u=e.createElement,o=e.outputH;r&&n.i(i.default)(r),t&&(a.a.includeParser=t),u&&(a.a.createElement=u),null!=o&&(a.a.outputH=o)}},function(e,r,n){"use strict";function t(e){return null==e?"":e.replace?e.replace(/[&><"']/g,function(e){return a[e]}):e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"}},function(e,r,n){"use strict";function t(e,r){var n=e;return u.isObject(e)||(n={},n[e]=r),u.each(n,function(e,r){i.a.components[r.toLowerCase()]=e},!1,!1),r}Object.defineProperty(r,"__esModule",{value:!0});var a=n(0),i=n.n(a),u=n(1);r.default=t},function(e,r,n){"use strict";function t(){return i.a.apply({outputH:!1},arguments)}function a(){return i.a.apply({outputH:!0},arguments)}Object.defineProperty(r,"__esModule",{value:!0});var i=n(7);r.tmplTag=t,r.tmplTagH=a},function(e,r){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,r,n){"use strict";function t(e,r,n,t,a,i){var u="",o=null!=i?i:r.useString,l=d.isString(n),s=l||0===n,p=1===e.length?"1":"2",f={_type:0,_typeRefer:0,_params:0,_paramsE:0,_compParam:0,_dataRefer:0,_expr:0,_value:0,_filter:0,newContext:t};return o?f._children=0:f._compParam=0,!s&&t&&(u+="p2 = p1.newContext(p2, p3);\n"),"2"===p&&(u+=o?"var ret = '';\n":"var ret = [];\n"),u+=c(e,r,f,p,a,i),"2"===p&&(u+="return ret;"),r[s?"main"+(l?n:""):"fn"+n]=Function("p1","p2","p3","p4",u),n}function a(e,r,n,a,i,u,o){var l="",s=!e;if((s||e.useString)&&(l+=", useString: "+(null==r?"p1.useString":r?"true":"false")),n){var p=!e||e.newContext;(s||e.exprProps)&&(l+=", exprProps: "+i),l+=", result: "+(n.content?"p1.exprRet(p1, p2, p1.fn"+t(n.content,a,++a._no,p,u,r)+", "+i+")":"p1.noop"),null!=o&&(l+=", props: "+o)}return"{ _njOpts: true, ctx: p2, outputH: "+!a.useString+l+" }"}function i(e,r,n,t){var o=void 0,l=e.escape,s=e.prop,p=s.jsProp,c=s.isComputed;if(e.prop.isBasicType)o=e.prop.name+p;else{var f=e.prop,v=f.name,m=f.parentNum,g="",_=!1,h=!1;if("@index"===v?(g="index",_=!0):"this"===v&&(g="data[0]",_=!0),m){g||(g="data");for(var b=0;m>b;b++)g="parent."+g;_||(h=!0)}if(_||h){var j="p2."+g;o=(_?j:(c?"p1.getComputedData(":"")+"p2.getData('"+v+"', "+j+")"+(c?", p2)":""))+p}else o=(c?"p1.getComputedData(":"")+"p2.getData('"+v+"')"+(c?", p2)":"")+p}var S=e.prop.filters;if(!S)return u(o,n,!c&&l);var P=function(){var e="_value"+r._value++,s="var "+e+" = "+o+";\n";return d.each(S,function(u){var o=r._filter++,p=y.filterConfig[u.name],c="_filter"+o,f="p1.filters['"+u.name+"']";p?s+="\nvar "+c+" = "+f+";\n":(s+="\nvar "+c+" = p2.getData('"+u.name+"');\n",s+="if(!"+c+") "+c+" = "+f+";\n"),s+="if (!"+c+") {\n",s+="  p1.warn('"+u.name+"', 'filter');\n",s+="}\n",s+="else {\n",s+="  "+e+" = "+c+".apply(p2, ["+e+(u.params?u.params.reduce(function(e,a){return e+", "+i({prop:a,escape:l},r,n,t)},""):"")+", "+a(p,t,null,n)+"]);\n",s+="}\n"},!1,!0),{v:{valueStr:u(e,n,!c&&l),filterStr:s}}}();return"object"===(void 0===P?"undefined":x(P))?P.v:void 0}function u(e,r,t){return r.useString?t?"p1.escape("+e+")":e:n.i(_.default)(e)}function o(e){return e.replace(/'/g,"\\'")}function l(e,r,n,a){var u=e.strs[0],l="",s="";return d.isString(u)?(l=e.isAll||""===u?"":"'"+o(u)+"'",s="",d.each(e.props,function(t,p){var c=i(t,r,n,a),f=void 0;if(d.isString(c)?f=c:(f=c.valueStr,s+=c.filterStr),!e.isAll){var v=e.strs[p+1],m=""===u&&0==p?"":" + ";if("\\n"===v.trim())return void(l+=m+f);f=m+"("+f+")"+(""!==v?" + '"+o(v)+"'":"")}if(l+=f,e.isAll)return!1},!1,!0)):d.isObject(u)&&null!=u.length&&(l+="{\n",d.each(u,function(e,r,a,i){l+="length"!==r?'  "'+r+'": p1.main'+t(e.content,n,"T"+ ++n._noT):"  length: "+e,l+=",\n",a===i-1&&(l+="  _njData: p2.data,\n  _njParent: p2.parent,\n  _njIndex: p2.index\n")},!1,!1),l+="}"),""===s?l:{valueStr:l,filterStr:s}}function s(e,r,n,t){var a=e.params,i=e.paramsExpr,u="",o=void 0,s=r.useString;if(a||i){if(o=n._params++,u="var _params"+o+" = ",i){var p=n._paramsE++;if(u+=(t?"''":"null")+";\n",u+="var _paramsE"+p+" = {};\n",u+=c(i.content,r,n,{_paramsE:"_paramsE"+p},null,t),t){var f="";d.each(a,function(e,r,n,t){0==n&&(f+="{ "),f+=r+": 1",f+=t-1>n?", ":" }"},!1,!1),u+="_params"+o+" += p1.assignStringProp(_paramsE"+p+", "+(""===f?"null":f)+");\n"}else u+="\n_params"+o+" = _paramsE"+p+";\n"}a&&!function(){var e=Object.keys(a),p=e.length,c="";t||i||(u+="{\n"),d.each(e,function(e,f){var v=l(a[e],n,r,t);d.isObject(v)&&(c+=v.filterStr,v=v.valueStr),s||"style"!==e||(v="p1.styleProps("+v+")");var m=e,_="'"+m+"'"===v;s||(m=g.b(e)),u+=i?t?"_params"+o+" += ' "+m+(_?" '":"=\"' + "+v+" + '\"'")+";\n":"_params"+o+"['"+m+"'] = "+(_?"true":v)+";\n":t?(f>0?"  + ":"")+"' "+m+(_?" '":"=\"' + "+v+" + '\"'")+(f==p-1?";":"")+"\n":"  '"+m+"': "+(_?"true":v)+(p-1>f?",\n":"")},!1,!1),t||i||(u+="\n};\n"),""!==c&&(u=c+u)}()}return[u,o]}function p(e,r,t,i,u,o){var p="",v=r.useString;if("nj_plaintext"===e.type){var m=l(e.content[0],t,r,o),g=void 0;d.isObject(m)&&(g=m.filterStr,m=m.valueStr);var y=f(1,i,{text:m},r,u,o);g&&(y=g+y),p+=v?y:n.i(_.default)(y)}else if("nj_expr"===e.type){var x=t._expr++,b=t._dataRefer++,j="",S="",P=h.exprConfig[e.expr],R="_expr"+x,w="p1.exprs['"+e.expr+"']";P?p+="\nvar "+R+" = "+w+";\n":(p+="\nvar "+R+" = p2.getData('"+e.expr+"');\n",p+="if(!"+R+") "+R+" = "+w+";\n"),j+="var _dataRefer"+b+" = [\n",e.args&&d.each(e.args,function(e,n){var a=l(e,t,r,o);d.isObject(a)&&(S+=a.filterStr,a=a.valueStr),j+="  "+a+","},!1,!0);var C="p4";i&&i._paramsE&&(C=i._paramsE);var O=s(e,r,t,!1),E=O[0],T=O[1];j+=a(P,o,e,r,C,u,""!==E?"_params"+T:null),j+="\n];\n",""!==S&&(j=S+j),p+=E+j,p+="p1.throwIf(_expr"+x+", '"+e.expr+"', 'expr');\n",p+=f(2,i,{_expr:x,_dataRefer:b},r,u,o)}else{var k=t._type++,A=void 0;A=e.typeRefer?e.typeRefer.props[0].prop.name:e.type;var H=void 0;if(H=v?"'"+A+"'":"p1.components['"+A.toLowerCase()+"'] ? p1.components['"+A.toLowerCase()+"'] : '"+A+"'",e.typeRefer){var N=t._typeRefer++,D=l(e.typeRefer,t,r);d.isObject(D)&&(p+=D.filterStr,D=D.valueStr),p+="\nvar _typeRefer"+N+" = "+D+";\n",p+="var _type"+k+" = _typeRefer"+N+" ? _typeRefer"+N+" : ("+H+");\n"}else p+="\nvar _type"+k+" = "+H+";\n";var M=s(e,r,t,v),$=M[0],I=M[1];p+=$;var L=void 0,B=void 0;v?(B=t._children++,p+="var _children"+B+" = '';\n"):(L=t._compParam++,p+="var _compParam"+L+" = [_type"+k+", "+(""!==$?"_params"+I:"null")+"];\n"),p+=c(e.content,r,t,v?{_children:"_children"+B}:{_compParam:"_compParam"+L},null!=u?u+1:u,o),p+=f(3,i,v?{_type:k,_params:""!==$?I:null,_children:B,_selfClose:e.selfCloseTag}:{_compParam:L},r,u,o)}return p}function c(e,r,n,t,a,i){var u="";return e?(d.each(e,function(e){u+=p(e,r,n,t,a,!!e.useString||i)},!1,!0),u):u}function f(e,r,n,t,a,i){var u=void 0,o=t.useString,l=null!=i?i:o;switch(e){case 1:u=v(a,t)+n.text+(o&&null!=a?" + '\\n'":"");break;case 2:u="_expr"+n._expr+".apply(p2, _dataRefer"+n._dataRefer+")";break;case 3:if(o){var s=v(a,t);u=s+"'<' + _type"+n._type+" + "+(null!=n._params?"_params"+n._params+" + ":""),n._selfClose?u+="' />\\n'":(u+="'>\\n'",u+=" + _children"+n._children+" + ",u+=s+"'</' + _type"+n._type+" + '>\\n'")}else u="p1.h.apply(null, _compParam"+n._compParam+")"}return"1"===r?"\nreturn "+u+";":"2"===r?l?"\nret += "+u+";\n":"\nret.push("+u+");\n":r._paramsE?"\n"+u+";\n":o?"\n"+r._children+" += "+u+";\n":"\n"+r._compParam+".push("+u+");\n"}function v(e,r){var n="";if(r.useString&&null!=e&&e>0){n+="'";for(var t=0;e>t;t++)n+="  ";n+="' + "}return n}var m=n(0),d=(n.n(m),n(1)),g=n(3),_=n(5),h=n(2),y=n(4),x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.a=function(e,r){var n={useString:r,_no:0,_noT:0};return t(e,n,n._no,null,0),n}},function(e,r,n){"use strict";function t(e,r,n){var t={};t.type="nj_plaintext",t.content=[s.a(e)],r[n].push(t)}function a(e,r,n){var a="content";if(l.isArray(e)){var u={},o=e[0];if(l.isString(o)){var v=e.length,m=e[v-1],d=!1,g=void 0,_=void 0,h=void 0,y=!1,x=void 0,b=void 0,j=void 0,S=void 0,P=void 0;if(g=p.a(o)){var R=g[0];if(_=g[1],x=p.e(R),b=p.f(R),!b){var w=p.g(R);j=w.isProp,S=w.isExprProp,P=j?!n:S}u.type="nj_expr",u.expr=R,null==_||x||b||(u.args||(u.args=[]),l.each(_,function(e){if("useString"===e.value)return void(u.useString=!0);var r=s.a(e.value);e.onlyBrace?u.args.push(r):(u.params||(u.params=l.obj()),u.params[e.key]=r)},!1,!0)),d=!0}else{var C=p.b(o);C&&(h=C[1],p.c(o)?u.selfCloseTag=!0:y=p.d(m,h),d=!0)}if(d){var O=!0;if(g)x?(O=!1,p.k(u,r,_?_[0].value:null)):b?O=!1:P&&(O=!1);else{u.type=h;var E=p.h(h);E&&(u.typeRefer=s.a(E[0]));var T=p.i(o);T&&(u.params||(u.params=l.obj()),l.each(T,function(e){u.params[e.onlyBrace?e.onlyBrace.replace(/\.\.\//g,""):e.key]=s.a(e.value)},!1,!0)),u.selfCloseTag||(u.selfCloseTag=p.j(h))}O&&r[a].push(u);var k=v-(y?1:0),A=e.slice(1,k);A&&A.length&&i(A,u,b||n&&!j),(b||P)&&p.l(u,r,S)}else i(e,r,n)}else l.isArray(o)&&i(e,r,n)}else if(l.isString(e)&&(r.expr||f.indexOf(r.type.toLowerCase())<0)){var H=e.split(c.newlineSplit);H.forEach(function(e,n){e=e.trim(),""!==e&&t(e,r,a)})}else t(e,r,a)}function i(e,r,n){r.content||(r.content=[]),l.each(e,function(e){a(e,r,n)},!1,!0)}var u=n(0),o=n.n(u),l=n(1),s=n(9),p=n(8);r.a=a;var c=o.a.tmplRule,f=["style","script","textarea","pre","xmp","template"]},function(e,r,n){(function(r){var t=n(0),a=n(1),i=n(2),u=n(4),o=n(10),l=n(14),s=n(12).default,p=n(13).default,c=n(5).default,f=n(6).default,v=n(11).default;a.assign(t,{escape:s,registerComponent:p,replaceSpecialSymbol:c,setTmplRule:f,config:v},a,i,u,o,l),f();var m="undefined"!=typeof self?self:r;e.exports=m.NornJ=m.nj=t}).call(r,n(15))}])});
//# sourceMappingURL=nornj.min.js.map