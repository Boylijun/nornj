!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NornJ=t():e.NornJ=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),a=n(2),i=n(16),s=n(19),o=n(21),p=n(22);r.compileStringTmpl=s,r.tmplByKey=o,r.docReady=p,a.assign(r,i,a),a.registerTagNamespace(),"undefined"!=typeof React&&setComponentEngine("react",React,"undefined"!=typeof ReactDOM?ReactDOM:null);var l;"undefined"!=typeof self?(l=self,p(function(){r.componentLib&&r.autoRenderTag&&r.renderTagComponent(r.initTagData)})):l=this,e.exports=l.NornJ=l.nj=r},function(e,t){"use strict";function n(){return n.compileStringTmpl.apply(null,arguments)}n.componentLib=null,n.componentLibObj=null,n.componentLibDom=null,n.componentPort=null,n.componentRender=null,n.componentClasses={},n.namespace="nj",n.tagNamespaces={nj:"nj"},n.tagId="nj-id",n.tagStyle="nj-style",n.tagClassName="nj-component",n.asts={},n.templates={},n.errorTitle="NornJ:",n.tmplRule={},n.autoRenderTag=!0,e.exports=n},function(e,t,n){"use strict";var r=n(3),a=n(5),i=n(6),s=n(7),o=n(8),p=n(9),l=n(11),u=n(12),c=n(13),f=n(14),m=n(15);m(),e.exports=r.assign({escape:o,setTmplRule:m},p,l,u,c,f,r,a,i,s)},function(e,t,n){"use strict";function r(e,t,n,r){return n&&!a(t)?(r&&null==t||(e[e.length]=t),e):(O.apply(e,t),e)}function a(e){return Array.isArray(e)}function i(e){var t=typeof e;return!a(e)&&("function"===t||"object"===t&&!!e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return function(t){return null==t?void 0:t[e]}}function p(e){var t=P(e);return"number"==typeof t&&t>=0}function l(e,t,n,r,a){if(e){var i;if(i=a?j:C,null==r&&(r=p(e)),n=n?n:e,r)i.call(e,function(e,r){var i=t.call(n,e,r);if(a)return i!==!1||i});else{var s=Object.keys(e),o=s.length;i.call(s,function(r,i){var s=t.call(n,e[r],r,i,o);if(a)return s!==!1||s})}}}function u(e,t){return e.indexOf(t)}function c(e){return e?e.trim():""}function f(){}function m(e,t,n){if(!e)switch(n){case"expr":throw Error(S+'Expression "'+t+'" is undefined, please check it has been registered.');default:throw Error(S+(t||e))}}function g(e,t){var n=S;switch(t){case"filter":n+='A filter called "'+e+'" is undefined.';default:n+=e}return n}function v(e,t){var n=e.length;if(0==n)return e;null==t&&(t=0);var r,a;for(r=0,n=e.length;n>r;r++)a=e.charCodeAt(r),t=(t<<5)-t+a,t|=0;return t}function h(){return Object.create(null)}function d(e){var t,n=e[0];return"'"===n?t=/[']+/g:'"'===n&&(t=/["]+/g),t&&(e=e.replace(t,"")),e}function x(e){return e.indexOf("-")>-1&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}var _=n(1),y=n(4),b=Array.prototype,j=b.every,C=b.forEach,O=b.push,S=_.errorTitle,P=o("length"),T={isArray:a,isArrayLike:p,isObject:i,isString:s,each:l,inArray:u,trim:c,throwIf:m,assign:y,uniqueKey:v,lightObj:h,listPush:r,clearQuot:d,toCamelCase:x,warn:g,noop:f};e.exports=T},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(i){return!1}}var a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,o=n(e),p=1;arguments.length>p;p++){r=Object(arguments[p]);for(var l in r)a.call(r,l)&&(o[l]=r[l]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var u=0;s.length>u;u++)i.call(r,s[u])&&(o[s[u]]=r[s[u]])}}return o}},function(e,t,n){"use strict";function r(e){return P.xmlOpenTag.exec(e)}function a(e){return T.test(e)}function i(e){return E[e.toLowerCase()]}function s(e,t){for(var n,r,a=/[\s]+([^\s={}>]+)(=(('[^']+')|("[^"]+")|([^"'\s]+)))?/g;n=a.exec(e);){var i=n[1];if("/"!==i&&"/>"!==i){r||(r=[]);var s,o=n[3];o=null!=o?O.clearQuot(o):i,s=o.length,t||(o.lastIndexOf("/>")===s-2?o=o.replace(/\/>/,""):o.lastIndexOf(">")===s-1&&(o=o.replace(/>/,""))),r.push({key:i,value:o})}}return r}function o(e,t){return O.isString(e)&&e.toLowerCase()==="</"+t+">"}function p(e){return P.openTag.exec(e)}function l(e){return R.test(e)}function u(e,t){return O.isString(e)&&e.toLowerCase()==="/"+t.toLowerCase()}function c(e){return P.insideBraceParam.exec(e)}function f(e){var t,n=P.expr.exec(e);if(n){t=[n[1]];var r=c(e);r&&t.push(r[0])}return t}function m(e,t){return O.isString(e)&&e==="/"+P.exprRule+t}function g(e){return"tmpl"===e}function v(e,t,n){var r=t.params;r||(r=t.params=O.lightObj());var a=r.tmpls;if(a){var i=a.strs[0],s=i.length;null!=n?i[n]=e:(i[s]=e,i.length=++s)}else{var i={length:0};null!=n?i[n]=e:(i[0]=e,i.length=1),r.tmpls=S.compiledParam(i)}}function h(e){return"params"===e||"props"===e}function d(e,t){t.paramsExpr?O.listPush(t.paramsExpr.content,e.content):t.paramsExpr=e}function x(e){var t=e.tagName.toLowerCase();return O.each(C.tagNamespaces,function(e){return 0===t.indexOf(e+":")?(t=t.split(":")[1],!1):0===t.indexOf(e+"-")?(t=t.split("-")[1],!1):void 0},!1,!1,!0),t}function _(e){var t,n=e.attributes;return O.each(n,function(n){var r=n.nodeName;if(r!==C.tagId&&n.specified){var a=n.nodeValue;t||(t=O.lightObj()),""===a&&(a=r),"style"===r?a=e.style.cssText:0!==r.indexOf("data-")&&0!==r.indexOf(C.namespace+"-")&&(0===r.indexOf("!")&&(r=r.substr(1)),r=O.toCamelCase(r)),t[r]=a}}),t}function y(e){return P.expr.test(e)}function b(e){return e||(e="."+C.tagClassName),document.querySelectorAll(e)}function j(e){for(var t=e.childNodes,n=t.length,r=0;n>r;r++)e.removeChild(e.firstChild)}var C=n(1),O=n(3),S=n(6),P=C.tmplRule,T=/^<[^>]+\/>$/i,E={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},R=/\/$/i;e.exports={getXmlOpenTag:r,isXmlSelfCloseTag:a,verifySelfCloseTag:i,getOpenTagParams:s,isXmlCloseTag:o,getOpenTag:p,isSelfCloseTag:l,isCloseTag:u,getInsideBraceParam:c,isControl:f,isControlCloseTag:m,isTmpl:g,addTmpl:v,isParamsExpr:h,addParamsExpr:d,getTagComponentName:x,getTagComponentAttrs:_,isTagControl:y,getTagComponents:b,removeChildNode:j}},function(e,t,n){"use strict";function r(e){var t=l.lightObj();return l.each(e,function(e,n){t[n]=o(e)},!1,!1),t}function a(e,t){var n=l.lightObj();if(!t&&e.indexOf(".")>-1&&(e=e.replace(/\.([^\s.:\/]+)/g,":prop($1)")),e.indexOf(":")>=0){var r,a=[];r=e.split(":"),e=r[0].trim(),r=r.slice(1),l.each(r,function(e){var t=i(e.trim()),n=l.lightObj(),r=t[1].toLowerCase();if(r){var s=t[3];if(s){var o=[];l.each(s.split(","),function(e){o[o.length]=e.trim()},!1,!0),n.params=o}n.name=r,a.push(n)}},!1,!0),n.filters=a}if(!t&&e.indexOf("../")>-1){var s=0;e=e.replace(/\.\.\//g,function(){return s++,""}),n.parentNum=s}return n.name=e,t&&(n.isStr=!0),n}function i(e){return c.exec(e)}function s(e,t){for(var n,r,a,i,s=u.replaceParam(),o=/[^\s:]+([\s]?:[\s]?[^\s\(\)]+(\([^\(\)]+\))?(\.[^\s.]+)?){0,}/g,p=0;n=s.exec(e);){a||(a=[]);var c=0;for(i=n[3];r=o.exec(i);){var m=r[0],g=[n[0],n[1],m,!1,!0];m=m.trim(),f.indexOf(m[0])>-1&&(m=l.clearQuot(m),g[3]=!0),g[2]=m,a.push(g),c>0&&(g[4]=!1,t.splice(++p,0,"")),c++}p++}return a}function o(e){var t=l.lightObj(),n=l.isString(e)?e.split(u.replaceSplit):[e],r=null,i=!1;if(n.length>1){var o=s(e,n);r=[],l.each(o,function(t){var n=l.lightObj();i=!!t[4]&&t[0]===e,n.prop=a(t[2],t[3]),n.escape=t[1].split(u.beginRule).length<3,r.push(n)},!1,!0)}if(t.props=r,t.strs=n,t.isAll=i,i){var p=r[0].prop;0===p.name.indexOf("!#")&&(p.name=p.name.substr(2),t.isTmplPlace=!0)}return t}var p=n(1),l=n(3),u=p.tmplRule,c=/([\w$]+)(\(([^()]+)\))*/,f=["'",'"'];e.exports={compiledParam:o,compiledParams:r,compiledProp:a}},function(e,t,n){"use strict";function r(e){if(f.isObject(e))return e;for(var t,n,r=/([^\s:]+)[\s]?:[\s]?([^\s;]+)[;]?/g;t=r.exec(e);){var a=t[1],i=t[2];n||(n={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),a=f.toCamelCase(a),n[a]=i}return n}function a(e,t){for(var n,r,a=0,i=e.length;i>a;a++)if(r=e[a],r&&(n=r[t],null!=n))return n}function i(e,t,n){var r=e;return null==n&&(n=f.isArray(t)),n&&(r=f.listPush([e],t.slice(1))),r}function s(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function o(e,t){var n="";for(var r in e)t&&t[r]||(n+=" "+r+'="'+e[r]+'"');return n}function p(e,t,n,r,a){return function(i){return r(e,t,n,i,a)}}function l(e,t){return function(n){var n,r=arguments,a=r.length;if(0<a)if(1===a)n=r[0];else{n=[];for(var i=0;a>i;i++)n[n.length]=r[i]}else n={};var s=t(e,{data:n,parent:this?this.parent:null},{multiData:c.isArray(n)});return!e.useString&&f.isArray(s)&&(s=s[0]),s}}function u(e){var t={useString:e.useString,exprs:c.exprs,filters:c.filters,getDatasValue:c.getDatasValue,noop:c.noop,lightObj:c.lightObj,throwIf:c.throwIf,warn:c.warn,getItemParam:c.getItemParam,styleProps:c.styleProps,exprRet:c.exprRet};return t.useString?(t.assignStringProp=c.assignStringProp,t.escape=c.escape):(t.compPort=c.componentPort,t.compLib=c.componentLibObj,t.compClass=c.componentClasses),f.each(e,function(e,n){0===n.indexOf("main")?t[n]=l(t,e):0===n.indexOf("fn")&&(t[n]=e)},!1,!1),t}var c=n(1),f=n(3);e.exports={getItemParam:i,getDatasValue:a,fixPropName:s,styleProps:r,assignStringProp:o,exprRet:p,tmplWrap:l,template:u}},function(e,t){"use strict";function n(e){return null==e?"":e.replace?e.replace(/[&><"']/g,function(e){return r[e]}):e}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};e.exports=n},function(e,t,n){"use strict";function r(e,t){var n={},r=t.hasElse?"contentElse":"content";if(!s.isArray(e))return s.isObject(e)&&"_njShim"in e&&!s.isArray(e._njShim)&&(e=e._njShim),n.type="nj_plaintext",n.content=[o.compiledParam(e)],void t[r].push(n);var i=e[0];if(s.isString(i)){var l,c,f,m,g,i=i,v=e.length,h=e[v-1],d=!1,x=p.getXmlOpenTag(i),_=!1;if(x)f=x[1],p.isXmlSelfCloseTag(i)?n.selfCloseTag=!0:_=p.isXmlCloseTag(h,f),d=!0;else if(l=p.isControl(i)){var y=l[0].toLowerCase();c=l[1],m=p.isTmpl(y),g=p.isParamsExpr(y),n.type="nj_expr",n.expr=y,null==c||m||(n.refer=o.compiledParam(c)),p.isControlCloseTag(h,y)&&(_=!0),d=!0}else{var b=p.getOpenTag(i);b&&(f=b[0],p.isSelfCloseTag(i)?(n.selfCloseTag=!0,d=!0):(_=p.isCloseTag(h,f),_&&(d=!0)))}if(d){var j=-1,C=!0;if(l)if(m){C=!1;var O=p.getInsideBraceParam(c);p.addTmpl(n,t,O?s.clearQuot(O[1]):null)}else g?C=!1:j=s.inArray(e,u.exprRule+"else");else{n.type=f;var S=p.getInsideBraceParam(f);S&&(n.typeRefer=o.compiledParam(S[0]));var P=p.getOpenTagParams(i,!x);P&&(n.params||(n.params=s.lightObj()),s.each(P,function(e){n.params[e.key]=o.compiledParam(e.value)},!1,!0)),n.selfCloseTag||(n.selfCloseTag=p.verifySelfCloseTag(f))}C&&t[r].push(n);var T=v-(_?1:0),E=e.slice(1,0>j?T:j);if(E&&E.length&&a(E,n),j>=0){var R=e.slice(j+1,T);n.hasElse=!0,R&&R.length&&a(R,n)}g&&p.addParamsExpr(n,t)}else a(e,t)}else s.isArray(i)&&a(e,t)}function a(e,t){t.content||(t.content=[]),t.hasElse&&!t.contentElse&&(t.contentElse=[]),s.each(e,function(e){r(e,t)},!1,!0)}var i=n(1),s=n(3),o=n(6),p=n(5),l=n(10),u=i.tmplRule;e.exports={checkElem:r,checkTagElem:l}},function(e,t,n){"use strict";function r(e,t){var n={},r=e.nodeType,i=s.trim(e.nodeValue),u=t.hasElse?"contentElse":"content";if(3===r){if(""===i)return;return n.type="nj_plaintext",n.content=[o.compiledParam(i)],void t[u].push(n)}if(1===r){var c,f=p.getTagComponentName(e),m=p.getTagComponentAttrs(e),g=p.isTagControl(f),v=!0;if(g)if(f!==l.exprRule+"else"){if(f=f.substr(1),n.type="nj_expr",n.expr=f,c=p.isParamsExpr(f),p.isTmpl(f)){v=!1;var h;m&&m.refer&&(h=p.getInsideBraceParam(m.refer)),p.addTmpl(n,t,h?s.clearQuot(h[1]):null)}else if(c)v=!1;else if(m&&m.refer){var h=p.getInsideBraceParam(m.refer);n.refer=o.compiledParam(h?h[0]:m.refer)}}else v=!1,n=t,n.hasElse=!0;else{n.type=f;var d=p.getInsideBraceParam(f);d&&(n.typeRefer=o.compiledParam(d[0])),m&&(n.params=o.compiledParams(m)),n.selfCloseTag=p.verifySelfCloseTag(f)}v&&t[u].push(n);var x=e.childNodes;x&&x.length&&a(x,n),c&&p.addParamsExpr(n,t)}}function a(e,t){t.content||(t.content=[]),t.hasElse&&!t.contentElse&&(t.contentElse=[]),s.each(e,function(e){r(e,t)},!1,!0)}var i=n(1),s=n(3),o=n(6),p=n(5),l=i.tmplRule;i.setInitTagData=function(e){i.initTagData=e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,s){a.componentLib=e,a.componentLibObj=t,n=n||t,a.componentLibDom=n,"react"===e&&(r="createElement",s="render"),a.componentPort=i.isString(r)?t[r]:r,a.componentRender=i.isString(s)?n[s]:s}var a=n(1),i=n(3);e.exports={setComponentEngine:r}},function(e,t,n){"use strict";function r(e,t){var n=e;return o.isObject(e)||(n={},n[e]=t),o.each(n,function(e,t){s.componentClasses[t.toLowerCase()]=e},!1,!1),t}function a(e){s.namespace=e,s.tagId=e+"-id",s.tagStyle=e+"-style",s.tagClassName=e+"-component"}function i(e){if(e||(e="nj"),s.tagNamespaces[e]=e,"undefined"!=typeof document){var t=document;t&&t.namespaces&&t.namespaces.add(e,"urn:schemas-microsoft-com:vml","#default#VML")}}var s=n(1),o=n(3);e.exports={registerComponent:r,setNamespace:a,registerTagNamespace:i}},function(e,t,n){"use strict";function r(e){var t={data:!1,parent:!1,index:!1,useString:!0};return e&&(t=i.assign(t,e)),t}function a(e,t,n){var a=e;i.isObject(e)||(a={},a[e]={filter:t,options:n}),i.each(a,function(e,t){var n,a=t.toLowerCase();e&&e.filter?(s[a]=e.filter,n=e.options):s[a]=e,o[a]=r(n)},!1,!1)}var i=n(3),s={prop:function(e,t){var n=e;return n&&i.each(t.split("."),function(e){n=n[e]},!1,!0),n},count:function(e){return e?e.length:0},item:function(e,t){return e?e[t]:null},equal:function(e,t){return e==t},lt:function(e,t,n){var r;return e=parseFloat(e),t=parseFloat(t),r=n?t>e:t>=e},gt:function(e,t,n){var r;return e=parseFloat(e),t=parseFloat(t),r=n?e>t:e>=t},add:function(e,t,n){return e+(n?parseFloat(t):parseInt(t,10))},"int":function(e){return parseInt(e,10)},"float":function(e){return parseFloat(e)},bool:function(e){return"false"!==e&&!!e}},o={prop:r(),count:r(),item:r(),equal:r(),lt:r(),gt:r(),add:r(),"int":r(),"float":r(),bool:r()};e.exports={filters:s,filterConfig:o,registerFilter:a}},function(e,t,n){"use strict";function r(e){var t={data:!1,parent:!1,index:!1,useString:!0,paramsExpr:!1,result:!0,inverse:!0,newContext:!1};return e&&(t=i.assign(t,e)),t}function a(e,t,n){var a=e;i.isObject(e)||(a={},a[e]={expr:t,options:n}),i.each(a,function(e,t){var n,a=t.toLowerCase();e&&e.expr?(s[a]=e.expr,n=e.options):s[a]=e,o[a]=r(n)},!1,!1)}var i=n(3),s={"if":function(e,t){"false"===e&&(e=!1);var n,r;return n=t?!e:!!e,r=n?this.result():this.inverse(),this.useString&&null==r?"":r},unless:function(e){return s.if.call(this,e,!0)},each:function(e){var t,n=this,r=n.useString;return e?(t=r?"":[],i.each(e,function(e,a){var i=n.result({item:e,index:a});r?t+=i:t.push(i)},!1,i.isArray(e)),r||t.length||(t=null)):(t=n.inverse(),r&&null==t&&(t="")),t},param:function(){var e,t=this.result(),n="";i.each(arguments,function(e,t){n+=e},!1,!0),null!=t?t.length>1?(e="",i.each(t,function(t){e+=t},!1,!0)):(e=t[0],e&&e._njShim&&(e=e._njShim)):e=n,this.paramsExpr[n]=e},spreadparam:function(e){if(e){var t=this;i.each(e,function(e,n){t.paramsExpr[n]=e},!1,!1)}},equal:function(e,t){var n;return n=e==t?this.result():this.inverse()},"for":function(e,t){var n,r=this.useString;for(n=r?"":[],null==t&&(t=e,e=0),e=parseInt(e,10),t=parseInt(t,10);t>=e;e++){var a=this.result({item:this.data[0],index:e});r?n+=a:i.listPush(n,a,!0)}return n},blank:function(){return this.result()}},o={"if":r(),unless:r(),each:r({newContext:!0}),param:r({inverse:!1,paramsExpr:!0}),spreadparam:r({useString:!1,result:!1,inverse:!1,paramsExpr:!0}),equal:r({useString:!1}),"for":r({newContext:!0}),blank:r({useString:!1,inverse:!1})};s.prop=s.p=s.param,o.prop=o.p=o.param,s.spread=s.spreadparam,o.spread=o.spreadparam,e.exports={exprs:s,exprConfig:o,registerExpr:a}},function(e,t,n){"use strict";function r(e,t){return RegExp(e,t)}function a(e){for(var t,n="",r=0,a=e.length;a>r;r++)t=e[r],n.indexOf(t)<0&&(n+=t);return n}var i=n(1),s=n(3);e.exports=function(e,t,n){e||(e="{"),t||(t="}"),n||(n="#");var o=a(e+t),p=e[0],l=o.substr(1),u=a(n),c=n.replace(/\$/g,"\\$");s.assign(i.tmplRule,{beginRule:e,endRule:t,exprRule:n,xmlOpenTag:r("^<([a-z"+p+"][-a-z0-9_:./"+l+"]*)[^>]*>$","i"),openTag:r("^[a-z"+p+"][-a-z0-9_:./"+l+"]*","i"),insideBraceParam:r(e+"([^"+o+"]+)"+t,"i"),replaceBraceParam:function(){return r("[\\s]+("+e+"){1,2}([^"+o+"]+)("+t+"){1,2}","g")},replaceSplit:r("(?:"+e+"){1,2}[^"+o+"]+(?:"+t+"){1,2}"),replaceParam:function(){return r("(("+e+"){1,2})([^"+o+"]+)("+t+"){1,2}","g")},checkElem:function(){return r("([^>]*)(<([a-z"+p+"/"+u+"!][-a-z0-9_:."+o+u+"]*)[^>]*>)([^<]*)","ig")},expr:r("^"+c+"([^\\s]+)","i")})}},function(e,t,n){"use strict";function r(e,t,n,r){if(e){var i;t&&(i=l.asts[t]),i||(u.isObject(e)&&"nj_root"===e.type?i=e:(i=a(),u.isString(e)&&(e=f(e)),r?u.checkTagElem(e,i):u.checkElem(e,i)),t&&(l.asts[t]=i));var s;return t&&(s=l.templates[t]),s||(s=u.template(c(i.content,!n)),t&&(l.templates[t]=s)),s.main}}function a(){var e=u.lightObj();return e.type="nj_root",e.content=[],e}function i(e,t){return r(e,t,!0)}function s(e,t){return r(e,t,!0,!0)}function o(e,t){var n=u.getTagComponents(t),r=[];return u.each(n,function(t){var n=s(t,t.getAttribute(l.tagId)),a=t.parentNode;"inferno"===l.componentLib&&u.removeChildNode(a),r.push(l.componentRender(n(e),a))},!1,!0),r}function p(e){var t=a();return u.checkElem(e,t),t}var l=n(1),u=n(2),c=n(17),f=n(19);e.exports={compile:r,compileComponent:i,compileTagComponent:s,renderTagComponent:o,precompile:p}},function(e,t,n){"use strict";function r(e,t,n,r){var a="",i=t.useString,s=u.isString(n),o=s||0===n,l=1===e.length?"1":"2",c={_type:0,_typeRefer:0,_params:0,_paramsE:0,_compParam:0,_dataRefer:0,_expr:0,_this:0,_value:0,_filter:0,_thisF:0,newContext:r};return i?c._children=0:c._compParam=0,o?(a+="var parent = p2.parent;\n",a+="var data = p2.data;\n",a+="if(!parent) {\n",a+="  parent = p1.lightObj();\n",a+="  if (data) {\n",a+="    parent.data = p3.multiData ? data[0] : data;\n",a+="  }\n",a+="  p2.parent = parent;\n",a+="};\n"):r?(a+="var parent = p1.lightObj();\n",a+="parent.data = p4.item;\n",a+="parent.parent = p2.parent;\n",a+="parent.index = p4.index;\n",a+="var data = p1.getItemParam(p4.item, p2.data, p3.multiData);\n",a+="var _p2 = p1.lightObj();\n",a+="_p2.parent = parent;\n",a+="_p2.data = data;\n"):(a+="var parent = p2.parent;\n",a+="var data = p2.data;\n"),"2"===l&&(a+=i?"var ret = '';\n":"var ret = [];\n"),a+=p(e,t,c,l),"2"===l&&(a+="return ret;"),t[o?"main"+(s?n:""):"fn"+n]=Function("p1","p2","p3","p4","p5",a),n}function a(e,t,n,r){var a,s=n.useString,o=!r&&e.escape;if(e.prop.isStr)a="'"+e.prop.name+"'";else{var p=e.prop.name,l=e.prop.parentNum,c="",m=!1;if("#"===p?(c="parent.index",m=!0):"."===p&&(c="parent.data",m=!0),l){c||(c="parent.data");for(var g=0;l>g;g++)c="parent."+c;m||(c+="['"+p+"']",m=!0)}a=m?c:"(!p3.multiData ? data['"+p+"'] : p1.getDatasValue(data, '"+p+"'))"}var v=e.prop.filters;if(v){var h="_value"+t._value++,d="var "+h+" = "+a+";\n";return u.each(v,function(e){var n=t._filter++,r=t._thisF++,a=f[e.name];d+="\nvar _filter"+n+" = p1.filters['"+e.name+"'];\n",d+="if (!_filter"+n+") {\n",d+="  p1.warn('"+e.name+"', 'filter');\n",d+="}\n",d+="else {\n",d+="  var _thisF"+r+" = p1.lightObj();\n",a.useString&&(d+="  _thisF"+r+".useString = p1.useString;\n"),a.data&&(d+="  _thisF"+r+".data = data;\n"),a.parent&&(d+="  _thisF"+r+".parent = parent.parent;\n"),a.index&&(d+="  _thisF"+r+".index = parent.index;\n"),d+="\n  "+h+" = _filter"+n+".apply(_thisF"+r+", ["+h+(e.params?e.params.reduce(function(e,t){return e+", '"+t+"'"},""):"")+"]);\n",d+="}\n"},!1,!0),{valueStr:i(h,s,o),filterStr:d}}return i(a,s,o)}function i(e,t,n){return t&&n?"p1.escape("+e+")":e}function s(e,t,n){var i=e.strs[0],s="",o="";return u.isString(i)?(s=e.isAll||""===i?"":"'"+i+"'",o="",u.each(e.props,function(r,p){var l,c=a(r,t,n);if(u.isString(c)?l=c:(l=c.valueStr,o+=c.filterStr),e.isAll)e.isTmplPlace&&(l+=".call({ parent: parent }, data)");else{var f=e.strs[p+1];l=(""===i&&0==p?"":" + ")+"("+l+")"+(""!==f?" + '"+f+"'":"")}if(s+=l,e.isAll)return!1},!1,!0,!0)):u.isObject(i)&&i.length?(s+="{\n",u.each(i,function(e,t,a,i){s+="length"!==t?'  "'+t+'": p1.main'+r(e.content,n,"T"+ ++n._noT):"  length: "+e,i-1>a&&(s+=","),s+="\n"},!1,!1),s+="}"):s=JSON.stringify(i),""===o?s:{valueStr:s,filterStr:o}}function o(e,t,n,i){var o="",f=t.useString;if("nj_plaintext"===e.type){var g,v=s(e.content[0],n,t);u.isObject(v)&&(g=v.filterStr,v=v.valueStr);var h=l(1,i,{text:v},t);g&&(h=g+h),o+=f?h:m(h)}else if("nj_expr"===e.type){var d=n._expr++,x=n._dataRefer++,_="";if(o+="\nvar _expr"+d+" = p1.exprs['"+e.expr+"'];\n",e.refer){_+="var _dataRefer"+x+" = [\n";var y=e.refer.props,b=y.length,g="";u.each(y,function(e,r){var i=a(e,n,t,!0);u.isObject(i)&&(g+=i.filterStr,i=i.valueStr),_+="  "+i+(b-1>r?",":"")},!1,!0),_+="\n];\n",""!==g&&(_=g+_),o+=_}o+="p1.throwIf(_expr"+d+", '"+e.expr+"', 'expr');\n";var j=n._this++,C=c[e.expr],O=C.newContext,S=n.newContext;o+="\nvar _this"+j+" = p1.lightObj();\n",C.useString&&(o+="_this"+j+".useString = p1.useString;\n"),C.data&&(o+="_this"+j+".data = data;\n"),C.parent&&(o+="_this"+j+".parent = parent.parent;\n"),C.index&&(o+="_this"+j+".index = parent.index;\n");var P="p5";i&&i._paramsE&&(P=i._paramsE),C.paramsExpr&&(o+="_this"+j+".paramsExpr = "+P+";\n"),C.result&&(o+="_this"+j+".result = "+(e.content?"p1.exprRet(p1, "+(S?"_":"")+"p2, p3, p1.fn"+r(e.content,t,++t._no,O)+", "+P+")":"p1.noop")+";\n"),C.inverse&&(o+="_this"+j+".inverse = "+(e.contentElse?"p1.exprRet(p1, "+(S?"_":"")+"p2, p3, p1.fn"+r(e.contentElse,t,++t._no,O)+", "+P+")":"p1.noop")+";\n"),o+=l(2,i,{_expr:d,_dataRefer:x,_this:j},t)}else{var T,E=n._type++;T=e.typeRefer?e.typeRefer.props[0].prop.name:e.type.toLowerCase();var R;if(R=f?"'"+T+"'":"p1.compClass['"+T+"'] ? p1.compClass['"+T+"'] : '"+T+"'",e.typeRefer){var w=n._typeRefer++,N=s(e.typeRefer,n,t);u.isObject(N)&&(o+=N.filterStr,N=N.valueStr),o+="\nvar _typeRefer"+w+" = "+N+";\n",o+="var _type"+E+" = _typeRefer"+w+" ? _typeRefer"+w+" : ("+R+");\n"}else o+="\nvar _type"+E+" = "+R+";\n";var L=e.params,A=e.paramsExpr,I="";if(L||A){var k=n._params++;if(I="var _params"+k+" = ",A){var F=n._paramsE++;if(I+=(f?"''":"null")+";\n",I+="var _paramsE"+F+" = {};\n",I+=p(A.content,t,n,{_paramsE:"_paramsE"+F}),f){var D="";u.each(L,function(e,t,n,r){0==n&&(D+="{ "),D+=t+": 1",D+=r-1>n?", ":" }"},!1,!1),I+="_params"+k+" += p1.assignStringProp(_paramsE"+F+", "+(""===D?"null":D)+");\n"}else I+="\n_params"+k+" = _paramsE"+F+";\n"}if(L){var B=Object.keys(L),b=B.length,g="";f||A||(I+="{\n"),u.each(B,function(e,r){var a=s(L[e],n,t);u.isObject(a)&&(g+=a.filterStr,a=a.valueStr),f||"style"!==e||(a="p1.styleProps("+a+")");var i;i=f?e:u.fixPropName(e),I+=A?f?"_params"+k+" += ' "+i+"=\"' + "+a+" + '\"';\n":"_params"+k+"."+i+" = "+a+";\n":f?(r>0?"  + ":"")+"' "+i+"=\"' + "+a+" + '\"'"+(r==b-1?";":"")+"\n":"  "+i+": "+a+(b-1>r?",\n":"")},!1,!1),f||A||(I+="\n};\n"),""!==g&&(I=g+I),o+=I}}var q,K;f?(K=n._children++,o+="var _children"+K+" = '';\n"):(q=n._compParam++,o+="var _compParam"+q+" = [_type"+E+", "+(""!==I?"_params"+k:"null")+"];\n"),o+=p(e.content,t,n,f?{_children:"_children"+K}:{_compParam:"_compParam"+q}),o+=l(3,i,f?{_type:E,_params:""!==I?k:null,_children:K,_selfClose:e.selfCloseTag}:{_compParam:q},t)}return o}function p(e,t,n,r){var a="";return e?(u.each(e,function(e){a+=o(e,t,n,r)},!1,!0),a):a}function l(e,t,n,r){var a,i=r.useString;switch(e){case 1:a=n.text;break;case 2:a="_expr"+n._expr+".apply(_this"+n._this+", _dataRefer"+n._dataRefer+")";break;case 3:i?(a="'<' + _type"+n._type+" + "+(null!=n._params?"_params"+n._params+" + ":""),n._selfClose?a+="'/>'":(a+="'>'",a+=" + _children"+n._children+" + ",a+="'</' + _type"+n._type+" + '>'")):a="p1.compPort.apply(p1.compLib, _compParam"+n._compParam+")"}return"1"===t?"\nreturn "+a+";":"2"===t?i?"\nret += "+a+";\n":"\nret.push("+a+");\n":t._paramsE?"\n"+a+";\n":i?"\n"+t._children+" += "+a+";\n":"\n"+t._compParam+".push("+a+");\n"}var u=(n(1),n(2)),c=u.exprConfig,f=u.filterConfig,m=n(18);e.exports=function(e,t){var n={useString:t,_no:0,_noT:0};return r(e,n,n._no),n}},function(e,t){"use strict";function n(e){return e.replace(a,function(e,t){return r[t]})}var r={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">"},a=RegExp("&("+Object.keys(r).join("|")+");","g");e.exports=n},function(e,t,n){"use strict";function r(e){var t,n;if(this&&(t=this.tmplKey),t&&(n=g.strTmpls[t]))return n;var r=v.isString(e),s=e,p=arguments,l=0,u=[],c="";r&&(s=e.split(h));var f=s.length;return v.each(s,function(e,t){var n="";if(f-1>t){var r=p[t+1],a=e.length-1,i="@"===e[a];!v.isString(r)||i?(n="_nj-split"+l+"_",i&&(e=e.substr(0,a),r=x(r)),u.push(r),l++):n=r}c+=e+n},!1,!0),c=i(c),null==t&&(t=v.uniqueKey(c+o(u)),n=g.strTmpls[t])?n:(n=a(c,u),m(n,t),g.strTmpls[t]=n,n)}function a(e,t){for(var n,r=[],a={elem:r,elemName:"root",parent:null},i=null,o=d.checkElem();n=o.exec(e);){var p=n[1],u=n[2],m=n[3],g=n[4];p&&(/\s/.test(p[p.length-1])&&(p=s(p)),f(p,a.elem,t)),u&&("/"===m[0]?m==="/"+a.elemName&&(a=a.parent):"/"===u[u.length-2]?c(u,m,a.elem,t):(i=a,a={elem:[],elemName:m,parent:i},i.elem.push(a.elem),l(u,m,a.elem,t))),g&&(/\s/.test(g[0])&&(g=s(g)),f(g,a.elem,t))}return r}function i(e){return e.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+([^\s<]*)\s+</g,">$1<").trim()}function s(e){return e.replace(/\n/g,"").trim()}function o(e){var t="";return v.each(e,function(e){t+=v.isArray(e)?"|"+p(e,!0):"|"+JSON.stringify(e)},!1,!0),t}function p(e,t){var n;if(t||v.isArray(e))if(null!=e.njKey)n="+"+e.njKey;else{n="";for(var r=0,a=e.length;a>r;r++)n+=p(e[r])}else n="+"+e;return n}function l(e,t,n,r,a){var i,s;if(t[0]===d.exprRule)i=e.substring(1,e.length-1);else{var o=u(e,r);i=o.elem,s=o.params}if(a){var p=[i];s&&p.push(s),n.push(p)}else n.push(i),s&&n.push(s)}function u(e,t){var n,r=d.exprRule,a=d.beginRule,i=d.endRule;return e=e.replace(/([^\s={}>]+)=['"]?_nj-split(\d+)_['"]?/g,function(e,s,o){return n||(n=[r+"params"]),n.push([r+"param "+a+"'"+s+"'"+i,t[o]]),""}),e=e.replace(d.replaceBraceParam(),function(e,t,s){s=s.trim();var o=s.replace(/\.\.\//g,"");return 0===o.indexOf("...")?(n||(n=[r+"params"]),n.push([r+"spreadParam "+a+s.replace(/\.\.\./g,"")+i+"/"])," "):" "+o+"="+e.trim()}),{elem:e,params:n}}function c(e,t,n,r){t===d.exprRule+"else"?n.push(e.substr(1,5)):l(e,t,n,r,!0)}function f(e,t,n){for(var r,a=/_nj-split(\d+)_/g,i=[];r=a.exec(e);)i.push(r[1]);i.length?v.each(e.split(/_nj-split(?:\d+)_/),function(e){""!==e&&t.push(e);var r=i.shift();null!=r&&t.push(n[r])},!1,!0):t.push(e)}function m(e,t){e.njKey=t,e.render=function(){return g.compile(this,this.njKey).apply(null,arguments)},e.renderComp=function(){return g.compileComponent(this,this.njKey).apply(null,arguments)}}var g=n(1),v=n(3),h=(n(5),/\$\{\d+\}/),d=g.tmplRule,x=n(20);g.strTmpls={},e.exports=r},function(e,t){"use strict";e.exports=function(e){return{_njShim:e}}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e){return function(){return r.apply({tmplKey:e},arguments)}}},function(e,t){"use strict";e.exports=function(e){var t=document;t.addEventListener?t.addEventListener("DOMContentLoaded",e,!1):self.attachEvent("onload",e)}}])});
//# sourceMappingURL=nornj.min.js.map